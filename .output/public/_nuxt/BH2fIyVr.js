const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BH6je_ft.js","./qcAyaCsh.js","./entry.DO5d1tXt.css","./CV9EyYCX.js"])))=>i.map(i=>d[i]);
import{r as n,g as yt,D as Ia,c as l,o as i,a as t,t as d,l as v,i as k,v as Ua,d as V,z as st,_ as Ea,u as Aa,E as Sa,y as b,G as Ae,A as Pa,h as Fa,b as L,F as R,k as j,m as F,q as O,H as xt,w as H,I as Se,j as oe,n as et,C as Ke}from"./qcAyaCsh.js";import{u as ht,a as $a,U as qe}from"./B3lNVSEr.js";import{P as Ta}from"./BwqIjmm3.js";import{_ as gt}from"./Bf31Cja4.js";import{u as Na}from"./BlnrnVG4.js";import{l as Pe,f as tt,a as La,b as Ra,s as ja,c as Va,r as Da,d as za,e as Oa,g as bt}from"./3xuymguz.js";import{isApiEnabled as he,apiFetch as at}from"./BH6je_ft.js";import{u as Ma}from"./BSU2ZXQ6.js";import{f as Ka,s as qa}from"./BA3JyHsk.js";import{f as Ga,d as Ba,u as Ha,c as Ja}from"./EwfqqmZK.js";import{S as Qa}from"./CGbtcE1L.js";import{fetchUsersApi as Xa,deleteUserApi as Za,updateUserApi as Ya,createUserApi as Wa}from"./BVG6iaWI.js";import"./CV9EyYCX.js";const es={class:"space-y-4"},ts={class:"text-center"},as={class:"text-lg font-semibold text-slate-200 mb-2"},ss={class:"text-sm text-slate-400"},os={class:"flex flex-col items-center space-y-4"},ls={class:"relative bg-slate-800 rounded-lg overflow-hidden",style:{width:"320px",height:"240px"}},is=["src"],rs={key:1,class:"w-full h-full flex items-center justify-center"},ns={key:2,class:"absolute inset-0 pointer-events-none"},ds={key:3,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},us={class:"text-center text-white"},cs={class:"text-sm"},vs={key:0,class:"text-red-400 text-sm text-center"},ps={key:1,class:"text-green-400 text-sm text-center"},ms={class:"flex gap-3"},fs=["disabled"],xs=["disabled"],gs=["disabled"],bs={key:2,class:"text-sm text-slate-400 text-center"},ys={__name:"FaceRecognition",props:{mode:{type:String,default:"register",validator:J=>["register","authenticate"].includes(J)},userId:{type:String,default:null}},emits:["success","error"],setup(J,{emit:Fe}){const _=J,E=Fe,w=n(),S=n(!1),x=n(null),o=n(!1),I=n(""),C=n(""),$=n("idle");let z=null;const{getCurrentLocation:A,formatLocation:Q}=ht(),{registerFace:T,authenticateByFace:le,extractFaceEmbedding:X}=$a();yt(()=>{we()}),Ia(()=>{z&&z.getTracks().forEach(c=>c.stop())});async function we(){$.value="requesting";try{await A(),$.value="granted"}catch(c){$.value="denied",console.warn("Location access denied:",c.message)}}async function Ge(){try{I.value="",z=await navigator.mediaDevices.getUserMedia({video:{width:320,height:240}}),w.value&&(w.value.srcObject=z,S.value=!0)}catch(c){I.value="Erro ao acessar câmera. Verifique as permissões.",console.error("Camera error:",c)}}function te(){if(!w.value||!S.value)return;const c=document.createElement("canvas"),g=c.getContext("2d");c.width=w.value.videoWidth,c.height=w.value.videoHeight,g.drawImage(w.value,0,0),x.value=c.toDataURL("image/jpeg",.8),D()}function D(){z&&(z.getTracks().forEach(c=>c.stop()),z=null),S.value=!1}async function M(){if(x.value){o.value=!0,I.value="",C.value="";try{const g=await(await fetch(x.value)).blob(),Be=new File([g],"face.jpg",{type:"image/jpeg"}),K=await X(Be);let Ce=null;if($.value==="granted")try{const q=await A();Ce=Q(q)}catch(q){console.warn("Failed to get location:",q.message)}const ce={faceEmbedding:K,ipAddress:"",location:Ce};if(_.mode==="register"){if(!_.userId)throw new Error("User ID é obrigatório para registro");const q=await T(_.userId,ce);C.value="Face registrada com sucesso!",E("success",q)}else{const q=await le(ce);C.value=`Bem-vindo, ${q.name}!`,E("success",q)}}catch(c){I.value=c.message||"Erro durante o processamento",E("error",c)}finally{o.value=!1}}}function $e(){D(),x.value=null,I.value="",C.value="",o.value=!1}return(c,g)=>(i(),l("div",es,[t("div",ts,[t("h3",as,d(J.mode==="register"?"Cadastrar Face":"Reconhecimento Facial"),1),t("p",ss,d(J.mode==="register"?"Tire uma foto para registrar seu rosto":"Posicione seu rosto na câmera para autenticação"),1)]),t("div",os,[t("div",ls,[k(t("video",{ref_key:"videoElement",ref:w,class:"w-full h-full object-cover",autoplay:"",muted:"",playsinline:""},null,512),[[Ua,!x.value&&S.value]]),x.value?(i(),l("img",{key:0,src:x.value,class:"w-full h-full object-cover",alt:"Captured face"},null,8,is)):v("",!0),!S.value&&!x.value?(i(),l("div",rs,[...g[0]||(g[0]=[t("div",{class:"text-center text-slate-400"},[t("i",{class:"fa-solid fa-camera text-4xl mb-2"}),t("p",{class:"text-sm"},"Câmera inativa")],-1)])])):v("",!0),S.value&&!x.value?(i(),l("div",ns,[...g[1]||(g[1]=[t("div",{class:"w-full h-full border-2 border-dashed border-indigo-500/50 rounded-lg flex items-center justify-center"},[t("div",{class:"w-32 h-32 border-2 border-indigo-500 rounded-full animate-pulse"})],-1)])])):v("",!0),o.value?(i(),l("div",ds,[t("div",us,[g[2]||(g[2]=t("i",{class:"fa-solid fa-spinner fa-spin text-2xl mb-2"},null,-1)),t("p",cs,d(J.mode==="register"?"Registrando...":"Reconhecendo..."),1)])])):v("",!0)]),I.value?(i(),l("div",vs,[g[3]||(g[3]=t("i",{class:"fa-solid fa-exclamation-triangle mr-1"},null,-1)),V(" "+d(I.value),1)])):v("",!0),C.value?(i(),l("div",ps,[g[4]||(g[4]=t("i",{class:"fa-solid fa-check-circle mr-1"},null,-1)),V(" "+d(C.value),1)])):v("",!0),t("div",ms,[!S.value&&!x.value?(i(),l("button",{key:0,onClick:Ge,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2",disabled:o.value},[...g[5]||(g[5]=[t("i",{class:"fa-solid fa-camera"},null,-1),V(" Iniciar Câmera ",-1)])],8,fs)):v("",!0),S.value&&!x.value?(i(),l("button",{key:1,onClick:te,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2",disabled:o.value},[...g[6]||(g[6]=[t("i",{class:"fa-solid fa-camera-retro"},null,-1),V(" Capturar ",-1)])],8,xs)):v("",!0),x.value&&!o.value?(i(),l("button",{key:2,onClick:M,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2"},[g[7]||(g[7]=t("i",{class:"fa-solid fa-brain"},null,-1)),V(" "+d(J.mode==="register"?"Registrar":"Autenticar"),1)])):v("",!0),x.value||S.value?(i(),l("button",{key:3,onClick:$e,class:"bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2",disabled:o.value},[...g[8]||(g[8]=[t("i",{class:"fa-solid fa-redo"},null,-1),V(" Refazer ",-1)])],8,gs)):v("",!0)]),$.value==="requesting"?(i(),l("div",bs,[...g[9]||(g[9]=[t("i",{class:"fa-solid fa-location-dot mr-1"},null,-1),V(" Solicitando permissão de localização... ",-1)])])):v("",!0)])]))}};function hs(){return{migrateTemporaryFileToUser:async(_,E,w,S)=>{try{const{apiFetch:x}=await st(async()=>{const{apiFetch:C}=await import("./BH6je_ft.js");return{apiFetch:C}},__vite__mapDeps([0,1,2,3]),import.meta.url),o=new URLSearchParams({userId:_,tempObjectKey:E,filename:w,fileType:S}),I=await x(`/api/v1/temp/files/migrate?${o.toString()}`,{method:"POST"});if(!I.success)throw new Error(I.error||"Erro ao migrar arquivo temporário");return{objectKey:I.data.objectKey,publicUrl:I.data.publicUrl,migrated:I.data.migrated}}catch(x){throw console.error("File migration error:",x),x}},getCurrentLocation:async()=>new Promise(_=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(E=>{const{latitude:w,longitude:S}=E.coords;_(`${w},${S}`)},E=>{console.warn("Geolocation error:",E),_(null)},{timeout:5e3,enableHighAccuracy:!1}):_(null)})}}const ws={class:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 relative overflow-hidden"},Cs={class:"relative backdrop-blur-xl border-b border-white/10"},ks={class:"relative px-6"},_s={class:"flex space-x-8 overflow-x-auto"},Is=["onClick"],Us={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-600/10 to-indigo-600/10 rounded-t-lg -z-10"},Es={class:"relative z-10 p-6"},As={class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mb-6","aria-label":"Resumo geral"},Ss={class:"flex items-start justify-between gap-3"},Ps={class:"space-y-2 min-w-0"},Fs={class:"text-[11px] font-semibold uppercase tracking-wide text-slate-400"},$s={class:"text-3xl font-bold text-white"},Ts={key:0},Ns={key:1,class:"inline-flex items-center gap-2 text-slate-500 text-sm"},Ls={key:0,class:"text-xs text-slate-300/80"},Rs={class:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600/20 to-purple-600/20 text-indigo-300"},js={key:0},Vs={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3"},Ds=["disabled"],zs={class:"bg-gray-800 rounded-lg overflow-hidden"},Os={key:0,class:"p-8 text-center"},Ms={key:1,class:"overflow-x-auto"},Ks={class:"w-full text-sm text-left min-w-[800px]"},qs={class:"px-3 md:px-6 py-3 font-medium"},Gs={class:"px-3 md:px-6 py-3 text-slate-300"},Bs={class:"px-3 md:px-6 py-3"},Hs={class:"flex gap-1 flex-wrap"},Js={class:"px-3 md:px-6 py-3"},Qs={class:"text-xs text-slate-400"},Xs={key:0},Zs={key:1},Ys={key:2},Ws={key:3,class:"text-slate-500"},eo={class:"px-3 md:px-6 py-3"},to={class:"text-xs text-slate-400"},ao={key:0},so={key:1},oo={key:2},lo={key:3,class:"text-slate-500"},io={class:"px-3 md:px-6 py-3"},ro={class:"text-xs text-slate-400"},no={key:0},uo={key:1,class:"text-slate-500"},co={class:"px-3 md:px-6 py-3"},vo={class:"flex items-center gap-1 md:gap-2"},po=["onClick"],mo=["onClick"],fo={key:1},xo={class:"bg-gray-800 rounded-lg p-4 space-y-3"},go={class:"space-y-3"},bo={class:"flex flex-wrap gap-3 items-end"},yo={class:"min-w-[16rem] flex-1 sm:flex-none"},ho={class:"flex-1 min-w-[16rem]"},wo={class:"mt-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2"},Co=["onClick"],ko={class:"w-9 h-9 rounded-lg bg-slate-900/70 flex items-center justify-center text-base"},_o={class:"flex-1"},Io={class:"text-sm font-medium text-slate-100"},Uo={class:"text-[11px] text-slate-400"},Eo={key:0,class:"fa-solid fa-circle-check text-indigo-400 absolute top-2 right-2"},Ao={class:"flex-1 min-w-[16rem]"},So={class:"flex items-center gap-2"},Po=["disabled"],Fo={key:0,class:"fa-solid fa-spinner fa-spin"},$o={key:1,class:"fa-solid fa-plus"},To={class:"mt-1 space-y-2"},No=["onClick"],Lo=["checked"],Ro={class:"text-sm font-medium"},jo={class:"text-[11px] text-slate-400"},Vo={class:"text-[11px] text-indigo-300"},Do={class:"flex items-center gap-2"},zo=["onClick","title","aria-label"],Oo=["onClick"],Mo=["onClick"],Ko={key:2},qo={class:"mb-4"},Go={class:"flex flex-wrap gap-2"},Bo=["onClick"],Ho={class:"bg-gray-800 rounded-lg overflow-hidden"},Jo={key:0,class:"p-8 text-center"},Qo={key:0,class:"text-slate-300"},Xo={key:1,class:"text-slate-300"},Zo={key:2,class:"text-slate-400 text-sm"},Yo={key:1,class:"divide-y divide-slate-700"},Wo={class:"flex items-center gap-3"},el={class:"truncate"},tl={class:"text-xs text-slate-400"},al={class:"text-[10px] px-2 py-0.5 bg-slate-700/60 text-slate-300 rounded-md"},sl={class:"flex items-center gap-2"},ol=["onClick"],ll=["onClick"],il={key:3},rl={class:"space-y-3 max-h-[70vh] overflow-y-auto pr-1"},nl={class:"space-y-2"},dl={class:"rounded-md border border-slate-700/60 bg-slate-900/40 px-3 py-2"},ul={class:"text-white text-sm font-semibold"},cl={class:"text-[11px] text-slate-400"},vl=["placeholder"],pl={key:0,class:"text-[11px] text-red-400 mt-1"},ml={class:"flex items-center justify-end gap-2"},fl=["disabled"],xl={class:"space-y-4"},gl=["value"],bl={class:"mt-2 grid grid-cols-5 gap-2"},yl=["title","onClick"],hl={class:"mt-4 p-3 bg-slate-800/40 rounded-lg"},wl={class:"flex items-center gap-3"},Cl={class:"text-sm text-white"},kl={class:"text-[10px] px-2 py-0.5 bg-slate-700/60 text-slate-300 rounded-md"},_l={class:"flex items-center justify-end gap-2"},Il={class:"space-y-4 max-h-[60vh] md:max-h-[70vh] overflow-y-auto pr-1"},Ul={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},El={class:"flex items-center justify-between"},Al={key:0,class:"flex items-center"},Sl=["title"],Pl={class:"relative"},Fl=["disabled"],$l={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Tl={key:1,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Nl={key:2,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Ll={key:0,class:"text-[11px] text-red-400 mt-1"},Rl={key:1,class:"text-[11px] text-green-400 mt-1"},jl={key:2,class:"text-[11px] text-red-400 mt-1"},Vl={class:"border-t border-slate-700 pt-4"},Dl={class:"border-t border-slate-700 pt-4"},zl={class:"mb-3"},Ol={class:"border-t border-slate-700 pt-4"},Ml={key:0},Kl={class:"mt-2 space-y-2"},ql=["checked","onChange","disabled"],Gl={class:"text-sm text-slate-200"},Bl={key:0,class:"text-[10px] text-slate-400"},Hl={key:0,class:"text-[10px] text-slate-400"},Jl={class:"border-t border-slate-700 pt-4"},Ql={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Xl={class:"border-t border-slate-700 pt-4"},Zl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Yl=["value"],Wl={class:"border-t border-slate-700 pt-4"},ei={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ti=["value"],ai=["placeholder"],si={key:1,class:"border-t border-slate-700 pt-4"},oi={class:"flex items-center justify-end gap-2"},li={__name:"index",setup(J){Aa({title:"Admin"});const Fe=Sa(),{setLastKey:_}=Ma(),E=n("users");n(!1);const w=n([]),S=[{value:"users",label:"Usuários",icon:"fa-solid fa-users"},{value:"pipeline",label:"Esteira",icon:"fa-solid fa-sitemap"},{value:"status",label:"Status",icon:"fa-solid fa-circle-info"},{value:"notifications",label:"Notificações",icon:"fa-solid fa-bell"}],x=n(!1),o=n({id:null,name:"",email:"",password:"",roles:[],cpf:"",cnpj:"",rg:"",banco:"",agencia:"",conta:"",tipoConta:"",pixTipo:"",pixChave:"",fotoPerfilUrl:"",comprovanteEnderecoUrl:"",localizacaoCadastro:"",tipoIdentificacao:"",documentoIdentificacaoUrl:"",documentoIdentificacaoObjectKey:""}),I=n(!1),C=n(null),$=n(""),z=n(null),A=n(!1),Q=n(!1),T=b(()=>o.value.id),le=n(null),X=n([]),{user:we,load:Ge}=Na(),te=n([]),D=n(Pe()),M=n({totalProposals:0,totalAmount:0,averageAmount:0}),$e=n(!1),c=n(!1),g=new Intl.NumberFormat("pt-BR"),Be=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),K=a=>{const e=typeof a=="number"?a:Number(a||0);return g.format(Number.isFinite(e)?e:0)},Ce=a=>{const e=typeof a=="number"?a:Number(a||0);return Be.format(Number.isFinite(e)?e:0)},ce=()=>{if(typeof window>"u")return{};const a=localStorage.getItem("flow-auth-token");return a?{Authorization:`Bearer ${a}`}:{}},q=b(()=>w.value.length),wt=b(()=>w.value.filter(a=>a?.superUser===!0).length),Ct=a=>a?(typeof a?.type=="string"?a.type.trim().toUpperCase():"")==="FINANCIAL"||a?.isFinanceiro===!0:!1,kt=b(()=>D.value.length),_t=b(()=>D.value.filter(a=>a?.active!==!1).length),ot=b(()=>D.value.filter(a=>Ct(a))),It=b(()=>ot.value.length),Ut=b(()=>te.value.length),Et=b(()=>te.value.filter(a=>a?.active).length),At=b(()=>[{key:"users",label:"Usuários cadastrados",value:c.value?K(q.value):"—",subLabel:c.value?`${K(wt.value)} super usuários`:"",icon:"fa-solid fa-users"},{key:"processes",label:"Processos cadastrados",value:c.value?K(kt.value):"—",subLabel:c.value?`${K(_t.value)} ativos • ${K(It.value)} financeiros`:"",icon:"fa-solid fa-diagram-project"},{key:"ai",label:"Integrações de IA",value:c.value?K(Ut.value):"—",subLabel:c.value?`${K(Et.value)} ativos`:"",icon:"fa-solid fa-robot"},{key:"financial",label:"Propostas em esteiras financeiras",value:c.value?K(M.value.totalProposals):"—",subLabel:c.value&&M.value.totalProposals?`${Ce(M.value.totalAmount)} • Ticket médio ${Ce(M.value.averageAmount)}`:c.value?"Sem propostas registradas":"",icon:"fa-solid fa-coins"}]),ie=[{value:"admin",label:"Administrador"},{value:"manager",label:"Gerente"},{value:"analyst",label:"Analista"},{value:"user",label:"Usuário"},{value:"viewer",label:"Visualizador"}],He=b(()=>{const a=Array.isArray(we.value?.roles)?we.value.roles:[];return new Set(a.filter(e=>typeof e=="string").map(e=>e.trim().toLowerCase()).filter(Boolean))}),Te=b(()=>we.value?.superUser===!0),Je=b(()=>{if(Te.value)return!0;const a=He.value;return a.size===0?!1:!(a.size===1&&a.has("guest"))}),ke=b(()=>{if(Te.value||!Je.value)return!0;const a=He.value;return a.has("admin")||a.has("manager")}),St=b(()=>{if(Te.value||!Je.value)return ie;const a=He.value;return a.has("admin")?ie.filter(e=>["user","manager","analyst"].includes(e.value)):a.has("manager")?ie.filter(e=>e.value==="analyst"):ie}),Pt=b(()=>new Set(St.value.map(a=>a.value))),Qe=a=>Te.value||!Je.value?!0:Pt.value.has(a),lt=b(()=>(Array.isArray(o.value?.roles)?o.value.roles:[]).filter(e=>!ie.some(s=>s.value===e))),Ft=[{value:"CORRENTE",label:"Conta Corrente"},{value:"POUPANCA",label:"Poupança"}],$t=[{value:"CPF",label:"CPF"},{value:"CNPJ",label:"CNPJ"},{value:"EMAIL",label:"Email"},{value:"TELEFONE",label:"Telefone"},{value:"CHAVE_ALEATORIA",label:"Chave Aleatória"},{value:"OUTROS",label:"Outros"}];async function Tt(){if(!he()){te.value=[];return}const a=ce();if(!a.Authorization){te.value=[];return}try{const e=await at("/ai-providers",{headers:a,silent:!0});te.value=Array.isArray(e)?e:[]}catch(e){console.warn("[Admin] Falha ao carregar provedores de IA",e),te.value=[]}}async function Ne(){if(!he()){M.value={totalProposals:0,totalAmount:0,averageAmount:0};return}const a=ce();if(!a.Authorization){M.value={totalProposals:0,totalAmount:0,averageAmount:0};return}const e=ot.value;if(!e.length){M.value={totalProposals:0,totalAmount:0,averageAmount:0};return}let s=0,r=0;for(const p of e)try{const m=await at(`/processes/${encodeURIComponent(p.key)}/proposals/stats`,{headers:a,silent:!0});m&&(s+=Number(m.totalProposals||0),r+=Number(m.totalAmount||0))}catch(m){console.warn(`[Admin] Falha ao obter stats do processo ${p.key}`,m)}M.value={totalProposals:s,totalAmount:r,averageAmount:s?r/s:0}}async function Nt(){const a=Pe();if(!he()){D.value=a,y.value=a,await Ne();return}const e=ce();if(!e.Authorization){D.value=a,y.value=a,await Ne();return}try{const s=await at("/processes",{headers:e,silent:!0}),r=Array.isArray(s)?s:[],p=r.length?r:a;D.value=p,y.value=p,!u.value&&p.length&&(u.value=p[0].key,_(u.value)),await Ne()}catch(s){console.warn("[Admin] Falha ao carregar processos",s),D.value=a,y.value=a,await Ne()}}async function ve(){c.value=!1,$e.value=!0;try{await Promise.allSettled([Tt(),Nt()])}finally{$e.value=!1,c.value=!0}}const{success:G,error:h,info:it}=Pa();b(()=>y.value.find(e=>e.key===u.value)?.name||"");const y=n(Pe()),u=n(y.value[0]?.key||""),Le=n(""),_e=n("GENERIC"),pe=n(!1),re=n([]),Z=n([]);n(!1),n("create");const Lt=n([]),Rt=n(""),jt=[{value:"GENERIC",label:"Pipeline Livre",description:"Fluxo flexível para diferentes contextos.",icon:"fa-solid fa-diagram-project text-slate-300"},{value:"FINANCIAL",label:"Financeiro",description:"Controle de etapas com indicadores financeiros.",icon:"fa-solid fa-dollar-sign text-emerald-400"},{value:"TODO_LIST",label:"To-do List",description:"Gestão de tarefas e checklists colaborativos.",icon:"fa-solid fa-list-check text-sky-400"},{value:"LEAD_QUALIFICATION",label:"Qualificação de Leads",description:"Integração direta com o cadastro de leads.",icon:"fa-solid fa-user-check text-indigo-400"}],Re={GENERIC:"Pipeline Livre",FINANCIAL:"Financeiro",TODO_LIST:"To-do List",LEAD_QUALIFICATION:"Qualificação de Leads"},Ie={GENERIC:[{id:"briefing",title:"Briefing Inicial",slaDays:2,color:"sky"},{id:"execucao",title:"Execução",slaDays:5,color:"violet"},{id:"revisao",title:"Revisão",slaDays:3,color:"amber"}],FINANCIAL:[{id:"entrada",title:"Entrada de Dados",slaDays:2,color:"emerald"},{id:"analise_credito",title:"Análise de Crédito",slaDays:3,color:"cyan"},{id:"formalizacao",title:"Formalização",slaDays:4,color:"indigo"}],TODO_LIST:[{id:"planejamento",title:"Planejamento",slaDays:1,color:"blue"},{id:"execucao_tarefas",title:"Execução de Tarefas",slaDays:5,color:"purple"},{id:"validacao",title:"Validação",slaDays:2,color:"lime"}],LEAD_QUALIFICATION:[{id:"captacao",title:"Captação",slaDays:1,color:"blue",defaultStatus:"Novo Lead"},{id:"contato",title:"Contato Inicial",slaDays:2,color:"emerald",defaultStatus:"Contato Realizado"},{id:"qualificacao",title:"Qualificação",slaDays:3,color:"violet",defaultStatus:"Qualificado"},{id:"negociacao",title:"Negociação",slaDays:2,color:"amber",defaultStatus:"Em Negociação"}]};function Vt(a,e){const s=typeof a=="string"?a.trim().toUpperCase():void 0;return s?Re[s]||Re.GENERIC:e?Re.FINANCIAL:Re.GENERIC}async function Dt(){const a=Le.value.trim();if(!a)return;const e=globalThis.crypto?.randomUUID?.()||Math.random().toString(36).slice(2)+Date.now().toString(36);if(pe.value)return;pe.value=!0;const s=_e.value,r=Ie[s]?[...Ie[s]]:[],p=Y(re.value);if(y.value=[...y.value,{key:e,name:a,active:!0,type:s,isFinanceiro:s==="FINANCIAL",allowedUserIds:p}],await La(e,a||e,s,p)){if(u.value=e,_(e),r.length)try{await Ra(e,r),P.value=[...r]}catch(f){console.error("Failed to apply blueprint:",f)}Le.value="",_e.value="GENERIC",re.value=[],Z.value=Y(p),G("Processo criado"),await ve()}else y.value=y.value.filter(f=>f.key!==e),h("Falha ao criar processo. Tente novamente.");pe.value=!1}const P=n([...Ie.GENERIC]),me=n(""),Ue=b(()=>(w.value||[]).filter(a=>typeof a?.id=="string"&&a.id).map(a=>({id:String(a.id),label:[a.name,a.email].filter(e=>typeof e=="string"&&e.trim()).join(" — ")||String(a.id)}))),rt=b(()=>{const a=new Map;for(const e of w.value||[])e?.id&&a.set(String(e.id),{id:String(e.id),name:e.name,email:e.email,label:[e.name,e.email].filter(s=>typeof s=="string"&&s.trim()).join(" — ")||String(e.id)});return a});b(()=>Y(re.value).map(a=>rt.value.get(a)||{id:a,label:a})),b(()=>Y(Z.value).map(a=>rt.value.get(a)||{id:a,label:a}));function je(){const a=y.value.find(r=>r.key===u.value),e=Y(a?.allowedUserIds||[]),s=new Set(Ue.value.map(r=>r.id));Z.value=e.filter(r=>s.size?s.has(r):!0)}function Y(a){return Array.from(new Set((a||[]).filter(e=>typeof e=="string").map(e=>e.trim()).filter(Boolean)))}Ae(Ue,()=>{const a=new Set(Ue.value.map(e=>e.id));re.value=Y(re.value.filter(e=>a.size?a.has(e):!0)),Z.value=Y(Z.value.filter(e=>a.size?a.has(e):!0))}),Ae(u,()=>{je()}),Ae(y,()=>{je()}),je(),b(()=>{const a=Rt.value.trim().toLowerCase();return a?Ue.value.filter(e=>e.label.toLowerCase().includes(a)):Ue.value}),b(()=>new Set(Lt.value));const fe=n(!1);function zt(){fe.value=!0}function Ot(){fe.value=!1}async function Mt(){if(u.value){if(!he()){const r=Va(me.value||u.value),m=(f=>{const U=new Set(Pe().map(W=>W.key));if(!U.has(f)||f===u.value)return f;let B=2;for(;U.has(`${f}-${B}`);)B++;return`${f}-${B}`})(r);if(m!==u.value){if(!Da(u.value,m).ok)return;u.value=m,_(m)}}const a=me.value||u.value,e=Y(Z.value),s=await za(u.value,{name:a,allowedUserIds:e});s&&(y.value=y.value.map(r=>r.key===u.value?{...r,name:a,allowedUserIds:e}:r));try{const r=(P.value||[]).map(m=>({id:m.id,title:m.title})),p=await Oa(u.value,r,P.value);if(Array.isArray(p)&&p.length){const m=p.map(f=>({id:f.id,title:f.title,slaDays:f.slaDays,color:f.color}));P.value=m;try{const f=`pipeline_stage_forms__${u.value}`,U=localStorage.getItem(f),B=U?JSON.parse(U)||{}:{},W={...B};for(let de=0;de<m.length;de++){const se=r[de]?.id,ee=m[de]?.id;if(!(!se||!ee||se===ee)&&B[se]&&(W[ee]=B[se],delete W[se],he()&&/^[a-fA-F0-9]{24}$/.test(ee))){const Me=(W[ee]||[]).map((ue,ye)=>({...ue,order:ye}));try{await qa(ee,Me)}catch{}}}localStorage.setItem(f,JSON.stringify(W))}catch{}}s?G("Esteira salva"):it("Etapas salvas; falha ao atualizar dados do processo"),await ve(),fe.value=!1}catch{h("Falha ao salvar etapas. Verifique a conexão.");return}}else fe.value=!1}Ae(()=>Fe.query.tab,a=>{const e=String(a||"users");["users","pipeline","status","notifications"].includes(e)&&(E.value=e)},{immediate:!0}),yt(async()=>{if(Ge(),await ze(),await Oe(),await ve(),!u.value&&D.value.length&&(u.value=D.value[0].key,_(u.value)),!u.value)return;const a=await tt(u.value);P.value=Array.isArray(a)?a.map(e=>({id:e.id,title:e.title,slaDays:e.slaDays,color:e.color})):[],await Xe()}),Ae(u,async a=>{if(!a){P.value=[];return}const e=await tt(a);P.value=Array.isArray(e)?e.map(r=>({id:r.id,title:r.title,slaDays:r.slaDays,color:r.color})):[],_(a);const s=y.value.find(r=>r.key===a);me.value=s?.name||a,await Xe()});function Kt(a){ja(a.key,a.active===!1),y.value=Pe(),ve()}async function qt(a){u.value=a.key;const e=await tt(a.key);P.value=Array.isArray(e)?e.map(s=>({id:s.id,title:s.title,slaDays:s.slaDays,color:s.color})):[],!P.value.length&&a.type&&Ie[a.type]&&(P.value=[...Ie[a.type]]),_(a.key),me.value=a.name||a.key,Z.value=Y(a.allowedUserIds),await Xe(),zt()}async function Xe(){if(he())try{const a=`pipeline_stage_forms__${u.value}`,e=localStorage.getItem(a),r={...e?JSON.parse(e)||{}:{}};for(const p of P.value||[]){const m=p?.id;if(!(!m||!/^[a-fA-F0-9]{24}$/.test(m)))try{const f=await Ka(m);Array.isArray(f)&&(r[m]=f.map(U=>({id:U.id||String(Date.now()),label:U.label,type:U.type,required:!!U.required,placeholder:U.placeholder||"",options:Array.isArray(U.options)?U.options:[]})))}catch{}}localStorage.setItem(a,JSON.stringify(r))}catch{}}const Ve=n(!1),ae=n(null),xe=n(""),Ze=b(()=>{const a=(ae.value?.name||"").trim().toLowerCase(),e=xe.value.trim().toLowerCase();return!!a&&e===a}),De=n(!1);function Gt(a){ae.value=a,xe.value="",Ve.value=!0}function nt(){Ve.value=!1,ae.value=null,xe.value=""}async function Bt(){const a=ae.value;if(!a||!Ze.value)return;const e=a.key;y.value=y.value.filter(r=>r.key!==e),u.value===e&&(u.value=y.value[0]?.key||"",P.value=[],u.value&&_(u.value)),await bt(e)?(G("Processo excluído"),await ve()):(y.value=[...y.value,a],h("Falha ao excluir. Tente novamente.")),nt()}function Ht(a){if((a.ctrlKey||a.metaKey)&&a.key.toLowerCase()==="v"){a.preventDefault();return}}function Jt(){De.value=!0}function dt(){De.value=!1}function Qt(){try{y.value.map(e=>e.key).forEach(e=>bt(e)),localStorage.removeItem("pipeline_processes")}catch{}y.value=[],u.value="",P.value=[],_(""),ve(),dt()}const ge=n([]),Ye=Qa,Ee=n(null),ne=n(!1),N=n({id:null,name:"",color:"#3b82f6",category:"ESTEIRA"}),be=n(!1),Xt=[{name:"Azul",value:"#3b82f6"},{name:"Verde",value:"#10b981"},{name:"Vermelho",value:"#ef4444"},{name:"Amarelo",value:"#f59e0b"},{name:"Roxo",value:"#8b5cf6"},{name:"Rosa",value:"#ec4899"},{name:"Laranja",value:"#f97316"},{name:"Ciano",value:"#06b6d4"},{name:"Lima",value:"#65a30d"},{name:"Índigo",value:"#6366f1"}],ut=b(()=>Ee.value===null?ge.value:ge.value.filter(a=>a.category===Ee.value));async function ze(){try{console.log("Loading status list..."),ge.value=await Ga(),console.log("Status list loaded:",ge.value.length,"items")}catch(a){console.error("Failed to load status list:",a),h("Erro ao carregar status")}}function ct(a){Ee.value=a}function vt(a){const e=Ye.find(s=>s.value===a);return e?e.label:"Desconhecido"}function Zt(){N.value={id:null,name:"",color:"#3b82f6",category:"ESTEIRA"},be.value=!1,ne.value=!0}function Yt(a){N.value={id:a.id,name:a.name,color:a.color,category:a.category},be.value=!0,ne.value=!0}async function Wt(){try{const{id:a,name:e,color:s,category:r}=N.value;if(!e.trim()){h("Nome é obrigatório");return}be.value&&a?await Ha(a,{name:e.trim(),color:s,category:r})&&(G("Status atualizado com sucesso"),await ze(),ne.value=!1):await Ja({name:e.trim(),color:s,category:r})&&(G("Status criado com sucesso"),await ze(),ne.value=!1)}catch(a){console.error("Error saving status:",a),h("Erro ao salvar status")}}async function ea(a){if(confirm("Tem certeza que deseja excluir este status?"))try{await Ba(a)?(G("Status excluído com sucesso"),await ze()):h("Erro ao excluir status")}catch(e){console.error("Error deleting status:",e),h("Erro ao excluir status")}}function ta(){ne.value=!1,N.value={id:null,name:"",color:"#3b82f6",category:"ESTEIRA"},be.value=!1}function aa(a){if(!a?.color)return`
      background: linear-gradient(135deg, rgba(156, 163, 175, 0.15), rgba(156, 163, 175, 0.05));
      color: #9ca3af;
      border: 1px solid rgba(156, 163, 175, 0.3);
      box-shadow: 0 2px 8px rgba(156, 163, 175, 0.15);
      backdrop-filter: blur(4px);
    `.replace(/\s+/g," ").trim();const e=a.color,s=(r,p=.2)=>{const m=parseInt(r.slice(1,3),16),f=parseInt(r.slice(3,5),16),U=parseInt(r.slice(5,7),16);return`rgba(${m}, ${f}, ${U}, ${p})`};return`
    background: linear-gradient(135deg, ${s(e,.15)}, ${s(e,.05)});
    color: ${e};
    border: 1px solid ${s(e,.3)};
    box-shadow: 0 2px 8px ${s(e,.15)};
    backdrop-filter: blur(4px);
  `.replace(/\s+/g," ").trim()}async function Oe(){try{console.log("Loading users list..."),w.value=await Xa(),console.log("Users list loaded:",w.value.length,"items")}catch(a){console.error("Failed to load users list:",a),h("Erro ao carregar usuários")}je()}const{getCurrentLocation:sa,formatLocation:oa}=ht(),{migrateTemporaryFileToUser:la}=hs();async function ia(){if(!ke.value){h("Você não tem permissão para criar usuários");return}let a=null;try{const e=await sa();a=oa(e)}catch(e){console.warn("Não foi possível obter localização:",e.message)}o.value={id:null,name:"",email:"",password:"",roles:[],cpf:"",cnpj:"",rg:"",banco:"",agencia:"",conta:"",tipoConta:"",pixTipo:"",pixChave:"",fotoPerfilUrl:"",comprovanteEnderecoUrl:"",localizacaoCadastro:a||"",tipoIdentificacao:"",documentoIdentificacaoUrl:"",documentoIdentificacaoObjectKey:""},A.value=!1,I.value=!1,C.value=null,$.value="",Q.value=!1,le.value=`session_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,X.value=[],x.value=!0}function ra(a){if(!ke.value){h("Você não tem permissão para editar usuários");return}o.value={id:a.id,name:a.name,email:a.email,password:"",roles:[...a.roles],cpf:a.cpf||"",cnpj:a.cnpj||"",rg:a.rg||"",banco:a.banco||"",agencia:a.agencia||"",conta:a.conta||"",tipoConta:a.tipoConta||"",pixTipo:a.pixTipo||"",pixChave:a.pixChave||"",fotoPerfilUrl:a.fotoPerfilUrl||"",comprovanteEnderecoUrl:a.comprovanteEnderecoUrl||"",localizacaoCadastro:a.localizacaoCadastro||"",tipoIdentificacao:a.tipoIdentificacao||"",documentoIdentificacaoUrl:a.documentoIdentificacaoUrl||""},A.value=!0,Q.value=!1,x.value=!0}async function na(){if(!ke.value){h("Você não tem permissão para salvar usuários");return}try{const{id:a,name:e,email:s,password:r,roles:p,cpf:m,cnpj:f,rg:U,banco:B,agencia:W,conta:de,tipoConta:se,pixTipo:ee,pixChave:Me}=o.value;if(!e.trim()){h("Nome é obrigatório");return}if(!s.trim()){h("Email é obrigatório");return}if(p.length===0){h("Selecione pelo menos uma role");return}if(A.value||a)await Ya(a,{name:e.trim(),email:s.trim(),roles:p,cpf:m||void 0,cnpj:f||void 0,rg:U||void 0,banco:B||void 0,agencia:W||void 0,conta:de||void 0,tipoConta:se||void 0,pixTipo:ee||void 0,pixChave:Me||void 0})&&(G("Usuário atualizado com sucesso"),await Oe(),x.value=!1);else{if(!r.trim()){h("Senha é obrigatória");return}if(r.trim().length<6){h("Senha deve ter no mínimo 6 caracteres");return}const ue=await Wa({name:e.trim(),email:s.trim(),password:r.trim(),roles:p,cpf:m||void 0,cnpj:f||void 0,rg:U||void 0,banco:B||void 0,agencia:W||void 0,conta:de||void 0,tipoConta:se||void 0,pixTipo:ee||void 0,pixChave:Me||void 0,fotoPerfilUrl:o.value.fotoPerfilUrl||void 0,comprovanteEnderecoUrl:o.value.comprovanteEnderecoUrl||void 0,localizacaoCadastro:o.value.localizacaoCadastro||void 0});if(ue){if(X.value.length>0){console.log(`Migrando ${X.value.length} arquivos temporários para usuário ${ue.id}`);for(const ye of X.value)try{const We=await la(ue.id,ye.tempObjectKey,ye.filename,ye.type);console.log("Arquivo migrado com sucesso:",We)}catch(We){console.error(`Erro ao migrar arquivo ${ye.filename}:`,We)}}G("Usuário criado com sucesso"),await Oe(),x.value=!1}}}catch(a){console.error("Error saving user:",a),h("Erro ao salvar usuário")}}async function da(a){if(!ke.value){h("Você não tem permissão para excluir usuários");return}if(confirm("Tem certeza que deseja excluir este usuário?"))try{await Za(a)?(G("Usuário excluído com sucesso"),await Oe()):h("Erro ao excluir usuário")}catch(e){console.error("Error deleting user:",e),h("Erro ao excluir usuário")}}function ua(){x.value=!1,o.value={id:null,name:"",email:"",password:"",roles:[],cpf:"",cnpj:"",rg:"",banco:"",agencia:"",conta:"",tipoConta:"",pixTipo:"",pixChave:"",fotoPerfilUrl:"",comprovanteEnderecoUrl:"",localizacaoCadastro:"",tipoIdentificacao:"",documentoIdentificacaoUrl:"",documentoIdentificacaoObjectKey:""},A.value=!1}function ca(a){console.log("Foto de perfil selecionada:",a.name)}function va(a){console.log("Foto de perfil enviada:",a),o.value.fotoPerfilUrl=a.publicUrl,o.value.fotoPerfilObjectKey=a.objectKey,a.isTemporary&&X.value.push({type:"PROFILE_PHOTO",tempObjectKey:a.objectKey,filename:a.filename,sessionId:a.sessionId})}function pt(a){console.log("Comprovante de endereço selecionado:",a.name)}function mt(a){console.log("Comprovante de endereço enviado:",a),o.value.comprovanteEnderecoUrl=a.publicUrl,o.value.comprovanteEnderecoObjectKey=a.objectKey,a.isTemporary&&X.value.push({type:"ADDRESS_PROOF",tempObjectKey:a.objectKey,filename:a.filename,sessionId:a.sessionId})}function pa(a){console.log("Documento de identificação selecionado:",a.name)}function ma(a){console.log("Documento de identificação enviado:",a),o.value.documentoIdentificacaoUrl=a.publicUrl,o.value.documentoIdentificacaoObjectKey=a.objectKey,a.isTemporary&&X.value.push({type:o.value.tipoIdentificacao||"IDENTITY",tempObjectKey:a.objectKey,filename:a.filename,sessionId:a.sessionId})}function fa(a){G("Face registrada com sucesso!"),console.log("Face registration success:",a)}function xa(a){h("Erro ao registrar face: "+a.message),console.error("Face registration error:",a)}function ga(a){if(!Qe(a))return;const e=o.value.roles,s=e.indexOf(a);s>-1?e.splice(s,1):e.push(a)}function ba(a){return a?a.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):""}function ya(a){return a?a.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):""}function ha(a){let e=a.target.value.replace(/\D/g,"");e.length<=11&&(e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),o.value.cpf=e)}function wa(a){let e=a.target.value.replace(/\D/g,"");e.length<=14&&(e=e.replace(/(\d{2})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1/$2"),e=e.replace(/(\d{4})(\d{1,2})$/,"$1-$2"),o.value.cnpj=e)}function Ca(){switch(o.value.pixTipo){case"CPF":return"000.000.000-00";case"CNPJ":return"00.000.000/0000-00";case"EMAIL":return"exemplo@email.com";case"TELEFONE":return"+5511999999999";case"CHAVE_ALEATORIA":return"chave-aleatoria-uuid";default:return"Digite a chave PIX"}}function ka(){C.value=null,$.value="",z.value&&clearTimeout(z.value);const a=o.value.email.trim();a&&a.includes("@")&&!A.value&&!T.value&&(z.value=setTimeout(()=>{ft()},500))}async function ft(){const a=o.value.email.trim(),e=o.value.name.trim();if(!(A.value||T.value)){if(!a||!a.includes("@")){C.value=null,$.value="";return}try{I.value=!0,$.value="";const{apiFetch:s}=await st(async()=>{const{apiFetch:p}=await import("./BH6je_ft.js");return{apiFetch:p}},__vite__mapDeps([0,1,2,3]),import.meta.url);(await s(`/api/v1/users/check-email?email=${encodeURIComponent(a)}`)).available?(C.value=!0,e&&e.length>=2&&await _a()):C.value=!1}catch(s){console.error("Erro ao verificar email:",s),$.value="Erro ao verificar email",C.value=null}finally{I.value=!1}}}async function _a(){const a=o.value.name.trim(),e=o.value.email.trim();if(!(!a||!e||C.value!==!0))try{const{apiFetch:s}=await st(async()=>{const{apiFetch:p}=await import("./BH6je_ft.js");return{apiFetch:p}},__vite__mapDeps([0,1,2,3]),import.meta.url),r=await s("/api/v1/users/create-basic",{method:"POST",body:{name:a,email:e,password:"temp123"}});r.id&&(o.value.id=r.id,it(`Usuário ${a} salvo. Continue preenchendo os dados.`),console.log("Usuário básico criado:",r))}catch(s){console.error("Erro ao criar usuário básico:",s),h("Erro ao salvar usuário. Tente novamente.")}}return(a,e)=>(i(),l("div",ws,[e[98]||(e[98]=Fa('<div class="absolute inset-0 overflow-hidden pointer-events-none" data-v-72e7787f><div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse" data-v-72e7787f></div><div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-500/5 rounded-full blur-3xl animate-pulse" style="animation-delay:2s;" data-v-72e7787f></div><div class="absolute top-1/2 left-1/3 w-60 h-60 bg-cyan-500/3 rounded-full blur-3xl animate-pulse" style="animation-delay:4s;" data-v-72e7787f></div></div><header class="app-header relative backdrop-blur-2xl border-b border-white/5 p-4 shadow-2xl" data-v-72e7787f><div class="absolute inset-0 bg-gradient-to-r from-slate-900/40 via-slate-800/50 to-slate-900/40 backdrop-blur-3xl" data-v-72e7787f></div><div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/[0.02] to-transparent animate-shimmer" data-v-72e7787f></div><div class="relative flex items-center justify-between" data-v-72e7787f><div class="flex items-center gap-6" data-v-72e7787f><div class="relative group" data-v-72e7787f><div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity duration-300" data-v-72e7787f></div><div class="relative p-4 bg-gradient-to-br from-purple-600 via-purple-500 to-indigo-600 rounded-2xl shadow-2xl transform group-hover:scale-105 transition-transform duration-300" data-v-72e7787f><i class="fa-solid fa-cog text-white text-lg" data-v-72e7787f></i></div></div><div class="space-y-1" data-v-72e7787f><h1 class="app-header-title" data-v-72e7787f>Painel Administrativo</h1><p class="app-header-subtitle" data-v-72e7787f> Gerencie usuários, configurações e sistema com total controle </p></div></div></div></header>',2)),t("div",Cs,[e[37]||(e[37]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-slate-900/30 via-slate-800/40 to-slate-900/30"},null,-1)),t("nav",ks,[t("div",_s,[(i(),l(R,null,j(S,s=>t("button",{key:s.value,class:O(["relative py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap transition-all duration-300",E.value===s.value?"border-purple-500 text-purple-400":"border-transparent text-slate-400 hover:text-slate-300 hover:border-slate-600"]),onClick:r=>E.value=s.value},[t("i",{class:O([s.icon,"mr-2"])},null,2),V(" "+d(s.label)+" ",1),E.value===s.value?(i(),l("div",Us)):v("",!0)],10,Is)),64))])])]),t("main",Es,[t("section",As,[(i(!0),l(R,null,j(At.value,s=>(i(),l("article",{key:s.key,class:"relative overflow-hidden rounded-2xl border border-slate-800/70 bg-slate-900/70 p-5 shadow-lg shadow-black/30"},[t("div",Ss,[t("div",Ps,[t("p",Fs,d(s.label),1),t("p",$s,[c.value?(i(),l("span",Ts,d(s.value),1)):(i(),l("span",Ns,[...e[38]||(e[38]=[t("i",{class:"fa-solid fa-spinner fa-spin"},null,-1),V(" Carregando ",-1)])]))]),c.value&&s.subLabel?(i(),l("p",Ls,d(s.subLabel),1)):v("",!0)]),t("div",Rs,[t("i",{class:O(s.icon)},null,2)])])]))),128))]),E.value==="users"?(i(),l("section",js,[t("div",Vs,[e[40]||(e[40]=t("h2",{class:"text-xl font-semibold"},"Usuários",-1)),t("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-4 py-3 md:px-3 md:py-2 rounded-md text-sm flex items-center gap-2 w-full sm:w-auto justify-center disabled:opacity-60 disabled:cursor-not-allowed",onClick:ia,disabled:!ke.value},[...e[39]||(e[39]=[t("i",{class:"fa-solid fa-user-plus"},null,-1),V(" Novo Usuário ",-1)])],8,Ds)]),t("div",zs,[w.value.length===0?(i(),l("div",Os,[...e[41]||(e[41]=[t("i",{class:"fa-solid fa-users text-4xl text-slate-400 mb-3"},null,-1),t("p",{class:"text-slate-300"},"Nenhum usuário cadastrado",-1),t("p",{class:"text-slate-400 text-sm"},' Clique em "Novo Usuário" para começar ',-1)])])):(i(),l("div",Ms,[t("table",Ks,[e[44]||(e[44]=t("thead",{class:"bg-gray-700/60 text-xs text-slate-300 uppercase"},[t("tr",null,[t("th",{class:"px-3 md:px-6 py-3 min-w-[120px]"},"Nome"),t("th",{class:"px-3 md:px-6 py-3 min-w-[150px]"},"Email"),t("th",{class:"px-3 md:px-6 py-3 min-w-[100px]"},"Roles"),t("th",{class:"px-3 md:px-6 py-3 min-w-[140px]"},"Documentos"),t("th",{class:"px-3 md:px-6 py-3 min-w-[140px]"}," Dados Bancários "),t("th",{class:"px-3 md:px-6 py-3 min-w-[120px]"},"PIX"),t("th",{class:"px-3 md:px-6 py-3 min-w-[100px]"},"Ações")])],-1)),t("tbody",null,[(i(!0),l(R,null,j(w.value,s=>(i(),l("tr",{key:s.id,class:"border-b border-gray-700 hover:bg-slate-700/30"},[t("td",qs,d(s.name),1),t("td",Gs,d(s.email),1),t("td",Bs,[t("div",Hs,[(i(!0),l(R,null,j(s.roles,r=>(i(),l("span",{key:r,class:"text-[10px] px-2 py-0.5 bg-slate-700/60 text-slate-300 rounded-md"},d(r),1))),128))])]),t("td",Js,[t("div",Qs,[s.cpf?(i(),l("div",Xs,"CPF: "+d(ba(s.cpf)),1)):v("",!0),s.cnpj?(i(),l("div",Zs," CNPJ: "+d(ya(s.cnpj)),1)):v("",!0),s.rg?(i(),l("div",Ys,"RG: "+d(s.rg),1)):v("",!0),!s.cpf&&!s.cnpj&&!s.rg?(i(),l("div",Ws," - ")):v("",!0)])]),t("td",eo,[t("div",to,[s.banco?(i(),l("div",ao,d(s.banco),1)):v("",!0),s.agencia&&s.conta?(i(),l("div",so," Ag: "+d(s.agencia)+" / CC: "+d(s.conta),1)):v("",!0),s.tipoConta?(i(),l("div",oo,d(s.tipoConta),1)):v("",!0),!s.banco&&!s.agencia&&!s.conta?(i(),l("div",lo," - ")):v("",!0)])]),t("td",io,[t("div",ro,[s.pixTipo&&s.pixChave?(i(),l("div",no,d(s.pixTipo)+": "+d(s.pixChave),1)):(i(),l("div",uo,"-"))])]),t("td",co,[t("div",vo,[t("button",{class:"text-slate-400 hover:text-white p-1.5 md:p-2 rounded-md hover:bg-slate-600 transition-colors",onClick:r=>ra(s),title:"Editar"},[...e[42]||(e[42]=[t("i",{class:"fa-solid fa-pen text-sm"},null,-1)])],8,po),t("button",{class:"text-red-400 hover:text-red-300 p-1.5 md:p-2 rounded-md hover:bg-red-900/20 transition-colors",onClick:r=>da(s.id||""),title:"Excluir"},[...e[43]||(e[43]=[t("i",{class:"fa-solid fa-trash text-sm"},null,-1)])],8,mo)])])]))),128))])])]))])])):E.value==="pipeline"?(i(),l("section",fo,[e[52]||(e[52]=t("h2",{class:"text-xl font-semibold mb-2"},"Configurações da Esteira",-1)),t("div",xo,[t("div",go,[t("div",bo,[t("div",yo,[e[45]||(e[45]=t("label",{class:"text-[12px] text-slate-300"},"Novo processo (nome)",-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>Le.value=s),class:"mt-1 bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"ex.: ConsorEquity"},null,512),[[F,Le.value]])]),t("div",ho,[e[46]||(e[46]=t("label",{class:"text-[12px] text-slate-300"},"Tipo do processo",-1)),t("div",wo,[(i(),l(R,null,j(jt,s=>t("button",{key:s.value,type:"button",onClick:r=>_e.value=s.value,class:O(["relative flex items-start gap-3 px-3 py-3 rounded-xl border transition-all text-left",_e.value===s.value?"border-indigo-500 bg-indigo-500/10 shadow-lg shadow-indigo-500/20":"border-slate-700/60 bg-slate-900/40 hover:border-indigo-500/40"])},[t("div",ko,[t("i",{class:O(s.icon)},null,2)]),t("div",_o,[t("p",Io,d(s.label),1),t("p",Uo,d(s.description),1)]),_e.value===s.value?(i(),l("i",Eo)):v("",!0)],10,Co)),64))])]),t("div",Ao,[L(gt,{modelValue:re.value,"onUpdate:modelValue":e[1]||(e[1]=s=>re.value=s),users:w.value,label:"Usuários autorizados",description:"Deixe vazio para liberar o acesso a todos.","button-text":"Gerenciar acesso",disabled:pe.value},null,8,["modelValue","users","disabled"])]),t("div",So,[t("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white p-2 rounded-md text-sm disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center w-9 h-9",disabled:pe.value,onClick:Dt,title:"Adicionar processo","aria-label":"Adicionar processo"},[pe.value?(i(),l("i",Fo)):(i(),l("i",$o))],8,Po),t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-md text-sm w-9 h-9 flex items-center justify-center",onClick:Jt,title:"Zerar dados locais","aria-label":"Zerar dados locais"},[...e[47]||(e[47]=[t("i",{class:"fa-solid fa-rotate-left"},null,-1)])])])]),t("div",null,[e[50]||(e[50]=t("label",{class:"text-[12px] text-slate-300"},"Processos",-1)),t("div",To,[(i(!0),l(R,null,j(y.value,s=>(i(),l("div",{key:s.key,class:"flex items-center justify-between bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2"},[t("label",{class:"inline-flex items-center gap-2 cursor-pointer",onClick:r=>u.value=s.key},[t("input",{type:"radio",class:"accent-indigo-500",checked:u.value===s.key},null,8,Lo),t("span",Ro,d(s.name),1),t("span",jo,"("+d(s.key)+")",1),t("span",Vo,d(Vt(s.type,s.isFinanceiro)),1)],8,No),t("div",Do,[t("span",{class:O(["text-[11px]",s.active!==!1?"text-green-300":"text-slate-400"])},d(s.active!==!1?"Ativo":"Inativo"),3),t("button",{class:"p-2 text-slate-300 hover:text-white transition-colors",onClick:oe(r=>Kt(s),["stop"]),title:s.active!==!1?"Desativar":"Ativar","aria-label":s.active!==!1?"Desativar":"Ativar"},[t("i",{class:O(s.active!==!1?"fa-solid fa-power-off text-sky-400":"fa-solid fa-play text-sky-400")},null,2)],8,zo),t("button",{class:"p-2 text-slate-300 hover:text-sky-400 transition-colors",onClick:oe(r=>qt(s),["stop"]),title:"Editar","aria-label":"Editar"},[...e[48]||(e[48]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1)])],8,Oo),t("button",{class:"p-2 text-red-400 hover:text-red-300 transition-colors",onClick:oe(r=>Gt(s),["stop"]),title:"Excluir","aria-label":"Excluir"},[...e[49]||(e[49]=[t("i",{class:"fa-regular fa-trash-can"},null,-1)])],8,Mo)])]))),128))])])]),e[51]||(e[51]=t("div",{class:"text-[12px] text-slate-300"},[V(" Selecione um processo acima e clique em "),t("span",{class:"text-indigo-400 font-medium"},"Editar"),V(" para configurar colunas e inputs no modal. ")],-1))])])):E.value==="status"?(i(),l("section",Ko,[t("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3"},[e[54]||(e[54]=t("h2",{class:"text-xl font-semibold"},"Gerenciar Status",-1)),t("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-4 py-3 md:px-3 md:py-2 rounded-md text-sm flex items-center gap-2 w-full sm:w-auto justify-center",onClick:Zt},[...e[53]||(e[53]=[t("i",{class:"fa-solid fa-plus"},null,-1),V(" Novo Status ",-1)])])]),t("div",qo,[t("div",Go,[t("button",{class:O(["px-3 py-2 md:py-1.5 text-sm rounded-md border transition-colors",Ee.value===null?"bg-indigo-600 text-white border-indigo-500":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"]),onClick:e[2]||(e[2]=s=>ct(null))}," Todos ",2),(i(!0),l(R,null,j(xt(Ye),s=>(i(),l("button",{key:s.value,class:O(["px-3 py-2 md:py-1.5 text-sm rounded-md border transition-colors",Ee.value===s.value?"bg-indigo-600 text-white border-indigo-500":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"]),onClick:r=>ct(s.value)},d(s.label),11,Bo))),128))])]),t("div",Ho,[ut.value.length===0?(i(),l("div",Jo,[e[55]||(e[55]=t("i",{class:"fa-solid fa-circle-info text-4xl text-slate-400 mb-3"},null,-1)),ge.value.length===0?(i(),l("p",Qo," Nenhum status cadastrado ")):(i(),l("p",Xo," Nenhum status encontrado para esta categoria ")),ge.value.length===0?(i(),l("p",Zo,' Clique em "Novo Status" para começar ')):v("",!0)])):(i(),l("div",Yo,[(i(!0),l(R,null,j(ut.value,s=>(i(),l("div",{key:s.id,class:"flex items-center justify-between px-4 py-3 hover:bg-slate-700/30 group"},[t("div",Wo,[t("span",{class:"inline-flex items-center gap-1 text-[10px] font-semibold px-2 py-1 rounded-lg transition-all duration-300 hover:scale-105 whitespace-nowrap",style:et(aa(s))},[e[56]||(e[56]=t("div",{class:"w-1.5 h-1.5 rounded-full bg-current opacity-60 flex-shrink-0"},null,-1)),t("span",el,d(s.name),1)],4),t("div",tl,d(s.color),1),t("span",al,d(vt(s.category)),1)]),t("div",sl,[t("button",{class:"text-slate-400 hover:text-white p-2 rounded-md hover:bg-slate-600 transition-colors",onClick:r=>Yt(s),title:"Editar"},[...e[57]||(e[57]=[t("i",{class:"fa-solid fa-pen text-sm"},null,-1)])],8,ol),t("button",{class:"text-red-400 hover:text-red-300 p-2 rounded-md hover:bg-red-900/20 transition-colors",onClick:r=>ea(s.id),title:"Excluir"},[...e[58]||(e[58]=[t("i",{class:"fa-solid fa-trash text-sm"},null,-1)])],8,ll)])]))),128))]))])])):(i(),l("section",il,[...e[59]||(e[59]=[t("h2",{class:"text-xl font-semibold mb-4"},"Notificações",-1),t("div",{class:"bg-gray-800 rounded-lg p-4"},[t("p",{class:"text-slate-300"},"Configurações simples de exemplo.")],-1)])]))]),L(Se,{modelValue:fe.value,"onUpdate:modelValue":e[6]||(e[6]=s=>fe.value=s),title:"Gestão da Esteira",size:"lg","z-index":55},{footer:H(()=>[t("div",{class:"flex items-center justify-end gap-2"},[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:Ot}," Fechar "),t("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-3 py-2 rounded-md text-sm",onClick:Mt}," Salvar ")])]),default:H(()=>[t("div",rl,[t("div",null,[e[60]||(e[60]=t("label",{class:"text-[12px] text-slate-300"},"Nome do Processo",-1)),k(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>me.value=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"ex.: ConsorEquity"},null,512),[[F,me.value]])]),t("div",null,[L(gt,{modelValue:Z.value,"onUpdate:modelValue":e[4]||(e[4]=s=>Z.value=s),users:w.value,label:"Usuários com acesso à esteira",description:"Sem seleção, todos os usuários com acesso ao sistema enxergam esta esteira.","button-text":"Gerenciar acesso"},null,8,["modelValue","users"])]),L(Ta,{stages:P.value,"onUpdate:stages":e[5]||(e[5]=s=>P.value=s),"pipeline-key":u.value},null,8,["stages","pipeline-key"])])]),_:1},8,["modelValue"]),L(Se,{modelValue:Ve.value,"onUpdate:modelValue":e[13]||(e[13]=s=>Ve.value=s),title:"Confirmar exclusão",size:"sm","z-index":60},{footer:H(()=>[t("div",ml,[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:nt}," Cancelar "),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:!Ze.value,onClick:Bt}," Excluir ",8,fl)])]),default:H(()=>[t("div",nl,[e[62]||(e[62]=t("p",{class:"text-sm text-slate-200"}," Para confirmar, digite exatamente o nome do processo abaixo. ",-1)),t("div",dl,[t("div",ul,d(ae.value?.name||ae.value?.key),1),t("div",cl,d(ae.value?.key),1)]),t("div",null,[e[61]||(e[61]=t("label",{class:"text-[12px] text-slate-300"},"Digite o nome do processo",-1)),k(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>xe.value=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:ae.value?.name||"",autocomplete:"off",autocapitalize:"off",spellcheck:"false",onPaste:e[8]||(e[8]=oe(()=>{},["prevent"])),onDrop:e[9]||(e[9]=oe(()=>{},["prevent"])),onCopy:e[10]||(e[10]=oe(()=>{},["prevent"])),onCut:e[11]||(e[11]=oe(()=>{},["prevent"])),onContextmenu:e[12]||(e[12]=oe(()=>{},["prevent"])),onKeydown:Ht},null,40,vl),[[F,xe.value]]),xe.value&&!Ze.value?(i(),l("div",pl," O nome não confere. ")):v("",!0)]),e[63]||(e[63]=t("p",{class:"text-[12px] text-slate-300"}," Esta ação remove as colunas, inputs e cards salvos localmente para este processo. ",-1))])]),_:1},8,["modelValue"]),L(Se,{modelValue:De.value,"onUpdate:modelValue":e[14]||(e[14]=s=>De.value=s),title:"Zerar dados locais",size:"sm","z-index":60},{footer:H(()=>[t("div",{class:"flex items-center justify-end gap-2"},[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:dt}," Cancelar "),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm",onClick:Qt}," Zerar ")])]),default:H(()=>[e[64]||(e[64]=t("div",{class:"space-y-2"},[t("p",{class:"text-sm text-slate-200"}," Isto apagará todos os processos, colunas, inputs e cards salvos no navegador. "),t("p",{class:"text-[12px] text-slate-300"}," Use esta opção apenas para testes locais. Não há como desfazer. ")],-1))]),_:1},8,["modelValue"]),L(Se,{modelValue:ne.value,"onUpdate:modelValue":e[17]||(e[17]=s=>ne.value=s),title:be.value?"Editar Status":"Novo Status",size:"sm","z-index":70},{footer:H(()=>[t("div",_l,[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:ta}," Cancelar "),t("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-3 py-2 rounded-md text-sm",onClick:Wt},d(be.value?"Atualizar":"Criar"),1)])]),default:H(()=>[t("div",xl,[t("div",null,[e[65]||(e[65]=t("label",{class:"text-[12px] text-slate-300"},"Nome do Status",-1)),k(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>N.value.name=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Ex.: Em análise"},null,512),[[F,N.value.name]])]),t("div",null,[e[66]||(e[66]=t("label",{class:"text-[12px] text-slate-300"},"Categoria",-1)),k(t("select",{"onUpdate:modelValue":e[16]||(e[16]=s=>N.value.category=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[(i(!0),l(R,null,j(xt(Ye),s=>(i(),l("option",{key:s.value,value:s.value},d(s.label),9,gl))),128))],512),[[Ke,N.value.category]]),e[67]||(e[67]=t("p",{class:"text-[11px] text-slate-400 mt-1"}," Define onde este status será usado (esteira, usuários ou sistema) ",-1))]),t("div",null,[e[68]||(e[68]=t("label",{class:"text-[12px] text-slate-300"},"Cor",-1)),t("div",bl,[(i(),l(R,null,j(Xt,s=>t("button",{key:s.value,class:O(["w-8 h-8 rounded-full border-2 hover:scale-110 transition-transform",N.value.color===s.value?"border-white":"border-slate-600"]),style:et({backgroundColor:s.value}),title:s.name,onClick:r=>N.value.color=s.value},null,14,yl)),64))])]),t("div",hl,[e[69]||(e[69]=t("div",{class:"text-[12px] text-slate-300 mb-2"},"Pré-visualização:",-1)),t("div",wl,[t("div",{class:"w-3 h-3 rounded-full",style:et({backgroundColor:N.value.color})},null,4),t("span",Cl,d(N.value.name||"Nome do Status"),1),t("span",kl,d(vt(N.value.category)),1)])])])]),_:1},8,["modelValue","title"]),L(Se,{modelValue:x.value,"onUpdate:modelValue":e[36]||(e[36]=s=>x.value=s),title:A.value?"Editar Usuário":"Novo Usuário",size:"lg","z-index":70},{footer:H(()=>[t("div",oi,[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:ua}," Cancelar "),t("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-3 py-2 rounded-md text-sm",onClick:na},d(A.value?"Atualizar":"Criar"),1)])]),default:H(()=>[t("div",Il,[t("div",Ul,[t("div",null,[e[70]||(e[70]=t("label",{class:"text-[12px] text-slate-300"},"Nome *",-1)),k(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>o.value.name=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Nome completo"},null,512),[[F,o.value.name]])]),t("div",null,[t("div",El,[e[71]||(e[71]=t("label",{class:"text-[12px] text-slate-300"},"Email *",-1)),A.value?(i(),l("div",Al,[t("button",{type:"button",onClick:e[19]||(e[19]=s=>Q.value=!Q.value),class:"p-1 text-slate-400 hover:text-indigo-400 transition-colors",title:Q.value?"Desabilitar edição do email":"Habilitar edição do email"},[t("i",{class:O([Q.value?"fa-regular fa-envelope":"fa-solid fa-envelope-circle-check","text-sm"])},null,2)],8,Sl)])):v("",!0)]),t("div",Pl,[k(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>o.value.email=s),type:"email",class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm pr-10",placeholder:"email@exemplo.com",disabled:A.value&&!Q.value||!A.value&&T.value,onBlur:ft,onInput:ka},null,40,Fl),[[F,o.value.email]]),I.value?(i(),l("div",$l,[...e[72]||(e[72]=[t("i",{class:"fa-solid fa-spinner fa-spin text-orange-500"},null,-1)])])):C.value===!0?(i(),l("div",Tl,[...e[73]||(e[73]=[t("i",{class:"fa-solid fa-check text-green-500"},null,-1)])])):C.value===!1?(i(),l("div",Nl,[...e[74]||(e[74]=[t("i",{class:"fa-solid fa-times text-red-500"},null,-1)])])):v("",!0)]),$.value?(i(),l("div",Ll,d($.value),1)):C.value===!0?(i(),l("div",Rl," Email disponível ")):C.value===!1?(i(),l("div",jl," Email já está em uso ")):v("",!0)])]),t("div",Vl,[e[75]||(e[75]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Foto de Perfil ",-1)),L(qe,{label:"Foto de Perfil",accept:"image/*",modelValue:o.value.fotoPerfilUrl,"onUpdate:modelValue":e[21]||(e[21]=s=>o.value.fotoPerfilUrl=s),userId:T.value,temporaryMode:!T.value,sessionId:le.value,fileType:"PROFILE_PHOTO",onFileSelected:ca,onFileUploaded:va},null,8,["modelValue","userId","temporaryMode","sessionId"])]),t("div",Dl,[e[78]||(e[78]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Documento de Identificação ",-1)),t("div",zl,[e[77]||(e[77]=t("label",{class:"text-[12px] text-slate-300"},"Tipo de Documento",-1)),k(t("select",{"onUpdate:modelValue":e[22]||(e[22]=s=>o.value.tipoIdentificacao=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[...e[76]||(e[76]=[t("option",{value:""},"Selecione o tipo",-1),t("option",{value:"RG"},"RG - Registro Geral",-1),t("option",{value:"CNH"}," CNH - Carteira Nacional de Habilitação ",-1)])],512),[[Ke,o.value.tipoIdentificacao]])]),L(qe,{label:`${o.value.tipoIdentificacao||"Documento de Identificação"}`,accept:"image/*,application/pdf",modelValue:o.value.documentoIdentificacaoUrl,"onUpdate:modelValue":e[23]||(e[23]=s=>o.value.documentoIdentificacaoUrl=s),userId:T.value,temporaryMode:!T.value,sessionId:le.value,fileType:o.value.tipoIdentificacao||"IDENTITY",onFileSelected:pa,onFileUploaded:ma},null,8,["label","modelValue","userId","temporaryMode","sessionId","fileType"])]),t("div",Ol,[e[79]||(e[79]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Comprovante de Endereço ",-1)),e[80]||(e[80]=t("p",{class:"text-xs text-slate-400 mb-3"}," Aceita conta de luz, água, telefone, internet, extrato bancário, etc. ",-1)),L(qe,{label:"Comprovante de Endereço",accept:"image/*,application/pdf",modelValue:o.value.comprovanteEnderecoUrl,"onUpdate:modelValue":e[24]||(e[24]=s=>o.value.comprovanteEnderecoUrl=s),userId:T.value,temporaryMode:!T.value,sessionId:le.value,fileType:"ADDRESS_PROOF",onFileSelected:pt,onFileUploaded:mt},null,8,["modelValue","userId","temporaryMode","sessionId"])]),A.value?v("",!0):(i(),l("div",Ml,[e[81]||(e[81]=t("label",{class:"text-[12px] text-slate-300"},"Senha *",-1)),k(t("input",{"onUpdate:modelValue":e[25]||(e[25]=s=>o.value.password=s),type:"password",class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Mínimo 6 caracteres"},null,512),[[F,o.value.password]])])),t("div",null,[e[82]||(e[82]=t("label",{class:"text-[12px] text-slate-300"},"Roles *",-1)),t("div",Kl,[(i(),l(R,null,j(ie,s=>t("label",{key:s.value,class:"flex items-center gap-2 cursor-pointer"},[t("input",{type:"checkbox",checked:o.value.roles.includes(s.value),onChange:r=>ga(s.value),disabled:!Qe(s.value),class:"accent-indigo-500"},null,40,ql),t("span",Gl,d(s.label),1),!Qe(s.value)&&o.value.roles.includes(s.value)?(i(),l("span",Bl," (bloqueado) ")):v("",!0)])),64)),lt.value.length?(i(),l("div",Hl," Roles adicionais: "+d(lt.value.join(", ")),1)):v("",!0)])]),t("div",Jl,[e[86]||(e[86]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Documentos (opcionais) ",-1)),t("div",Ql,[t("div",null,[e[83]||(e[83]=t("label",{class:"text-[12px] text-slate-300"},"CPF",-1)),k(t("input",{"onUpdate:modelValue":e[26]||(e[26]=s=>o.value.cpf=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"000.000.000-00",onInput:ha,maxlength:"14"},null,544),[[F,o.value.cpf]])]),t("div",null,[e[84]||(e[84]=t("label",{class:"text-[12px] text-slate-300"},"CNPJ",-1)),k(t("input",{"onUpdate:modelValue":e[27]||(e[27]=s=>o.value.cnpj=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"00.000.000/0000-00",onInput:wa,maxlength:"18"},null,544),[[F,o.value.cnpj]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"text-[12px] text-slate-300"},"RG",-1)),k(t("input",{"onUpdate:modelValue":e[28]||(e[28]=s=>o.value.rg=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"00.000.000-0"},null,512),[[F,o.value.rg]])])]),L(qe,{label:"Comprovante de Endereço",accept:"image/*,application/pdf",modelValue:o.value.comprovanteEnderecoUrl,"onUpdate:modelValue":e[29]||(e[29]=s=>o.value.comprovanteEnderecoUrl=s),userId:T.value,temporaryMode:!T.value,sessionId:le.value,fileType:"ADDRESS_PROOF",onFileSelected:pt,onFileUploaded:mt},null,8,["modelValue","userId","temporaryMode","sessionId"])]),t("div",Xl,[e[92]||(e[92]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Dados Bancários (opcionais) ",-1)),t("div",Zl,[t("div",null,[e[87]||(e[87]=t("label",{class:"text-[12px] text-slate-300"},"Banco",-1)),k(t("input",{"onUpdate:modelValue":e[30]||(e[30]=s=>o.value.banco=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Ex: Banco do Brasil"},null,512),[[F,o.value.banco]])]),t("div",null,[e[89]||(e[89]=t("label",{class:"text-[12px] text-slate-300"},"Tipo de Conta",-1)),k(t("select",{"onUpdate:modelValue":e[31]||(e[31]=s=>o.value.tipoConta=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[e[88]||(e[88]=t("option",{value:""},"Selecione...",-1)),(i(),l(R,null,j(Ft,s=>t("option",{key:s.value,value:s.value},d(s.label),9,Yl)),64))],512),[[Ke,o.value.tipoConta]])]),t("div",null,[e[90]||(e[90]=t("label",{class:"text-[12px] text-slate-300"},"Agência",-1)),k(t("input",{"onUpdate:modelValue":e[32]||(e[32]=s=>o.value.agencia=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"0000"},null,512),[[F,o.value.agencia]])]),t("div",null,[e[91]||(e[91]=t("label",{class:"text-[12px] text-slate-300"},"Conta",-1)),k(t("input",{"onUpdate:modelValue":e[33]||(e[33]=s=>o.value.conta=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"00000-0"},null,512),[[F,o.value.conta]])])])]),t("div",Wl,[e[96]||(e[96]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," PIX (opcionais) ",-1)),t("div",ei,[t("div",null,[e[94]||(e[94]=t("label",{class:"text-[12px] text-slate-300"},"Tipo de Chave PIX",-1)),k(t("select",{"onUpdate:modelValue":e[34]||(e[34]=s=>o.value.pixTipo=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[e[93]||(e[93]=t("option",{value:""},"Selecione...",-1)),(i(),l(R,null,j($t,s=>t("option",{key:s.value,value:s.value},d(s.label),9,ti)),64))],512),[[Ke,o.value.pixTipo]])]),t("div",null,[e[95]||(e[95]=t("label",{class:"text-[12px] text-slate-300"},"Chave PIX",-1)),k(t("input",{"onUpdate:modelValue":e[35]||(e[35]=s=>o.value.pixChave=s),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:Ca()},null,8,ai),[[F,o.value.pixChave]])])])]),A.value?(i(),l("div",si,[e[97]||(e[97]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Reconhecimento Facial ",-1)),L(ys,{mode:"register",userId:o.value.id,onSuccess:fa,onError:xa},null,8,["userId"])])):v("",!0)])]),_:1},8,["modelValue","title"])]))}},yi=Ea(li,[["__scopeId","data-v-72e7787f"]]);export{yi as default};
