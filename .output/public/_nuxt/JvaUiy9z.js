import{e as H,r as K,f as O,g as J,h as X,c as d,o as c,_ as I,i as y,a as s,t as g,n as v,F as C,j as B,k as Y,b as S}from"./CPKTtwfv.js";const R=24,Z=H({__name:"CanvasFinance",props:{speed:{default:.8},symbols:{default:()=>["VALE3","PETR4","ITUB4","BBDC4","BBAS3","MGLU3","WEGE3","ABEV3"]},fontSize:{default:12},fontFamily:{default:"Inter, system-ui, -apple-system, sans-serif"}},setup(i){const l=i,r=K(null);let a=0,n=1,u=[],h=0;function $(o,t){return Math.random()*(t-o)+o}function _(){const o=r.value;n=Math.max(1,window.devicePixelRatio||1);const t=o.parentElement?.getBoundingClientRect()||{width:800,height:80};o.width=Math.floor(t.width*n),o.height=Math.floor(t.height*n),o.style.width=t.width+"px",o.style.height=t.height+"px",F()}function F(){const t=r.value.getContext("2d");t.setTransform(n,0,0,n,0,0),t.font=`600 ${l.fontSize}px ${l.fontFamily}`,u=l.symbols.map(e=>({sym:e,price:$(10,200),chg:$(-2,2),w:0}));for(const e of u)e.w=A(t,e)}function A(o,t){const e=`${t.sym}  ${t.price.toFixed(2)}  ${t.chg>=0?"+":""}${t.chg.toFixed(2)}%`;return Math.ceil(o.measureText(e).width)+34}let w=0;function V(o){if(!(o-w<900)){w=o;for(const t of u){const e=$(-.4,.4);t.price=Math.max(.01,t.price+e),t.chg=Math.min(9,Math.max(-9,t.chg+e*.1))}}}function T(o){const t=r.value,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.setTransform(n,0,0,n,0,0),V(o);const x=t.height/n,p=Math.max(l.fontSize+8,x*.7);h-=l.speed;const k=u.reduce((m,b)=>m+b.w+R,0);-h>k&&(h+=k);let f=h;const N="#22c55e",W="#ef4444",j="rgba(148,163,184,0.25)";for(e.font=`600 ${l.fontSize}px ${l.fontFamily}`;f<t.width/n+k;)for(const m of u){const b=m.chg>=0,G=b?"rgba(34,197,94,0.12)":"rgba(239,68,68,0.12)",U=b?N:W,E=m.w,P=l.fontSize+10;L(e,f+6,p-P+2,E,P,10),e.fillStyle=G,e.fill(),e.strokeStyle=j,e.stroke(),e.fillStyle="#e5e7eb",e.fillText(m.sym,f+14,p-6),e.fillStyle="#cbd5e1",e.fillText(m.price.toFixed(2),f+14+e.measureText(m.sym+"  ").width,p-6);const Q=`  ${b?"▲":"▼"} ${b?"+":""}${m.chg.toFixed(2)}%`;e.fillStyle=U,e.fillText(Q,f+14+e.measureText(`${m.sym}  ${m.price.toFixed(2)}`).width,p-6),f+=E+R}a=requestAnimationFrame(T)}function L(o,t,e,x,p,k){const f=Math.min(k,p/2,x/2);o.beginPath(),o.moveTo(t+f,e),o.arcTo(t+x,e,t+x,e+p,f),o.arcTo(t+x,e+p,t,e+p,f),o.arcTo(t,e+p,t,e,f),o.arcTo(t,e,t+x,e,f),o.closePath()}return O(()=>{_(),window.addEventListener("resize",_),a=requestAnimationFrame(T)}),J(()=>{cancelAnimationFrame(a),window.removeEventListener("resize",_)}),X(()=>l.symbols,()=>F()),(o,t)=>(c(),d("canvas",{ref_key:"canvas",ref:r,class:"absolute inset-0 w-full h-full pointer-events-none"},null,512))}}),tt=I(Z,[["__scopeId","data-v-d0e6b7d1"]]),et={class:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 shadow-sm hover:shadow transition-colors"},st={class:"flex items-center justify-between"},at={class:"text-[12px] text-slate-400"},ot={class:"mt-1 text-xl font-semibold text-white"},lt={class:"ml-1"},it={class:"ml-2 text-slate-400"},nt={__name:"KPIStat",props:{label:{type:String,required:!0},value:{type:[String,Number],required:!0},delta:{type:Number,default:0},hint:{type:String,default:"vs. mês anterior"},icon:{type:String,default:"fa-solid fa-circle"},color:{type:String,default:"orange"}},setup(i){const l=i,r=y(()=>l.delta>=0?"text-green-300":"text-red-300"),a=y(()=>l.delta>=0?"+":"-"),n=y(()=>{switch(l.color){case"blue":return"bg-blue-600/80";case"green":return"bg-green-600/80";case"purple":return"bg-purple-600/80";default:return"bg-orange-600/80"}});return(u,h)=>(c(),d("div",et,[s("div",st,[s("div",null,[s("div",at,g(i.label),1),s("div",ot,g(i.value),1)]),s("div",{class:v(["w-10 h-10 rounded-lg flex items-center justify-center",n.value])},[s("i",{class:v([i.icon,"text-white"])},null,2)],2)]),s("div",{class:v(["mt-2 text-[12px]",r.value])},[s("i",{class:v(i.delta>=0?"fa-solid fa-arrow-up-right":"fa-solid fa-arrow-down-right")},null,2),s("span",lt,g(a.value)+g(Math.abs(i.delta))+"%",1),s("span",it,g(i.hint),1)],2)]))}},rt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},ct={__name:"KPIGrid",props:{items:{type:Array,default:()=>[]}},setup(i){return(l,r)=>(c(),d("div",rt,[(c(!0),d(C,null,B(i.items,(a,n)=>(c(),Y(nt,{key:a.key||n,label:a.label,value:a.value,delta:a.delta,hint:a.hint,icon:a.icon,color:a.color},null,8,["label","value","delta","hint","icon","color"]))),128))]))}},dt={class:"rounded-xl border border-slate-800 bg-slate-900/60 p-4"},ut={class:"flex items-center justify-between mb-2"},ft={class:"text-[12px] text-slate-400"},ht={class:"text-[12px] text-slate-500"},pt=["transform"],mt=["x","y","width","height","fill"],z=480,q=140,M=8,D=6,gt={__name:"MiniBarChart",props:{label:{type:String,default:"Volume de Propostas"},period:{type:String,default:"Últimos 12 dias"},data:{type:Array,default:()=>[]},color:{type:String,default:"orange"}},setup(i){const l=i,r=z-M*2,a=q-M*2,n=y(()=>Math.max(1,...l.data)),u=y(()=>Math.max(6,(r-D*(l.data.length-1))/Math.max(1,l.data.length))),h=_=>Math.round(_/(n.value||1)*a),$=y(()=>{switch(l.color){case"blue":return"#3b82f6";case"green":return"#22c55e";case"purple":return"#a855f7";default:return"#f97316"}});return(_,F)=>(c(),d("div",dt,[s("div",ut,[s("div",ft,g(i.label),1),s("div",ht,g(i.period),1)]),(c(),d("svg",{width:z,height:q,class:"w-full"},[s("g",{transform:`translate(${M}, ${M})`},[(c(!0),d(C,null,B(i.data,(A,w)=>(c(),d("rect",{key:w,x:w*(u.value+D),y:a-h(A),width:u.value,height:h(A),fill:$.value,rx:"4"},null,8,mt))),128))],8,pt)]))]))}},xt=I(gt,[["__scopeId","data-v-ac2728e6"]]),_t={class:"rounded-xl border border-slate-800 bg-slate-900/60 p-4"},bt={class:"space-y-3"},vt={class:"w-8 h-8 rounded-lg flex items-center justify-center bg-slate-700/60 text-slate-200 shrink-0"},yt={class:"flex-1 min-w-0"},$t={class:"text-[13px] text-white truncate"},wt={class:"text-[11px] text-slate-400"},kt={__name:"ActivityFeed",props:{items:{type:Array,default:()=>[]}},setup(i){return(l,r)=>(c(),d("div",_t,[r[0]||(r[0]=s("div",{class:"text-[12px] text-slate-400 mb-2"},"Atividades Recentes",-1)),s("ul",bt,[(c(!0),d(C,null,B(i.items,(a,n)=>(c(),d("li",{key:a.id||n,class:"flex items-start gap-2"},[s("div",vt,[s("i",{class:v(a.icon||"fa-regular fa-clock")},null,2)]),s("div",yt,[s("div",$t,g(a.title),1),s("div",wt,g(a.time),1)])]))),128))])]))}},St={class:"rounded-xl border border-slate-800 bg-slate-900/60 p-4"},At={class:"grid grid-cols-2 gap-2"},Mt=["onClick"],Ct={class:"truncate"},Bt={__name:"QuickActions",props:{actions:{type:Array,default:()=>[]}},emits:["action"],setup(i){return(l,r)=>(c(),d("div",St,[r[0]||(r[0]=s("div",{class:"text-[12px] text-slate-400 mb-2"},"Ações Rápidas",-1)),s("div",At,[(c(!0),d(C,null,B(i.actions,(a,n)=>(c(),d("button",{key:a.key||n,class:"rounded-lg bg-slate-800 hover:bg-slate-700/70 border border-slate-700/60 text-slate-100 text-[12px] px-3 py-2 text-left flex items-center gap-2",onClick:u=>l.$emit("action",a)},[s("i",{class:v([a.icon||"fa-solid fa-bolt","text-orange-400"])},null,2),s("span",Ct,g(a.label),1)],8,Mt))),128))])]))}},Ft={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Tt={class:"p-6 space-y-6"},Et={class:"relative overflow-hidden rounded-lg h-14"},Pt={class:"grid grid-cols-1 lg:grid-cols-3 gap-3"},Rt={class:"lg:col-span-2"},It={__name:"index",setup(i){const l=[{key:"volume",label:"Volume (R$)",value:"1,25 mi",delta:6.8,hint:"vs. mês anterior",icon:"fa-solid fa-sack-dollar",color:"orange"},{key:"propostas",label:"Propostas",value:128,delta:3.2,hint:"30 dias",icon:"fa-solid fa-file-lines",color:"blue"},{key:"aprovadas",label:"Aprovadas",value:48,delta:1.1,hint:"30 dias",icon:"fa-solid fa-circle-check",color:"green"},{key:"sla",label:"SLA Médio (dias)",value:4.2,delta:-.4,hint:"últ. 10 mov.",icon:"fa-solid fa-stopwatch",color:"purple"}],r=[4,6,5,7,10,8,6,9,11,10,12,13],a=[{key:"nova",label:"Nova Proposta",icon:"fa-solid fa-plus"},{key:"importar",label:"Importar CSV",icon:"fa-solid fa-file-import"},{key:"simular",label:"Simular Carta",icon:"fa-solid fa-calculator"},{key:"filtros",label:"Abrir Filtros",icon:"fa-solid fa-filter"}],n=[{id:1,title:"Proposta de Ana atualizada para Crédito",time:"há 2h",icon:"fa-solid fa-pen-to-square"},{id:2,title:"Documento recebido: RG - Bruno",time:"há 3h",icon:"fa-regular fa-file"},{id:3,title:"Proposta de Carla aprovada",time:"há 5h",icon:"fa-solid fa-circle-check"}];return(u,h)=>(c(),d("div",Ft,[s("main",Tt,[s("div",Et,[S(tt,{class:"opacity-40",speed:.6,"font-size":12}),h[0]||(h[0]=s("div",{class:"absolute inset-0 flex items-center px-2"},[s("h1",{class:"text-xl font-semibold text-white"},"Dashboard")],-1))]),S(ct,{items:l}),s("div",Pt,[s("div",Rt,[S(xt,{label:"Propostas por dia",period:"Últimos 12 dias",data:r,color:"orange"})]),S(Bt,{actions:a,onAction:u.onAction},null,8,["onAction"])]),S(kt,{items:n})])]))}};export{It as default};
