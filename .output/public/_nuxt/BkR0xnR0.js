import{_ as B,r as p,y as F,g as U,c as l,a as e,b as q,h as P,q as S,F as y,k as h,H as T,l as V,d as w,w as z,I as G,A as H,o as i,t as n,n as u,i as I,m as O,C as J}from"./qcAyaCsh.js";import{f as K,d as Q,u as W,c as X}from"./EwfqqmZK.js";import{S as Y}from"./CGbtcE1L.js";import"./BH6je_ft.js";import"./CV9EyYCX.js";const Z={class:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"},ee={class:"p-6 relative z-10"},te={class:"mb-8"},se={class:"app-tabs overflow-x-auto"},ae=["onClick"],oe={class:"relative"},le={class:"bg-slate-900/40 backdrop-blur-2xl border border-white/10 rounded-2xl overflow-hidden shadow-2xl"},ie={key:0,class:"p-12 text-center"},re={key:0,class:"text-xl font-semibold text-slate-200 mb-2"},ne={key:1,class:"text-xl font-semibold text-slate-200 mb-2"},ue={key:2,class:"text-slate-400 mb-4"},de={key:3,class:"text-slate-400 mb-4"},ce={key:1,class:"p-3"},ve={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-2"},fe={class:"absolute top-0 right-1 flex items-center gap-0.5 opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-opacity duration-300"},be=["onClick"],me=["onClick"],pe={class:"space-y-1.5"},ge={class:"truncate text-xs"},xe={class:"flex justify-center"},ye={class:"text-[9px] px-1.5 py-0.5 bg-slate-700/50 text-slate-400 rounded font-medium truncate"},he={class:"space-y-6"},ke={class:"space-y-4"},_e=["value"],Se={class:"grid grid-cols-5 gap-3"},we=["title","onClick"],Ce={key:0,class:"absolute inset-0 flex items-center justify-center"},Ee={class:"p-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-xl border border-slate-700/30 backdrop-blur-sm"},$e={class:"flex items-center gap-4"},Ae={class:"text-xs px-3 py-1 bg-slate-700/50 text-slate-300 rounded-lg font-medium border border-slate-600/30"},Ne={class:"mt-4 flex items-center gap-2 text-xs text-slate-400"},Te={class:"font-mono"},Ve={class:"flex items-center justify-end gap-3 pt-4 border-t border-slate-700/30"},ze={__name:"status",setup(Ie){const{success:k,error:f}=H(),d=p([]),_=Y,b=p(null),c=p(!1),o=p({id:null,name:"",color:"#3b82f6",category:"ESTEIRA"}),v=p(!1),j=[{name:"Azul",value:"#3b82f6"},{name:"Verde",value:"#10b981"},{name:"Vermelho",value:"#ef4444"},{name:"Amarelo",value:"#f59e0b"},{name:"Roxo",value:"#8b5cf6"},{name:"Rosa",value:"#ec4899"},{name:"Laranja",value:"#f97316"},{name:"Ciano",value:"#06b6d4"},{name:"Lima",value:"#65a30d"},{name:"Índigo",value:"#6366f1"}],C=F(()=>b.value===null?d.value:d.value.filter(a=>a.category===b.value));async function g(){try{console.log("Loading status list..."),d.value=await K(),console.log("Status list loaded:",d.value.length,"items")}catch(a){console.error("Failed to load status list:",a),f("Erro ao carregar status")}}function E(a){b.value=a}function $(a){const t=_.find(s=>s.value===a);return t?t.label:"Desconhecido"}function A(){o.value={id:null,name:"",color:"#3b82f6",category:"ESTEIRA"},v.value=!1,c.value=!0}function L(a){o.value={id:a.id,name:a.name,color:a.color,category:a.category},v.value=!0,c.value=!0}async function R(){try{const{id:a,name:t,color:s,category:r}=o.value;if(!t.trim()){f("Nome é obrigatório");return}v.value&&a?await W(a,{name:t.trim(),color:s,category:r})&&(k("Status atualizado com sucesso"),await g(),c.value=!1):await X({name:t.trim(),color:s,category:r})&&(k("Status criado com sucesso"),await g(),c.value=!1)}catch(a){console.error("Error saving status:",a),f("Erro ao salvar status")}}async function M(a){if(confirm("Tem certeza que deseja excluir este status?"))try{await Q(a)?(k("Status excluído com sucesso"),await g()):f("Erro ao excluir status")}catch(t){console.error("Error deleting status:",t),f("Erro ao excluir status")}}function D(){c.value=!1,o.value={id:null,name:"",color:"#3b82f6",category:"ESTEIRA"},v.value=!1}function x(a,t=.2){const s=parseInt(a.slice(1,3),16),r=parseInt(a.slice(3,5),16),m=parseInt(a.slice(5,7),16);return`rgba(${s}, ${r}, ${m}, ${t})`}function N(a){if(!a?.color)return"";const t=a.color;return`
    background: linear-gradient(135deg, ${x(t,.15)}, ${x(t,.05)});
    color: ${t};
    border: 1px solid ${x(t,.3)};
    box-shadow: 0 4px 12px ${x(t,.15)};
  `.replace(/\s+/g," ").trim()}return U(()=>{g()}),(a,t)=>(i(),l("div",Z,[e("header",{class:"app-header relative bg-slate-900/80 backdrop-blur-xl border-b border-slate-700/50 p-4"},[t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-white/[0.02] backdrop-blur-3xl"},null,-1)),e("div",{class:"relative flex items-center justify-between"},[t[5]||(t[5]=P('<div class="flex items-center gap-4" data-v-878e641b><div class="relative group" data-v-878e641b><div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity duration-300" data-v-878e641b></div><div data-v-878e641b><i class="fa-solid fa-tags text-white text-lg" data-v-878e641b></i></div></div><div data-v-878e641b><p class="app-header-subtitle" data-v-878e641b> Configure status e categorias do sistema com total controle </p></div></div>',1)),e("button",{class:"p-2 rounded-xl",onClick:A},[...t[4]||(t[4]=[e("i",{class:"fa-solid fa-tags text-purple-300"},null,-1)])])])]),e("main",ee,[e("div",te,[e("div",se,[e("button",{type:"button",class:S(["app-tab",{"app-tab--active":b.value===null}]),onClick:t[0]||(t[0]=s=>E(null))}," Todos os Status ",2),(i(!0),l(y,null,h(T(_),s=>(i(),l("button",{key:s.value,type:"button",class:S(["app-tab",{"app-tab--active":b.value===s.value}]),onClick:r=>E(s.value)},n(s.label),11,ae))),128))])]),e("div",oe,[e("div",le,[C.value.length===0?(i(),l("div",ie,[t[8]||(t[8]=e("div",{class:"relative inline-block mb-6"},[e("div",{class:"relative w-16 h-16 bg-gradient-to-br from-slate-800 to-slate-900 rounded-full flex items-center justify-center border border-slate-700/50"},[e("i",{class:"fa-solid fa-circle-info text-2xl text-slate-400"})])],-1)),d.value.length===0?(i(),l("h3",re," Nenhum status cadastrado ")):(i(),l("h3",ne," Nenhum status encontrado ")),d.value.length===0?(i(),l("p",ue," Comece criando seu primeiro status para organizar os processos ")):(i(),l("p",de," Não há status para a categoria selecionada ")),d.value.length===0?(i(),l("button",{key:4,onClick:A,class:"inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-6 py-3 rounded-xl font-medium transition-all duration-300"},[...t[7]||(t[7]=[e("i",{class:"fa-solid fa-plus"},null,-1),w(" Criar Primeiro Status ",-1)])])):V("",!0)])):(i(),l("div",ce,[e("div",ve,[(i(!0),l(y,null,h(C.value,(s,r)=>(i(),l("div",{key:s.id,class:"group relative overflow-hidden bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm border border-slate-700/30 rounded-lg p-3 hover:border-slate-600/50 transition-all duration-300 transform hover:scale-105 hover:shadow-lg animate-fade-in-up",style:u({animationDelay:`${r*30}ms`})},[e("div",{class:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-lg",style:u({background:`linear-gradient(135deg, ${s.color}20, transparent)`})},null,4),e("div",fe,[e("button",{class:"p-1 text-slate-400 hover:text-white hover:bg-slate-700/70 rounded transition-all duration-200 transform hover:scale-110 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-400",onClick:m=>L(s),title:"Editar status"},[...t[9]||(t[9]=[e("i",{class:"fa-solid fa-pen text-[8px]"},null,-1)])],8,be),e("button",{class:"p-1 text-red-400 hover:text-red-300 hover:bg-red-900/30 rounded transition-all duration-200 transform hover:scale-110 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-400",onClick:m=>M(s.id),title:"Excluir status"},[...t[10]||(t[10]=[e("i",{class:"fa-solid fa-trash text-[8px]"},null,-1)])],8,me)]),e("div",pe,[e("div",{class:"inline-flex items-center gap-1 px-2 py-1 rounded font-medium text-xs w-full transition-all duration-300 group-hover:scale-105",style:u(N(s))},[e("div",{class:"w-1.5 h-1.5 rounded-full flex-shrink-0",style:u({backgroundColor:s.color})},null,4),e("span",ge,n(s.name),1)],4),e("div",xe,[e("span",ye,n($(s.category)),1)])])],4))),128))])]))])])]),q(G,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=s=>c.value=s),title:v.value?"Editar Status":"Novo Status",size:"md","z-index":70},{footer:z(()=>[e("div",Ve,[e("button",{class:"px-5 py-2.5 bg-slate-700/50 hover:bg-slate-600/50 text-slate-300 hover:text-white rounded-xl text-sm font-medium transition-all duration-300 backdrop-blur-sm",onClick:D}," Cancelar "),e("button",{class:"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-white px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300",onClick:R},n(v.value?"Atualizar Status":"Criar Status"),1)])]),default:z(()=>[e("div",he,[e("div",ke,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-slate-200 mb-2"},"Nome do Status",-1)),I(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.name=s),class:"w-full bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-xl px-4 py-3 text-sm backdrop-blur-sm focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all duration-300",placeholder:"Ex.: Em análise, Aprovado, Rejeitado..."},null,512),[[O,o.value.name]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-slate-200 mb-2"},"Categoria",-1)),I(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.category=s),class:"w-full bg-slate-800/50 border border-slate-700/50 text-slate-100 rounded-xl px-4 py-3 text-sm backdrop-blur-sm focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all duration-300"},[(i(!0),l(y,null,h(T(_),s=>(i(),l("option",{key:s.value,value:s.value,class:"bg-slate-800 text-slate-100"},n(s.label),9,_e))),128))],512),[[J,o.value.category]]),t[13]||(t[13]=e("p",{class:"text-xs text-slate-400 mt-2 flex items-center gap-1"},[e("i",{class:"fa-solid fa-info-circle"}),w(" Define onde este status será usado no sistema ")],-1))]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-slate-200 mb-3"},"Cor do Status",-1)),e("div",Se,[(i(),l(y,null,h(j,s=>e("button",{key:s.value,class:S(["group relative w-12 h-12 rounded-xl border-2 transition-all duration-300 transform hover:scale-110 hover:shadow-lg",o.value.color===s.value?"border-white shadow-lg scale-105":"border-slate-600/50 hover:border-slate-500"]),style:u({backgroundColor:s.value}),title:s.name,onClick:r=>o.value.color=s.value},[o.value.color===s.value?(i(),l("div",Ce,[...t[14]||(t[14]=[e("i",{class:"fa-solid fa-check text-white text-sm font-bold drop-shadow-md"},null,-1)])])):V("",!0),e("div",{class:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300",style:u({backgroundColor:s.value,filter:"blur(8px)"})},null,4)],14,we)),64))])])]),e("div",Ee,[t[17]||(t[17]=e("div",{class:"flex items-center gap-2 mb-4"},[e("i",{class:"fa-solid fa-eye text-purple-400"}),e("span",{class:"text-sm font-medium text-slate-200"},"Pré-visualização")],-1)),e("div",$e,[e("div",{class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-300",style:u(N({color:o.value.color,name:o.value.name}))},[e("div",{class:"w-2 h-2 rounded-full",style:u({backgroundColor:o.value.color})},null,4),w(" "+n(o.value.name||"Nome do Status"),1)],4),e("span",Ae,n($(o.value.category)),1)]),e("div",Ne,[t[16]||(t[16]=e("i",{class:"fa-solid fa-palette"},null,-1)),e("span",Te,n(o.value.color),1)])])])]),_:1},8,["modelValue","title"])]))}},Be=B(ze,[["__scopeId","data-v-878e641b"]]);export{Be as default};
