const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dbx-Jqc8.js","./CPKTtwfv.js","./entry.CkufVRed.css","./B74M8xGS.js"])))=>i.map(i=>d[i]);
import{r as c,f as qe,l as At,c as l,o as i,a as t,t as d,m,p as b,v as Tt,d as V,q as Ae,_ as Ft,u as jt,s as Vt,i as ge,h as ze,x as Nt,b as R,F as D,j as O,y as P,n as H,z as Me,w as L,A as re,B as J,C as Ie,D as be}from"./CPKTtwfv.js";import{u as Be,a as Rt,f as Dt,_ as ye,d as Ot,b as Lt,c as zt}from"./D2LnJTjo.js";import{P as Mt}from"./BAMHYuh1.js";import{l as Se,a as Kt,s as qt,r as Bt,b as Gt,c as Ke}from"./LTKILnWH.js";import{f as Ht,d as Jt,u as Xt,c as Zt,a as Pe,b as Yt,S as Wt,s as Qt,e as ea}from"./BFT2zYfe.js";import{isApiEnabled as $e}from"./Dbx-Jqc8.js";import{u as ta}from"./CB52pEDM.js";import{s as aa}from"./BWJBdaIx.js";import"./B74M8xGS.js";const sa={class:"space-y-4"},oa={class:"text-center"},la={class:"text-lg font-semibold text-slate-200 mb-2"},ia={class:"text-sm text-slate-400"},na={class:"flex flex-col items-center space-y-4"},ra={class:"relative bg-slate-800 rounded-lg overflow-hidden",style:{width:"320px",height:"240px"}},da=["src"],ua={key:1,class:"w-full h-full flex items-center justify-center"},ca={key:2,class:"absolute inset-0 pointer-events-none"},pa={key:3,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},ma={class:"text-center text-white"},va={class:"text-sm"},fa={key:0,class:"text-red-400 text-sm text-center"},xa={key:1,class:"text-green-400 text-sm text-center"},ga={class:"flex gap-3"},ba=["disabled"],ya=["disabled"],ha=["disabled"],wa={key:2,class:"text-sm text-slate-400 text-center"},Ca={__name:"FaceRecognition",props:{mode:{type:String,default:"register",validator:E=>["register","authenticate"].includes(E)},userId:{type:String,default:null}},emits:["success","error"],setup(E,{emit:Q}){const w=E,C=Q,k=c(),U=c(!1),p=c(null),o=c(!1),y=c(""),g=c(""),$=c("idle");let N=null;const{getCurrentLocation:_,formatLocation:z}=Be(),{registerFace:A,authenticateByFace:X,extractFaceEmbedding:M}=Rt();qe(()=>{he()}),At(()=>{N&&N.getTracks().forEach(u=>u.stop())});async function he(){$.value="requesting";try{await _(),$.value="granted"}catch(u){$.value="denied",console.warn("Location access denied:",u.message)}}async function we(){try{y.value="",N=await navigator.mediaDevices.getUserMedia({video:{width:320,height:240}}),k.value&&(k.value.srcObject=N,U.value=!0)}catch(u){y.value="Erro ao acessar câmera. Verifique as permissões.",console.error("Camera error:",u)}}function Ce(){if(!k.value||!U.value)return;const u=document.createElement("canvas"),n=u.getContext("2d");u.width=k.value.videoWidth,u.height=k.value.videoHeight,n.drawImage(k.value,0,0),p.value=u.toDataURL("image/jpeg",.8),T()}function T(){N&&(N.getTracks().forEach(u=>u.stop()),N=null),U.value=!1}async function x(){if(p.value){o.value=!0,y.value="",g.value="";try{const n=await(await fetch(p.value)).blob(),ee=new File([n],"face.jpg",{type:"image/jpeg"}),Z=await M(ee);let ue=null;if($.value==="granted")try{const S=await _();ue=z(S)}catch(S){console.warn("Failed to get location:",S.message)}const I={faceEmbedding:Z,ipAddress:"",location:ue};if(w.mode==="register"){if(!w.userId)throw new Error("User ID é obrigatório para registro");const S=await A(w.userId,I);g.value="Face registrada com sucesso!",C("success",S)}else{const S=await X(I);g.value=`Bem-vindo, ${S.name}!`,C("success",S)}}catch(u){y.value=u.message||"Erro durante o processamento",C("error",u)}finally{o.value=!1}}}function de(){T(),p.value=null,y.value="",g.value="",o.value=!1}return(u,n)=>(i(),l("div",sa,[t("div",oa,[t("h3",la,d(E.mode==="register"?"Cadastrar Face":"Reconhecimento Facial"),1),t("p",ia,d(E.mode==="register"?"Tire uma foto para registrar seu rosto":"Posicione seu rosto na câmera para autenticação"),1)]),t("div",na,[t("div",ra,[b(t("video",{ref_key:"videoElement",ref:k,class:"w-full h-full object-cover",autoplay:"",muted:"",playsinline:""},null,512),[[Tt,!p.value&&U.value]]),p.value?(i(),l("img",{key:0,src:p.value,class:"w-full h-full object-cover",alt:"Captured face"},null,8,da)):m("",!0),!U.value&&!p.value?(i(),l("div",ua,[...n[0]||(n[0]=[t("div",{class:"text-center text-slate-400"},[t("i",{class:"fa-solid fa-camera text-4xl mb-2"}),t("p",{class:"text-sm"},"Câmera inativa")],-1)])])):m("",!0),U.value&&!p.value?(i(),l("div",ca,[...n[1]||(n[1]=[t("div",{class:"w-full h-full border-2 border-dashed border-orange-500/50 rounded-lg flex items-center justify-center"},[t("div",{class:"w-32 h-32 border-2 border-orange-500 rounded-full animate-pulse"})],-1)])])):m("",!0),o.value?(i(),l("div",pa,[t("div",ma,[n[2]||(n[2]=t("i",{class:"fa-solid fa-spinner fa-spin text-2xl mb-2"},null,-1)),t("p",va,d(E.mode==="register"?"Registrando...":"Reconhecendo..."),1)])])):m("",!0)]),y.value?(i(),l("div",fa,[n[3]||(n[3]=t("i",{class:"fa-solid fa-exclamation-triangle mr-1"},null,-1)),V(" "+d(y.value),1)])):m("",!0),g.value?(i(),l("div",xa,[n[4]||(n[4]=t("i",{class:"fa-solid fa-check-circle mr-1"},null,-1)),V(" "+d(g.value),1)])):m("",!0),t("div",ga,[!U.value&&!p.value?(i(),l("button",{key:0,onClick:we,class:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2",disabled:o.value},[...n[5]||(n[5]=[t("i",{class:"fa-solid fa-camera"},null,-1),V(" Iniciar Câmera ",-1)])],8,ba)):m("",!0),U.value&&!p.value?(i(),l("button",{key:1,onClick:Ce,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2",disabled:o.value},[...n[6]||(n[6]=[t("i",{class:"fa-solid fa-camera-retro"},null,-1),V(" Capturar ",-1)])],8,ya)):m("",!0),p.value&&!o.value?(i(),l("button",{key:2,onClick:x,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2"},[n[7]||(n[7]=t("i",{class:"fa-solid fa-brain"},null,-1)),V(" "+d(E.mode==="register"?"Registrar":"Autenticar"),1)])):m("",!0),p.value||U.value?(i(),l("button",{key:3,onClick:de,class:"bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2",disabled:o.value},[...n[8]||(n[8]=[t("i",{class:"fa-solid fa-redo"},null,-1),V(" Refazer ",-1)])],8,ha)):m("",!0)]),$.value==="requesting"?(i(),l("div",wa,[...n[9]||(n[9]=[t("i",{class:"fa-solid fa-location-dot mr-1"},null,-1),V(" Solicitando permissão de localização... ",-1)])])):m("",!0)])]))}};function ka(){return{migrateTemporaryFileToUser:async(w,C,k,U)=>{try{const{apiFetch:p}=await Ae(async()=>{const{apiFetch:g}=await import("./Dbx-Jqc8.js");return{apiFetch:g}},__vite__mapDeps([0,1,2,3]),import.meta.url),o=new URLSearchParams({userId:w,tempObjectKey:C,filename:k,fileType:U}),y=await p(`/api/v1/temp/files/migrate?${o.toString()}`,{method:"POST"});if(!y.success)throw new Error(y.error||"Erro ao migrar arquivo temporário");return{objectKey:y.data.objectKey,publicUrl:y.data.publicUrl,migrated:y.data.migrated}}catch(p){throw console.error("File migration error:",p),p}},getCurrentLocation:async()=>new Promise(w=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(C=>{const{latitude:k,longitude:U}=C.coords;w(`${k},${U}`)},C=>{console.warn("Geolocation error:",C),w(null)},{timeout:5e3,enableHighAccuracy:!1}):w(null)})}}async function _a(){return await Ht()}async function Ea(E){return await Zt(E)}async function Ua(E,Q){return await Xt(E,Q)}async function Ia(E){return await Jt(E)}const Sa={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Pa={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},$a={class:"px-6"},Aa={class:"flex space-x-8 overflow-x-auto"},Ta=["onClick"],Fa={class:"p-6"},ja={key:0},Va={class:"bg-gray-800 rounded-lg overflow-hidden"},Na={key:0,class:"p-8 text-center"},Ra={key:1,class:"overflow-x-auto"},Da={class:"w-full text-sm text-left min-w-[800px]"},Oa={class:"px-3 md:px-6 py-3 font-medium"},La={class:"px-3 md:px-6 py-3 text-slate-300"},za={class:"px-3 md:px-6 py-3"},Ma={class:"flex gap-1 flex-wrap"},Ka={class:"px-3 md:px-6 py-3"},qa={class:"text-xs text-slate-400"},Ba={key:0},Ga={key:1},Ha={key:2},Ja={key:3,class:"text-slate-500"},Xa={class:"px-3 md:px-6 py-3"},Za={class:"text-xs text-slate-400"},Ya={key:0},Wa={key:1},Qa={key:2},es={key:3,class:"text-slate-500"},ts={class:"px-3 md:px-6 py-3"},as={class:"text-xs text-slate-400"},ss={key:0},os={key:1,class:"text-slate-500"},ls={class:"px-3 md:px-6 py-3"},is={class:"flex items-center gap-1 md:gap-2"},ns=["onClick"],rs=["onClick"],ds={key:1},us={class:"bg-gray-800 rounded-lg p-4 space-y-3"},cs={class:"space-y-3"},ps={class:"flex items-end gap-2 flex-wrap"},ms={class:"min-w-[16rem]"},vs=["disabled"],fs={key:0,class:"fa-solid fa-spinner fa-spin"},xs={key:1,class:"fa-solid fa-plus"},gs={class:"mt-1 space-y-2"},bs=["onClick"],ys=["checked"],hs={class:"text-sm font-medium"},ws={class:"text-[11px] text-slate-400"},Cs={class:"flex items-center gap-2"},ks=["onClick","title","aria-label"],_s=["onClick"],Es=["onClick"],Us={key:2},Is={class:"mb-4"},Ss={class:"flex flex-wrap gap-2"},Ps=["onClick"],$s={class:"bg-gray-800 rounded-lg overflow-hidden"},As={key:0,class:"p-8 text-center"},Ts={key:0,class:"text-slate-300"},Fs={key:1,class:"text-slate-300"},js={key:2,class:"text-slate-400 text-sm"},Vs={key:1,class:"divide-y divide-slate-700"},Ns={class:"flex items-center gap-3"},Rs={class:"text-xs text-slate-400"},Ds={class:"text-[10px] px-2 py-0.5 bg-slate-700/60 text-slate-300 rounded-md"},Os={class:"flex items-center gap-2"},Ls=["onClick"],zs=["onClick"],Ms={key:3},Ks={class:"space-y-3 max-h-[70vh] overflow-y-auto pr-1"},qs={class:"space-y-2"},Bs={class:"rounded-md border border-slate-700/60 bg-slate-900/40 px-3 py-2"},Gs={class:"text-white text-sm font-semibold"},Hs={class:"text-[11px] text-slate-400"},Js=["placeholder"],Xs={key:0,class:"text-[11px] text-red-400 mt-1"},Zs={class:"flex items-center justify-end gap-2"},Ys=["disabled"],Ws={class:"space-y-4"},Qs=["value"],eo={class:"mt-2 grid grid-cols-5 gap-2"},to=["title","onClick"],ao={class:"mt-4 p-3 bg-slate-800/40 rounded-lg"},so={class:"flex items-center gap-3"},oo={class:"text-sm text-white"},lo={class:"text-[10px] px-2 py-0.5 bg-slate-700/60 text-slate-300 rounded-md"},io={class:"flex items-center justify-end gap-2"},no={class:"space-y-4 max-h-[60vh] md:max-h-[70vh] overflow-y-auto pr-1"},ro={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},uo={class:"flex items-center justify-between"},co={key:0,class:"flex items-center"},po=["title"],mo={class:"relative"},vo=["disabled"],fo={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},xo={key:1,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},go={key:2,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},bo={key:0,class:"text-[11px] text-red-400 mt-1"},yo={key:1,class:"text-[11px] text-green-400 mt-1"},ho={key:2,class:"text-[11px] text-red-400 mt-1"},wo={class:"border-t border-slate-700 pt-4"},Co={class:"border-t border-slate-700 pt-4"},ko={class:"mb-3"},_o={class:"border-t border-slate-700 pt-4"},Eo={key:0},Uo={class:"mt-2 space-y-2"},Io=["checked","onChange"],So={class:"text-sm text-slate-200"},Po={class:"border-t border-slate-700 pt-4"},$o={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ao={class:"border-t border-slate-700 pt-4"},To={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fo=["value"],jo={class:"border-t border-slate-700 pt-4"},Vo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},No=["value"],Ro=["placeholder"],Do={key:1,class:"border-t border-slate-700 pt-4"},Oo={class:"flex items-center justify-end gap-2"},Lo={__name:"index",setup(E){jt({title:"Admin"});const Q=Vt(),{setLastKey:w}=ta(),C=c("users");c(!1);const k=c([]),U=[{value:"users",label:"Usuários",icon:"fa-solid fa-users"},{value:"pipeline",label:"Esteira",icon:"fa-solid fa-sitemap"},{value:"status",label:"Status",icon:"fa-solid fa-circle-info"},{value:"notifications",label:"Notificações",icon:"fa-solid fa-bell"}],p=c(!1),o=c({id:null,name:"",email:"",password:"",roles:[],cpf:"",cnpj:"",rg:"",banco:"",agencia:"",conta:"",tipoConta:"",pixTipo:"",pixChave:"",fotoPerfilUrl:"",comprovanteEnderecoUrl:"",localizacaoCadastro:"",tipoIdentificacao:"",documentoIdentificacaoUrl:"",documentoIdentificacaoObjectKey:""}),y=c(!1),g=c(null),$=c(""),N=c(null),_=c(!1),z=c(!1),A=ge(()=>o.value.id),X=c(null),M=c([]),he=[{value:"admin",label:"Administrador"},{value:"user",label:"Usuário"},{value:"viewer",label:"Visualizador"}],we=[{value:"CORRENTE",label:"Conta Corrente"},{value:"POUPANCA",label:"Poupança"}],Ce=[{value:"CPF",label:"CPF"},{value:"CNPJ",label:"CNPJ"},{value:"EMAIL",label:"Email"},{value:"TELEFONE",label:"Telefone"},{value:"CHAVE_ALEATORIA",label:"Chave Aleatória"},{value:"OUTROS",label:"Outros"}],{success:T,error:x,info:de}=Nt();ge(()=>u.value.find(e=>e.key===n.value)?.name||"");const u=c(Se()),n=c(u.value[0]?.key||""),ee=c(""),Z=c(!1);async function ue(){const s=ee.value.trim();if(!s)return;const e=globalThis.crypto?.randomUUID?.()||Math.random().toString(36).slice(2)+Date.now().toString(36);if(Z.value)return;Z.value=!0,u.value=[...u.value,{key:e,name:s,active:!0}],await Kt(e,s||e)?(n.value=e,w(e),ee.value="",T("Processo criado")):(u.value=u.value.filter(r=>r.key!==e),x("Falha ao criar processo. Tente novamente.")),Z.value=!1}const I=c([{id:"dados_basicos",title:"Dados Básicos",slaDays:2,color:"sky"},{id:"documentacao",title:"Documentação",slaDays:5,color:"indigo"}]),S=c(""),te=c(!1);function Ge(){te.value=!0}function He(){te.value=!1}async function Je(){if(n.value){if(!$e()){const a=aa(S.value||n.value),v=(f=>{const j=new Set(Se().map(K=>K.key));if(!j.has(f)||f===n.value)return f;let h=2;for(;j.has(`${f}-${h}`);)h++;return`${f}-${h}`})(a);if(v!==n.value){if(!Bt(n.value,v).ok)return;n.value=v,w(v)}}const s=S.value||n.value,e=await Gt(n.value,s);e&&(u.value=u.value.map(a=>a.key===n.value?{...a,name:s}:a));try{const a=(I.value||[]).map(v=>({id:v.id,title:v.title})),r=await Qt(n.value,a,I.value);if(Array.isArray(r)&&r.length){const v=r.map(f=>({id:f.id,title:f.title,slaDays:f.slaDays,color:f.color}));I.value=v;try{const f=`pipeline_stage_forms__${n.value}`,j=localStorage.getItem(f),h=j?JSON.parse(j)||{}:{},K={...h};for(let W=0;W<v.length;W++){const G=a[W]?.id,q=v[W]?.id;if(!(!G||!q||G===q)&&h[G]&&(K[q]=h[G],delete K[G],$e()&&/^[a-fA-F0-9]{24}$/.test(q))){const fe=(K[q]||[]).map((ne,le)=>({...ne,order:le}));try{await ea(q,fe)}catch{}}}localStorage.setItem(f,JSON.stringify(K))}catch{}}e?T("Esteira salva"):de("Etapas salvas; falha ao renomear o processo"),te.value=!1}catch{x("Falha ao salvar etapas. Verifique a conexão.");return}}else te.value=!1}ze(()=>Q.query.tab,s=>{const e=String(s||"users");["users","pipeline","status","notifications"].includes(e)&&(C.value=e)},{immediate:!0}),qe(async()=>{if(await me(),await ve(),!n.value)return;const s=await Pe(n.value);I.value=Array.isArray(s)?s.map(e=>({id:e.id,title:e.title,slaDays:e.slaDays,color:e.color})):[],await ke()}),ze(n,async s=>{if(!s){I.value=[];return}const e=await Pe(s);I.value=Array.isArray(e)?e.map(r=>({id:r.id,title:r.title,slaDays:r.slaDays,color:r.color})):[],w(s);const a=u.value.find(r=>r.key===s);S.value=a?.name||s,await ke()});function Xe(s){qt(s.key,s.active===!1),u.value=Se()}async function Ze(s){n.value=s.key;const e=await Pe(s.key);I.value=Array.isArray(e)?e.map(a=>({id:a.id,title:a.title,slaDays:a.slaDays,color:a.color})):[],w(s.key),S.value=s.name||s.key,await ke(),Ge()}async function ke(){if($e())try{const s=`pipeline_stage_forms__${n.value}`,e=localStorage.getItem(s),r={...e?JSON.parse(e)||{}:{}};for(const v of I.value||[]){const f=v?.id;if(!(!f||!/^[a-fA-F0-9]{24}$/.test(f)))try{const j=await Yt(f);Array.isArray(j)&&(r[f]=j.map(h=>({id:h.id||String(Date.now()),label:h.label,type:h.type,required:!!h.required,placeholder:h.placeholder||"",options:Array.isArray(h.options)?h.options:[]})))}catch{}}localStorage.setItem(s,JSON.stringify(r))}catch{}}const ce=c(!1),B=c(null),ae=c(""),_e=ge(()=>{const s=(B.value?.name||"").trim().toLowerCase(),e=ae.value.trim().toLowerCase();return!!s&&e===s}),pe=c(!1);function Ye(s){B.value=s,ae.value="",ce.value=!0}function Te(){ce.value=!1,B.value=null,ae.value=""}async function We(){const s=B.value;if(!s||!_e.value)return;const e=s.key;u.value=u.value.filter(r=>r.key!==e),n.value===e&&(n.value=u.value[0]?.key||"",I.value=[],n.value&&w(n.value)),await Ke(e)?T("Processo excluído"):(u.value=[...u.value,s],x("Falha ao excluir. Tente novamente.")),Te()}function Qe(s){if((s.ctrlKey||s.metaKey)&&s.key.toLowerCase()==="v"){s.preventDefault();return}}function et(){pe.value=!0}function Fe(){pe.value=!1}function tt(){try{u.value.map(e=>e.key).forEach(e=>Ke(e)),localStorage.removeItem("pipeline_processes")}catch{}u.value=[],n.value="",I.value=[],w(""),Fe()}const se=c([]),Ee=Wt,ie=c(null),Y=c(!1),F=c({id:null,name:"",color:"#3b82f6",category:"ESTEIRA"}),oe=c(!1),at=[{name:"Azul",value:"#3b82f6"},{name:"Verde",value:"#10b981"},{name:"Vermelho",value:"#ef4444"},{name:"Amarelo",value:"#f59e0b"},{name:"Roxo",value:"#8b5cf6"},{name:"Rosa",value:"#ec4899"},{name:"Laranja",value:"#f97316"},{name:"Ciano",value:"#06b6d4"},{name:"Lima",value:"#65a30d"},{name:"Índigo",value:"#6366f1"}],je=ge(()=>ie.value===null?se.value:se.value.filter(s=>s.category===ie.value));async function me(){try{console.log("Loading status list..."),se.value=await _a(),console.log("Status list loaded:",se.value.length,"items")}catch(s){console.error("Failed to load status list:",s),x("Erro ao carregar status")}}function Ve(s){ie.value=s}function Ne(s){const e=Ee.find(a=>a.value===s);return e?e.label:"Desconhecido"}function st(){F.value={id:null,name:"",color:"#3b82f6",category:"ESTEIRA"},oe.value=!1,Y.value=!0}function ot(s){F.value={id:s.id,name:s.name,color:s.color,category:s.category},oe.value=!0,Y.value=!0}async function lt(){try{const{id:s,name:e,color:a,category:r}=F.value;if(!e.trim()){x("Nome é obrigatório");return}oe.value&&s?await Ua(s,{name:e.trim(),color:a,category:r})&&(T("Status atualizado com sucesso"),await me(),Y.value=!1):await Ea({name:e.trim(),color:a,category:r})&&(T("Status criado com sucesso"),await me(),Y.value=!1)}catch(s){console.error("Error saving status:",s),x("Erro ao salvar status")}}async function it(s){if(confirm("Tem certeza que deseja excluir este status?"))try{await Ia(s)?(T("Status excluído com sucesso"),await me()):x("Erro ao excluir status")}catch(e){console.error("Error deleting status:",e),x("Erro ao excluir status")}}function nt(){Y.value=!1,F.value={id:null,name:"",color:"#3b82f6",category:"ESTEIRA"},oe.value=!1}function Re(s,e=.2){const a=parseInt(s.slice(1,3),16),r=parseInt(s.slice(3,5),16),v=parseInt(s.slice(5,7),16);return`rgba(${a}, ${r}, ${v}, ${e})`}function rt(s){if(!s?.color)return"";const e=s.color;return`background-color: ${Re(e,.1)}; color: ${e}; --tw-ring-color: ${Re(e,.3)};`}async function ve(){try{console.log("Loading users list..."),k.value=await Dt(),console.log("Users list loaded:",k.value.length,"items")}catch(s){console.error("Failed to load users list:",s),x("Erro ao carregar usuários")}}const{getCurrentLocation:dt,formatLocation:ut}=Be(),{migrateTemporaryFileToUser:ct}=ka();async function pt(){let s=null;try{const e=await dt();s=ut(e)}catch(e){console.warn("Não foi possível obter localização:",e.message)}o.value={id:null,name:"",email:"",password:"",roles:[],cpf:"",cnpj:"",rg:"",banco:"",agencia:"",conta:"",tipoConta:"",pixTipo:"",pixChave:"",fotoPerfilUrl:"",comprovanteEnderecoUrl:"",localizacaoCadastro:s||"",tipoIdentificacao:"",documentoIdentificacaoUrl:"",documentoIdentificacaoObjectKey:""},_.value=!1,y.value=!1,g.value=null,$.value="",z.value=!1,X.value=`session_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,M.value=[],p.value=!0}function mt(s){o.value={id:s.id,name:s.name,email:s.email,password:"",roles:[...s.roles],cpf:s.cpf||"",cnpj:s.cnpj||"",rg:s.rg||"",banco:s.banco||"",agencia:s.agencia||"",conta:s.conta||"",tipoConta:s.tipoConta||"",pixTipo:s.pixTipo||"",pixChave:s.pixChave||"",fotoPerfilUrl:s.fotoPerfilUrl||"",comprovanteEnderecoUrl:s.comprovanteEnderecoUrl||"",localizacaoCadastro:s.localizacaoCadastro||"",tipoIdentificacao:s.tipoIdentificacao||"",documentoIdentificacaoUrl:s.documentoIdentificacaoUrl||""},_.value=!0,z.value=!1,p.value=!0}async function vt(){try{const{id:s,name:e,email:a,password:r,roles:v,cpf:f,cnpj:j,rg:h,banco:K,agencia:W,conta:G,tipoConta:q,pixTipo:fe,pixChave:ne}=o.value;if(!e.trim()){x("Nome é obrigatório");return}if(!a.trim()){x("Email é obrigatório");return}if(v.length===0){x("Selecione pelo menos uma role");return}if(_.value||s)await Lt(s,{name:e.trim(),email:a.trim(),roles:v,cpf:f||void 0,cnpj:j||void 0,rg:h||void 0,banco:K||void 0,agencia:W||void 0,conta:G||void 0,tipoConta:q||void 0,pixTipo:fe||void 0,pixChave:ne||void 0})&&(T("Usuário atualizado com sucesso"),await ve(),p.value=!1);else{if(!r.trim()){x("Senha é obrigatória");return}if(r.trim().length<6){x("Senha deve ter no mínimo 6 caracteres");return}const le=await zt({name:e.trim(),email:a.trim(),password:r.trim(),roles:v,cpf:f||void 0,cnpj:j||void 0,rg:h||void 0,banco:K||void 0,agencia:W||void 0,conta:G||void 0,tipoConta:q||void 0,pixTipo:fe||void 0,pixChave:ne||void 0,fotoPerfilUrl:o.value.fotoPerfilUrl||void 0,comprovanteEnderecoUrl:o.value.comprovanteEnderecoUrl||void 0,localizacaoCadastro:o.value.localizacaoCadastro||void 0});if(le){if(M.value.length>0){console.log(`Migrando ${M.value.length} arquivos temporários para usuário ${le.id}`);for(const xe of M.value)try{const Ue=await ct(le.id,xe.tempObjectKey,xe.filename,xe.type);console.log("Arquivo migrado com sucesso:",Ue)}catch(Ue){console.error(`Erro ao migrar arquivo ${xe.filename}:`,Ue)}}T("Usuário criado com sucesso"),await ve(),p.value=!1}}}catch(s){console.error("Error saving user:",s),x("Erro ao salvar usuário")}}async function ft(s){if(confirm("Tem certeza que deseja excluir este usuário?"))try{await Ot(s)?(T("Usuário excluído com sucesso"),await ve()):x("Erro ao excluir usuário")}catch(e){console.error("Error deleting user:",e),x("Erro ao excluir usuário")}}function xt(){p.value=!1,o.value={id:null,name:"",email:"",password:"",roles:[],cpf:"",cnpj:"",rg:"",banco:"",agencia:"",conta:"",tipoConta:"",pixTipo:"",pixChave:"",fotoPerfilUrl:"",comprovanteEnderecoUrl:"",localizacaoCadastro:"",tipoIdentificacao:"",documentoIdentificacaoUrl:"",documentoIdentificacaoObjectKey:""},_.value=!1}function gt(s){console.log("Foto de perfil selecionada:",s.name)}function bt(s){console.log("Foto de perfil enviada:",s),o.value.fotoPerfilUrl=s.publicUrl,o.value.fotoPerfilObjectKey=s.objectKey,s.isTemporary&&M.value.push({type:"PROFILE_PHOTO",tempObjectKey:s.objectKey,filename:s.filename,sessionId:s.sessionId})}function De(s){console.log("Comprovante de endereço selecionado:",s.name)}function Oe(s){console.log("Comprovante de endereço enviado:",s),o.value.comprovanteEnderecoUrl=s.publicUrl,o.value.comprovanteEnderecoObjectKey=s.objectKey,s.isTemporary&&M.value.push({type:"ADDRESS_PROOF",tempObjectKey:s.objectKey,filename:s.filename,sessionId:s.sessionId})}function yt(s){console.log("Documento de identificação selecionado:",s.name)}function ht(s){console.log("Documento de identificação enviado:",s),o.value.documentoIdentificacaoUrl=s.publicUrl,o.value.documentoIdentificacaoObjectKey=s.objectKey,s.isTemporary&&M.value.push({type:o.value.tipoIdentificacao||"IDENTITY",tempObjectKey:s.objectKey,filename:s.filename,sessionId:s.sessionId})}function wt(s){T("Face registrada com sucesso!"),console.log("Face registration success:",s)}function Ct(s){x("Erro ao registrar face: "+s.message),console.error("Face registration error:",s)}function kt(s){const e=o.value.roles,a=e.indexOf(s);a>-1?e.splice(a,1):e.push(s)}function _t(s){return s?s.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):""}function Et(s){return s?s.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):""}function Ut(s){let e=s.target.value.replace(/\D/g,"");e.length<=11&&(e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),o.value.cpf=e)}function It(s){let e=s.target.value.replace(/\D/g,"");e.length<=14&&(e=e.replace(/(\d{2})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1/$2"),e=e.replace(/(\d{4})(\d{1,2})$/,"$1-$2"),o.value.cnpj=e)}function St(){switch(o.value.pixTipo){case"CPF":return"000.000.000-00";case"CNPJ":return"00.000.000/0000-00";case"EMAIL":return"exemplo@email.com";case"TELEFONE":return"+5511999999999";case"CHAVE_ALEATORIA":return"chave-aleatoria-uuid";default:return"Digite a chave PIX"}}function Pt(){g.value=null,$.value="",N.value&&clearTimeout(N.value);const s=o.value.email.trim();s&&s.includes("@")&&!_.value&&!A.value&&(N.value=setTimeout(()=>{Le()},500))}async function Le(){const s=o.value.email.trim(),e=o.value.name.trim();if(!(_.value||A.value)){if(!s||!s.includes("@")){g.value=null,$.value="";return}try{y.value=!0,$.value="";const{apiFetch:a}=await Ae(async()=>{const{apiFetch:v}=await import("./Dbx-Jqc8.js");return{apiFetch:v}},__vite__mapDeps([0,1,2,3]),import.meta.url);(await a(`/api/v1/users/check-email?email=${encodeURIComponent(s)}`)).available?(g.value=!0,e&&e.length>=2&&await $t()):g.value=!1}catch(a){console.error("Erro ao verificar email:",a),$.value="Erro ao verificar email",g.value=null}finally{y.value=!1}}}async function $t(){const s=o.value.name.trim(),e=o.value.email.trim();if(!(!s||!e||g.value!==!0))try{const{apiFetch:a}=await Ae(async()=>{const{apiFetch:v}=await import("./Dbx-Jqc8.js");return{apiFetch:v}},__vite__mapDeps([0,1,2,3]),import.meta.url),r=await a("/api/v1/users/create-basic",{method:"POST",body:{name:s,email:e,password:"temp123"}});r.id&&(o.value.id=r.id,de(`Usuário ${s} salvo. Continue preenchendo os dados.`),console.log("Usuário básico criado:",r))}catch(a){console.error("Erro ao criar usuário básico:",a),x("Erro ao salvar usuário. Tente novamente.")}}return(s,e)=>(i(),l("div",Sa,[e[92]||(e[92]=t("header",{class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4"},[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Painel Administrativo"),t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Gerencie usuários, configurações e sistema ")])])],-1)),t("div",Pa,[t("nav",$a,[t("div",Aa,[(i(),l(D,null,O(U,a=>t("button",{key:a.value,class:H(["py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap",C.value===a.value?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:r=>C.value=a.value},[t("i",{class:H([a.icon,"mr-2"])},null,2),V(" "+d(a.label),1)],10,Ta)),64))])])]),t("main",Fa,[C.value==="users"?(i(),l("section",ja,[t("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3"},[e[36]||(e[36]=t("h2",{class:"text-xl font-semibold"},"Usuários",-1)),t("button",{class:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 md:px-3 md:py-2 rounded-md text-sm flex items-center gap-2 w-full sm:w-auto justify-center",onClick:pt},[...e[35]||(e[35]=[t("i",{class:"fa-solid fa-user-plus"},null,-1),V(" Novo Usuário ",-1)])])]),t("div",Va,[k.value.length===0?(i(),l("div",Na,[...e[37]||(e[37]=[t("i",{class:"fa-solid fa-users text-4xl text-slate-400 mb-3"},null,-1),t("p",{class:"text-slate-300"},"Nenhum usuário cadastrado",-1),t("p",{class:"text-slate-400 text-sm"},' Clique em "Novo Usuário" para começar ',-1)])])):(i(),l("div",Ra,[t("table",Da,[e[40]||(e[40]=t("thead",{class:"bg-gray-700/60 text-xs text-slate-300 uppercase"},[t("tr",null,[t("th",{class:"px-3 md:px-6 py-3 min-w-[120px]"},"Nome"),t("th",{class:"px-3 md:px-6 py-3 min-w-[150px]"},"Email"),t("th",{class:"px-3 md:px-6 py-3 min-w-[100px]"},"Roles"),t("th",{class:"px-3 md:px-6 py-3 min-w-[140px]"},"Documentos"),t("th",{class:"px-3 md:px-6 py-3 min-w-[140px]"},"Dados Bancários"),t("th",{class:"px-3 md:px-6 py-3 min-w-[120px]"},"PIX"),t("th",{class:"px-3 md:px-6 py-3 min-w-[100px]"},"Ações")])],-1)),t("tbody",null,[(i(!0),l(D,null,O(k.value,a=>(i(),l("tr",{key:a.id,class:"border-b border-gray-700 hover:bg-slate-700/30"},[t("td",Oa,d(a.name),1),t("td",La,d(a.email),1),t("td",za,[t("div",Ma,[(i(!0),l(D,null,O(a.roles,r=>(i(),l("span",{key:r,class:"text-[10px] px-2 py-0.5 bg-slate-700/60 text-slate-300 rounded-md"},d(r),1))),128))])]),t("td",Ka,[t("div",qa,[a.cpf?(i(),l("div",Ba,"CPF: "+d(_t(a.cpf)),1)):m("",!0),a.cnpj?(i(),l("div",Ga," CNPJ: "+d(Et(a.cnpj)),1)):m("",!0),a.rg?(i(),l("div",Ha,"RG: "+d(a.rg),1)):m("",!0),!a.cpf&&!a.cnpj&&!a.rg?(i(),l("div",Ja," - ")):m("",!0)])]),t("td",Xa,[t("div",Za,[a.banco?(i(),l("div",Ya,d(a.banco),1)):m("",!0),a.agencia&&a.conta?(i(),l("div",Wa," Ag: "+d(a.agencia)+" / CC: "+d(a.conta),1)):m("",!0),a.tipoConta?(i(),l("div",Qa,d(a.tipoConta),1)):m("",!0),!a.banco&&!a.agencia&&!a.conta?(i(),l("div",es," - ")):m("",!0)])]),t("td",ts,[t("div",as,[a.pixTipo&&a.pixChave?(i(),l("div",ss,d(a.pixTipo)+": "+d(a.pixChave),1)):(i(),l("div",os,"-"))])]),t("td",ls,[t("div",is,[t("button",{class:"text-slate-400 hover:text-white p-1.5 md:p-2 rounded-md hover:bg-slate-600 transition-colors",onClick:r=>mt(a),title:"Editar"},[...e[38]||(e[38]=[t("i",{class:"fa-solid fa-pen text-sm"},null,-1)])],8,ns),t("button",{class:"text-red-400 hover:text-red-300 p-1.5 md:p-2 rounded-md hover:bg-red-900/20 transition-colors",onClick:r=>ft(a.id||""),title:"Excluir"},[...e[39]||(e[39]=[t("i",{class:"fa-solid fa-trash text-sm"},null,-1)])],8,rs)])])]))),128))])])]))])])):C.value==="pipeline"?(i(),l("section",ds,[e[47]||(e[47]=t("h2",{class:"text-xl font-semibold mb-2"},"Configurações da Esteira",-1)),t("div",us,[t("div",cs,[t("div",ps,[t("div",ms,[e[41]||(e[41]=t("label",{class:"text-[12px] text-slate-300"},"Novo processo (nome)",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>ee.value=a),class:"mt-1 bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"ex.: ConsorEquity"},null,512),[[P,ee.value]])]),t("button",{class:"bg-orange-500 hover:bg-orange-600 text-white p-2 rounded-md text-sm disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center w-9 h-9",disabled:Z.value,onClick:ue,title:"Adicionar processo","aria-label":"Adicionar processo"},[Z.value?(i(),l("i",fs)):(i(),l("i",xs))],8,vs),t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-md text-sm w-9 h-9 flex items-center justify-center",onClick:et,title:"Zerar dados locais","aria-label":"Zerar dados locais"},[...e[42]||(e[42]=[t("i",{class:"fa-solid fa-rotate-left"},null,-1)])])]),t("div",null,[e[45]||(e[45]=t("label",{class:"text-[12px] text-slate-300"},"Processos",-1)),t("div",gs,[(i(!0),l(D,null,O(u.value,a=>(i(),l("div",{key:a.key,class:"flex items-center justify-between bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2"},[t("label",{class:"inline-flex items-center gap-2 cursor-pointer",onClick:r=>n.value=a.key},[t("input",{type:"radio",class:"accent-orange-500",checked:n.value===a.key},null,8,ys),t("span",hs,d(a.name),1),t("span",ws,"("+d(a.key)+")",1)],8,bs),t("div",Cs,[t("span",{class:H(["text-[11px]",a.active!==!1?"text-green-300":"text-slate-400"])},d(a.active!==!1?"Ativo":"Inativo"),3),t("button",{class:"p-2 text-slate-300 hover:text-white transition-colors",onClick:J(r=>Xe(a),["stop"]),title:a.active!==!1?"Desativar":"Ativar","aria-label":a.active!==!1?"Desativar":"Ativar"},[t("i",{class:H(a.active!==!1?"fa-solid fa-power-off text-sky-400":"fa-solid fa-play text-sky-400")},null,2)],8,ks),t("button",{class:"p-2 text-slate-300 hover:text-sky-400 transition-colors",onClick:J(r=>Ze(a),["stop"]),title:"Editar","aria-label":"Editar"},[...e[43]||(e[43]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1)])],8,_s),t("button",{class:"p-2 text-red-400 hover:text-red-300 transition-colors",onClick:J(r=>Ye(a),["stop"]),title:"Excluir","aria-label":"Excluir"},[...e[44]||(e[44]=[t("i",{class:"fa-regular fa-trash-can"},null,-1)])],8,Es)])]))),128))])])]),e[46]||(e[46]=t("div",{class:"text-[12px] text-slate-300"},[V(" Selecione um processo acima e clique em "),t("span",{class:"text-orange-400 font-medium"},"Editar"),V(" para configurar colunas e inputs no modal. ")],-1))])])):C.value==="status"?(i(),l("section",Us,[t("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3"},[e[49]||(e[49]=t("h2",{class:"text-xl font-semibold"},"Gerenciar Status",-1)),t("button",{class:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 md:px-3 md:py-2 rounded-md text-sm flex items-center gap-2 w-full sm:w-auto justify-center",onClick:st},[...e[48]||(e[48]=[t("i",{class:"fa-solid fa-plus"},null,-1),V(" Novo Status ",-1)])])]),t("div",Is,[t("div",Ss,[t("button",{class:H(["px-3 py-2 md:py-1.5 text-sm rounded-md border transition-colors",ie.value===null?"bg-orange-500 text-white border-orange-500":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"]),onClick:e[1]||(e[1]=a=>Ve(null))}," Todos ",2),(i(!0),l(D,null,O(Me(Ee),a=>(i(),l("button",{key:a.value,class:H(["px-3 py-2 md:py-1.5 text-sm rounded-md border transition-colors",ie.value===a.value?"bg-orange-500 text-white border-orange-500":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"]),onClick:r=>Ve(a.value)},d(a.label),11,Ps))),128))])]),t("div",$s,[je.value.length===0?(i(),l("div",As,[e[50]||(e[50]=t("i",{class:"fa-solid fa-circle-info text-4xl text-slate-400 mb-3"},null,-1)),se.value.length===0?(i(),l("p",Ts," Nenhum status cadastrado ")):(i(),l("p",Fs," Nenhum status encontrado para esta categoria ")),se.value.length===0?(i(),l("p",js,' Clique em "Novo Status" para começar ')):m("",!0)])):(i(),l("div",Vs,[(i(!0),l(D,null,O(je.value,a=>(i(),l("div",{key:a.id,class:"flex items-center justify-between px-4 py-3 hover:bg-slate-700/30 group"},[t("div",Ns,[t("span",{class:"text-[10px] font-semibold px-2 py-1 rounded-md ring-1 ring-inset transition-colors",style:Ie(rt(a))},d(a.name),5),t("div",Rs,d(a.color),1),t("span",Ds,d(Ne(a.category)),1)]),t("div",Os,[t("button",{class:"text-slate-400 hover:text-white p-2 rounded-md hover:bg-slate-600 transition-colors",onClick:r=>ot(a),title:"Editar"},[...e[51]||(e[51]=[t("i",{class:"fa-solid fa-pen text-sm"},null,-1)])],8,Ls),t("button",{class:"text-red-400 hover:text-red-300 p-2 rounded-md hover:bg-red-900/20 transition-colors",onClick:r=>it(a.id),title:"Excluir"},[...e[52]||(e[52]=[t("i",{class:"fa-solid fa-trash text-sm"},null,-1)])],8,zs)])]))),128))]))])])):(i(),l("section",Ms,[...e[53]||(e[53]=[t("h2",{class:"text-xl font-semibold mb-4"},"Notificações",-1),t("div",{class:"bg-gray-800 rounded-lg p-4"},[t("p",{class:"text-slate-300"},"Configurações simples de exemplo.")],-1)])]))]),R(re,{modelValue:te.value,"onUpdate:modelValue":e[4]||(e[4]=a=>te.value=a),title:"Gestão da Esteira",size:"lg","z-index":55},{footer:L(()=>[t("div",{class:"flex items-center justify-end gap-2"},[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:He}," Fechar "),t("button",{class:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-md text-sm",onClick:Je}," Salvar ")])]),default:L(()=>[t("div",Ks,[t("div",null,[e[54]||(e[54]=t("label",{class:"text-[12px] text-slate-300"},"Nome do Processo",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>S.value=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"ex.: ConsorEquity"},null,512),[[P,S.value]])]),R(Mt,{stages:I.value,"onUpdate:stages":e[3]||(e[3]=a=>I.value=a),"pipeline-key":n.value},null,8,["stages","pipeline-key"])])]),_:1},8,["modelValue"]),R(re,{modelValue:ce.value,"onUpdate:modelValue":e[11]||(e[11]=a=>ce.value=a),title:"Confirmar exclusão",size:"sm","z-index":60},{footer:L(()=>[t("div",Zs,[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:Te}," Cancelar "),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:!_e.value,onClick:We}," Excluir ",8,Ys)])]),default:L(()=>[t("div",qs,[e[56]||(e[56]=t("p",{class:"text-sm text-slate-200"}," Para confirmar, digite exatamente o nome do processo abaixo. ",-1)),t("div",Bs,[t("div",Gs,d(B.value?.name||B.value?.key),1),t("div",Hs,d(B.value?.key),1)]),t("div",null,[e[55]||(e[55]=t("label",{class:"text-[12px] text-slate-300"},"Digite o nome do processo",-1)),b(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>ae.value=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:B.value?.name||"",autocomplete:"off",autocapitalize:"off",spellcheck:"false",onPaste:e[6]||(e[6]=J(()=>{},["prevent"])),onDrop:e[7]||(e[7]=J(()=>{},["prevent"])),onCopy:e[8]||(e[8]=J(()=>{},["prevent"])),onCut:e[9]||(e[9]=J(()=>{},["prevent"])),onContextmenu:e[10]||(e[10]=J(()=>{},["prevent"])),onKeydown:Qe},null,40,Js),[[P,ae.value]]),ae.value&&!_e.value?(i(),l("div",Xs," O nome não confere. ")):m("",!0)]),e[57]||(e[57]=t("p",{class:"text-[12px] text-slate-300"}," Esta ação remove as colunas, inputs e cards salvos localmente para este processo. ",-1))])]),_:1},8,["modelValue"]),R(re,{modelValue:pe.value,"onUpdate:modelValue":e[12]||(e[12]=a=>pe.value=a),title:"Zerar dados locais",size:"sm","z-index":60},{footer:L(()=>[t("div",{class:"flex items-center justify-end gap-2"},[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:Fe}," Cancelar "),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm",onClick:tt}," Zerar ")])]),default:L(()=>[e[58]||(e[58]=t("div",{class:"space-y-2"},[t("p",{class:"text-sm text-slate-200"}," Isto apagará todos os processos, colunas, inputs e cards salvos no navegador. "),t("p",{class:"text-[12px] text-slate-300"}," Use esta opção apenas para testes locais. Não há como desfazer. ")],-1))]),_:1},8,["modelValue"]),R(re,{modelValue:Y.value,"onUpdate:modelValue":e[15]||(e[15]=a=>Y.value=a),title:oe.value?"Editar Status":"Novo Status",size:"sm","z-index":70},{footer:L(()=>[t("div",io,[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:nt}," Cancelar "),t("button",{class:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-md text-sm",onClick:lt},d(oe.value?"Atualizar":"Criar"),1)])]),default:L(()=>[t("div",Ws,[t("div",null,[e[59]||(e[59]=t("label",{class:"text-[12px] text-slate-300"},"Nome do Status",-1)),b(t("input",{"onUpdate:modelValue":e[13]||(e[13]=a=>F.value.name=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Ex.: Em análise"},null,512),[[P,F.value.name]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"text-[12px] text-slate-300"},"Categoria",-1)),b(t("select",{"onUpdate:modelValue":e[14]||(e[14]=a=>F.value.category=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[(i(!0),l(D,null,O(Me(Ee),a=>(i(),l("option",{key:a.value,value:a.value},d(a.label),9,Qs))),128))],512),[[be,F.value.category]]),e[61]||(e[61]=t("p",{class:"text-[11px] text-slate-400 mt-1"}," Define onde este status será usado (esteira, usuários ou sistema) ",-1))]),t("div",null,[e[62]||(e[62]=t("label",{class:"text-[12px] text-slate-300"},"Cor",-1)),t("div",eo,[(i(),l(D,null,O(at,a=>t("button",{key:a.value,class:H(["w-8 h-8 rounded-full border-2 hover:scale-110 transition-transform",F.value.color===a.value?"border-white":"border-slate-600"]),style:Ie({backgroundColor:a.value}),title:a.name,onClick:r=>F.value.color=a.value},null,14,to)),64))])]),t("div",ao,[e[63]||(e[63]=t("div",{class:"text-[12px] text-slate-300 mb-2"},"Pré-visualização:",-1)),t("div",so,[t("div",{class:"w-3 h-3 rounded-full",style:Ie({backgroundColor:F.value.color})},null,4),t("span",oo,d(F.value.name||"Nome do Status"),1),t("span",lo,d(Ne(F.value.category)),1)])])])]),_:1},8,["modelValue","title"]),R(re,{modelValue:p.value,"onUpdate:modelValue":e[34]||(e[34]=a=>p.value=a),title:_.value?"Editar Usuário":"Novo Usuário",size:"lg","z-index":70},{footer:L(()=>[t("div",Oo,[t("button",{class:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-md text-sm",onClick:xt}," Cancelar "),t("button",{class:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-md text-sm",onClick:vt},d(_.value?"Atualizar":"Criar"),1)])]),default:L(()=>[t("div",no,[t("div",ro,[t("div",null,[e[64]||(e[64]=t("label",{class:"text-[12px] text-slate-300"},"Nome *",-1)),b(t("input",{"onUpdate:modelValue":e[16]||(e[16]=a=>o.value.name=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Nome completo"},null,512),[[P,o.value.name]])]),t("div",null,[t("div",uo,[e[65]||(e[65]=t("label",{class:"text-[12px] text-slate-300"},"Email *",-1)),_.value?(i(),l("div",co,[t("button",{type:"button",onClick:e[17]||(e[17]=a=>z.value=!z.value),class:"p-1 text-slate-400 hover:text-orange-400 transition-colors",title:z.value?"Desabilitar edição do email":"Habilitar edição do email"},[t("i",{class:H([z.value?"fa-regular fa-envelope":"fa-solid fa-envelope-circle-check","text-sm"])},null,2)],8,po)])):m("",!0)]),t("div",mo,[b(t("input",{"onUpdate:modelValue":e[18]||(e[18]=a=>o.value.email=a),type:"email",class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm pr-10",placeholder:"email@exemplo.com",disabled:_.value&&!z.value||!_.value&&A.value,onBlur:Le,onInput:Pt},null,40,vo),[[P,o.value.email]]),y.value?(i(),l("div",fo,[...e[66]||(e[66]=[t("i",{class:"fa-solid fa-spinner fa-spin text-orange-500"},null,-1)])])):g.value===!0?(i(),l("div",xo,[...e[67]||(e[67]=[t("i",{class:"fa-solid fa-check text-green-500"},null,-1)])])):g.value===!1?(i(),l("div",go,[...e[68]||(e[68]=[t("i",{class:"fa-solid fa-times text-red-500"},null,-1)])])):m("",!0)]),$.value?(i(),l("div",bo,d($.value),1)):g.value===!0?(i(),l("div",yo," Email disponível ")):g.value===!1?(i(),l("div",ho," Email já está em uso ")):m("",!0)])]),t("div",wo,[e[69]||(e[69]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Foto de Perfil ",-1)),R(ye,{label:"Foto de Perfil",accept:"image/*",modelValue:o.value.fotoPerfilUrl,"onUpdate:modelValue":e[19]||(e[19]=a=>o.value.fotoPerfilUrl=a),userId:A.value,temporaryMode:!A.value,sessionId:X.value,fileType:"PROFILE_PHOTO",onFileSelected:gt,onFileUploaded:bt},null,8,["modelValue","userId","temporaryMode","sessionId"])]),t("div",Co,[e[72]||(e[72]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Documento de Identificação ",-1)),t("div",ko,[e[71]||(e[71]=t("label",{class:"text-[12px] text-slate-300"},"Tipo de Documento",-1)),b(t("select",{"onUpdate:modelValue":e[20]||(e[20]=a=>o.value.tipoIdentificacao=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[...e[70]||(e[70]=[t("option",{value:""},"Selecione o tipo",-1),t("option",{value:"RG"},"RG - Registro Geral",-1),t("option",{value:"CNH"},"CNH - Carteira Nacional de Habilitação",-1)])],512),[[be,o.value.tipoIdentificacao]])]),R(ye,{label:`${o.value.tipoIdentificacao||"Documento de Identificação"}`,accept:"image/*,application/pdf",modelValue:o.value.documentoIdentificacaoUrl,"onUpdate:modelValue":e[21]||(e[21]=a=>o.value.documentoIdentificacaoUrl=a),userId:A.value,temporaryMode:!A.value,sessionId:X.value,fileType:o.value.tipoIdentificacao||"IDENTITY",onFileSelected:yt,onFileUploaded:ht},null,8,["label","modelValue","userId","temporaryMode","sessionId","fileType"])]),t("div",_o,[e[73]||(e[73]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Comprovante de Endereço ",-1)),e[74]||(e[74]=t("p",{class:"text-xs text-slate-400 mb-3"}," Aceita conta de luz, água, telefone, internet, extrato bancário, etc. ",-1)),R(ye,{label:"Comprovante de Endereço",accept:"image/*,application/pdf",modelValue:o.value.comprovanteEnderecoUrl,"onUpdate:modelValue":e[22]||(e[22]=a=>o.value.comprovanteEnderecoUrl=a),userId:A.value,temporaryMode:!A.value,sessionId:X.value,fileType:"ADDRESS_PROOF",onFileSelected:De,onFileUploaded:Oe},null,8,["modelValue","userId","temporaryMode","sessionId"])]),_.value?m("",!0):(i(),l("div",Eo,[e[75]||(e[75]=t("label",{class:"text-[12px] text-slate-300"},"Senha *",-1)),b(t("input",{"onUpdate:modelValue":e[23]||(e[23]=a=>o.value.password=a),type:"password",class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Mínimo 6 caracteres"},null,512),[[P,o.value.password]])])),t("div",null,[e[76]||(e[76]=t("label",{class:"text-[12px] text-slate-300"},"Roles *",-1)),t("div",Uo,[(i(),l(D,null,O(he,a=>t("label",{key:a.value,class:"flex items-center gap-2 cursor-pointer"},[t("input",{type:"checkbox",checked:o.value.roles.includes(a.value),onChange:r=>kt(a.value),class:"accent-orange-500"},null,40,Io),t("span",So,d(a.label),1)])),64))])]),t("div",Po,[e[80]||(e[80]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Documentos (opcionais) ",-1)),t("div",$o,[t("div",null,[e[77]||(e[77]=t("label",{class:"text-[12px] text-slate-300"},"CPF",-1)),b(t("input",{"onUpdate:modelValue":e[24]||(e[24]=a=>o.value.cpf=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"000.000.000-00",onInput:Ut,maxlength:"14"},null,544),[[P,o.value.cpf]])]),t("div",null,[e[78]||(e[78]=t("label",{class:"text-[12px] text-slate-300"},"CNPJ",-1)),b(t("input",{"onUpdate:modelValue":e[25]||(e[25]=a=>o.value.cnpj=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"00.000.000/0000-00",onInput:It,maxlength:"18"},null,544),[[P,o.value.cnpj]])]),t("div",null,[e[79]||(e[79]=t("label",{class:"text-[12px] text-slate-300"},"RG",-1)),b(t("input",{"onUpdate:modelValue":e[26]||(e[26]=a=>o.value.rg=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"00.000.000-0"},null,512),[[P,o.value.rg]])])]),R(ye,{label:"Comprovante de Endereço",accept:"image/*,application/pdf",modelValue:o.value.comprovanteEnderecoUrl,"onUpdate:modelValue":e[27]||(e[27]=a=>o.value.comprovanteEnderecoUrl=a),userId:A.value,temporaryMode:!A.value,sessionId:X.value,fileType:"ADDRESS_PROOF",onFileSelected:De,onFileUploaded:Oe},null,8,["modelValue","userId","temporaryMode","sessionId"])]),t("div",Ao,[e[86]||(e[86]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Dados Bancários (opcionais) ",-1)),t("div",To,[t("div",null,[e[81]||(e[81]=t("label",{class:"text-[12px] text-slate-300"},"Banco",-1)),b(t("input",{"onUpdate:modelValue":e[28]||(e[28]=a=>o.value.banco=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"Ex: Banco do Brasil"},null,512),[[P,o.value.banco]])]),t("div",null,[e[83]||(e[83]=t("label",{class:"text-[12px] text-slate-300"},"Tipo de Conta",-1)),b(t("select",{"onUpdate:modelValue":e[29]||(e[29]=a=>o.value.tipoConta=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[e[82]||(e[82]=t("option",{value:""},"Selecione...",-1)),(i(),l(D,null,O(we,a=>t("option",{key:a.value,value:a.value},d(a.label),9,Fo)),64))],512),[[be,o.value.tipoConta]])]),t("div",null,[e[84]||(e[84]=t("label",{class:"text-[12px] text-slate-300"},"Agência",-1)),b(t("input",{"onUpdate:modelValue":e[30]||(e[30]=a=>o.value.agencia=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"0000"},null,512),[[P,o.value.agencia]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"text-[12px] text-slate-300"},"Conta",-1)),b(t("input",{"onUpdate:modelValue":e[31]||(e[31]=a=>o.value.conta=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:"00000-0"},null,512),[[P,o.value.conta]])])])]),t("div",jo,[e[90]||(e[90]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," PIX (opcionais) ",-1)),t("div",Vo,[t("div",null,[e[88]||(e[88]=t("label",{class:"text-[12px] text-slate-300"},"Tipo de Chave PIX",-1)),b(t("select",{"onUpdate:modelValue":e[32]||(e[32]=a=>o.value.pixTipo=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm"},[e[87]||(e[87]=t("option",{value:""},"Selecione...",-1)),(i(),l(D,null,O(Ce,a=>t("option",{key:a.value,value:a.value},d(a.label),9,No)),64))],512),[[be,o.value.pixTipo]])]),t("div",null,[e[89]||(e[89]=t("label",{class:"text-[12px] text-slate-300"},"Chave PIX",-1)),b(t("input",{"onUpdate:modelValue":e[33]||(e[33]=a=>o.value.pixChave=a),class:"mt-1 w-full bg-slate-800/70 border border-slate-700/60 text-slate-200 rounded-md px-3 py-2 text-sm",placeholder:St()},null,8,Ro),[[P,o.value.pixChave]])])])]),_.value?(i(),l("div",Do,[e[91]||(e[91]=t("h4",{class:"text-sm font-medium text-slate-300 mb-3"}," Reconhecimento Facial ",-1)),R(Ca,{mode:"register",userId:o.value.id,onSuccess:wt,onError:Ct},null,8,["userId"])])):m("",!0)])]),_:1},8,["modelValue","title"])]))}},Zo=Ft(Lo,[["__scopeId","data-v-e72d4634"]]);export{Zo as default};
