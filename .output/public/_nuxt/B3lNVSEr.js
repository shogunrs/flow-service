const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BH6je_ft.js","./qcAyaCsh.js","./entry.DO5d1tXt.css","./CV9EyYCX.js"])))=>i.map(i=>d[i]);
import{z as ge,r as ie,L as Nt,_ as Ia,G as ze,M as _a,y as ka,c as J,o as K,a as P,b as Ua,t as oe,l as ne,n as Mt,d as se,F as Ba,k as Fa,j as $e,w as St,I as za,s as $a}from"./qcAyaCsh.js";/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Rt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function pa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(t),!0).forEach(function(a){ja(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function Ga(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function ma(r){var e=Ga(r,"string");return typeof e=="symbol"?e:e+""}function dt(r){"@babel/helpers - typeof";return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(r)}function Ha(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,ma(a.key),a)}}function Wa(r,e,t){return e&&Lt(r.prototype,e),t&&Lt(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ja(r,e,t){return e=ma(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ga(r){return Ya(r)||qa(r)||Va(r)||Xa()}function Ya(r){if(Array.isArray(r))return ht(r)}function qa(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Va(r,e){if(r){if(typeof r=="string")return ht(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ht(r,e)}}function ht(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}function Xa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe=typeof window<"u"&&typeof window.document<"u",pe=Fe?window:{},yt=Fe&&pe.document.documentElement?"ontouchstart"in pe.document.documentElement:!1,xt=Fe?"PointerEvent"in pe:!1,V="cropper",Et="all",va="crop",ba="move",wa="zoom",we="e",ye="w",De="s",me="n",Ne="ne",Me="nw",Se="se",Re="sw",ut="".concat(V,"-crop"),Pt="".concat(V,"-disabled"),le="".concat(V,"-hidden"),It="".concat(V,"-hide"),Za="".concat(V,"-invisible"),Be="".concat(V,"-modal"),ft="".concat(V,"-move"),Ie="".concat(V,"Action"),ke="".concat(V,"Preview"),Dt="crop",ya="move",xa="none",pt="crop",mt="cropend",gt="cropmove",vt="cropstart",_t="dblclick",Ja=yt?"touchstart":"mousedown",Ka=yt?"touchmove":"mousemove",Qa=yt?"touchend touchcancel":"mouseup",kt=xt?"pointerdown":Ja,Ut=xt?"pointermove":Ka,Bt=xt?"pointerup pointercancel":Qa,Ft="ready",zt="resize",$t="wheel",bt="zoom",Gt="image/jpeg",er=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,tr=/^data:/,ar=/^data:image\/jpeg;base64,/,rr=/^img|canvas$/i,Ea=200,Da=100,Ht={viewMode:0,dragMode:Dt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ea,minContainerHeight:Da,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ir='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',or=Number.isNaN||pe.isNaN;function G(r){return typeof r=="number"&&!or(r)}var Wt=function(e){return e>0&&e<1/0};function Ge(r){return typeof r>"u"}function xe(r){return dt(r)==="object"&&r!==null}var nr=Object.prototype.hasOwnProperty;function Ce(r){if(!xe(r))return!1;try{var e=r.constructor,t=e.prototype;return e&&t&&nr.call(t,"isPrototypeOf")}catch{return!1}}function ce(r){return typeof r=="function"}var sr=Array.prototype.slice;function Ca(r){return Array.from?Array.from(r):sr.call(r)}function ee(r,e){return r&&ce(e)&&(Array.isArray(r)||G(r.length)?Ca(r).forEach(function(t,a){e.call(r,t,a,r)}):xe(r)&&Object.keys(r).forEach(function(t){e.call(r,r[t],t,r)})),r}var X=Object.assign||function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return xe(e)&&a.length>0&&a.forEach(function(i){xe(i)&&Object.keys(i).forEach(function(n){e[n]=i[n]})}),e},cr=/\.\d*(?:0|9){12}\d*$/;function Te(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return cr.test(r)?Math.round(r*e)/e:r}var lr=/^width|height|left|top|marginLeft|marginTop$/;function ve(r,e){var t=r.style;ee(e,function(a,o){lr.test(o)&&G(a)&&(a="".concat(a,"px")),t[o]=a})}function dr(r,e){return r.classList?r.classList.contains(e):r.className.indexOf(e)>-1}function re(r,e){if(e){if(G(r.length)){ee(r,function(a){re(a,e)});return}if(r.classList){r.classList.add(e);return}var t=r.className.trim();t?t.indexOf(e)<0&&(r.className="".concat(t," ").concat(e)):r.className=e}}function fe(r,e){if(e){if(G(r.length)){ee(r,function(t){fe(t,e)});return}if(r.classList){r.classList.remove(e);return}r.className.indexOf(e)>=0&&(r.className=r.className.replace(e,""))}}function Ae(r,e,t){if(e){if(G(r.length)){ee(r,function(a){Ae(a,e,t)});return}t?re(r,e):fe(r,e)}}var hr=/([a-z\d])([A-Z])/g;function Ct(r){return r.replace(hr,"$1-$2").toLowerCase()}function wt(r,e){return xe(r[e])?r[e]:r.dataset?r.dataset[e]:r.getAttribute("data-".concat(Ct(e)))}function _e(r,e,t){xe(t)?r[e]=t:r.dataset?r.dataset[e]=t:r.setAttribute("data-".concat(Ct(e)),t)}function ur(r,e){if(xe(r[e]))try{delete r[e]}catch{r[e]=void 0}else if(r.dataset)try{delete r.dataset[e]}catch{r.dataset[e]=void 0}else r.removeAttribute("data-".concat(Ct(e)))}var Aa=/\s\s*/,Ta=(function(){var r=!1;if(Fe){var e=!1,t=function(){},a=Object.defineProperty({},"once",{get:function(){return r=!0,e},set:function(i){e=i}});pe.addEventListener("test",t,a),pe.removeEventListener("test",t,a)}return r})();function ue(r,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t;e.trim().split(Aa).forEach(function(i){if(!Ta){var n=r.listeners;n&&n[i]&&n[i][t]&&(o=n[i][t],delete n[i][t],Object.keys(n[i]).length===0&&delete n[i],Object.keys(n).length===0&&delete r.listeners)}r.removeEventListener(i,o,a)})}function he(r,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t;e.trim().split(Aa).forEach(function(i){if(a.once&&!Ta){var n=r.listeners,s=n===void 0?{}:n;o=function(){delete s[i][t],r.removeEventListener(i,o,a);for(var d=arguments.length,c=new Array(d),l=0;l<d;l++)c[l]=arguments[l];t.apply(r,c)},s[i]||(s[i]={}),s[i][t]&&r.removeEventListener(i,s[i][t],a),s[i][t]=o,r.listeners=s}r.addEventListener(i,o,a)})}function Oe(r,e,t){var a;return ce(Event)&&ce(CustomEvent)?a=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(e,!0,!0,t)),r.dispatchEvent(a)}function Oa(r){var e=r.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var He=pe.location,fr=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function jt(r){var e=r.match(fr);return e!==null&&(e[1]!==He.protocol||e[2]!==He.hostname||e[3]!==He.port)}function Yt(r){var e="timestamp=".concat(new Date().getTime());return r+(r.indexOf("?")===-1?"?":"&")+e}function Pe(r){var e=r.rotate,t=r.scaleX,a=r.scaleY,o=r.translateX,i=r.translateY,n=[];G(o)&&o!==0&&n.push("translateX(".concat(o,"px)")),G(i)&&i!==0&&n.push("translateY(".concat(i,"px)")),G(e)&&e!==0&&n.push("rotate(".concat(e,"deg)")),G(t)&&t!==1&&n.push("scaleX(".concat(t,")")),G(a)&&a!==1&&n.push("scaleY(".concat(a,")"));var s=n.length?n.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function pr(r){var e=pa({},r),t=0;return ee(r,function(a,o){delete e[o],ee(e,function(i){var n=Math.abs(a.startX-i.startX),s=Math.abs(a.startY-i.startY),h=Math.abs(a.endX-i.endX),d=Math.abs(a.endY-i.endY),c=Math.sqrt(n*n+s*s),l=Math.sqrt(h*h+d*d),g=(l-c)/c;Math.abs(g)>Math.abs(t)&&(t=g)})}),t}function Ue(r,e){var t=r.pageX,a=r.pageY,o={endX:t,endY:a};return e?o:pa({startX:t,startY:a},o)}function mr(r){var e=0,t=0,a=0;return ee(r,function(o){var i=o.startX,n=o.startY;e+=i,t+=n,a+=1}),e/=a,t/=a,{pageX:e,pageY:t}}function be(r){var e=r.aspectRatio,t=r.height,a=r.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=Wt(a),n=Wt(t);if(i&&n){var s=t*e;o==="contain"&&s>a||o==="cover"&&s<a?t=a/e:a=t*e}else i?t=a/e:n&&(a=t*e);return{width:a,height:t}}function gr(r){var e=r.width,t=r.height,a=r.degree;if(a=Math.abs(a)%180,a===90)return{width:t,height:e};var o=a%90*Math.PI/180,i=Math.sin(o),n=Math.cos(o),s=e*n+t*i,h=e*i+t*n;return a>90?{width:h,height:s}:{width:s,height:h}}function vr(r,e,t,a){var o=e.aspectRatio,i=e.naturalWidth,n=e.naturalHeight,s=e.rotate,h=s===void 0?0:s,d=e.scaleX,c=d===void 0?1:d,l=e.scaleY,g=l===void 0?1:l,S=t.aspectRatio,I=t.naturalWidth,R=t.naturalHeight,C=a.fillColor,B=C===void 0?"transparent":C,x=a.imageSmoothingEnabled,f=x===void 0?!0:x,w=a.imageSmoothingQuality,u=w===void 0?"low":w,m=a.maxWidth,D=m===void 0?1/0:m,O=a.maxHeight,k=O===void 0?1/0:O,L=a.minWidth,N=L===void 0?0:L,W=a.minHeight,j=W===void 0?0:W,q=document.createElement("canvas"),U=q.getContext("2d"),T=be({aspectRatio:S,width:D,height:k}),A=be({aspectRatio:S,width:N,height:j},"cover"),H=Math.min(T.width,Math.max(A.width,I)),p=Math.min(T.height,Math.max(A.height,R)),b=be({aspectRatio:o,width:D,height:k}),y=be({aspectRatio:o,width:N,height:j},"cover"),_=Math.min(b.width,Math.max(y.width,i)),M=Math.min(b.height,Math.max(y.height,n)),z=[-_/2,-M/2,_,M];return q.width=Te(H),q.height=Te(p),U.fillStyle=B,U.fillRect(0,0,H,p),U.save(),U.translate(H/2,p/2),U.rotate(h*Math.PI/180),U.scale(c,g),U.imageSmoothingEnabled=f,U.imageSmoothingQuality=u,U.drawImage.apply(U,[r].concat(ga(z.map(function(Z){return Math.floor(Te(Z))})))),U.restore(),q}var Na=String.fromCharCode;function br(r,e,t){var a="";t+=e;for(var o=e;o<t;o+=1)a+=Na(r.getUint8(o));return a}var wr=/^data:.*,/;function yr(r){var e=r.replace(wr,""),t=atob(e),a=new ArrayBuffer(t.length),o=new Uint8Array(a);return ee(o,function(i,n){o[n]=t.charCodeAt(n)}),a}function xr(r,e){for(var t=[],a=8192,o=new Uint8Array(r);o.length>0;)t.push(Na.apply(null,Ca(o.subarray(0,a)))),o=o.subarray(a);return"data:".concat(e,";base64,").concat(btoa(t.join("")))}function Er(r){var e=new DataView(r),t;try{var a,o,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var n=e.byteLength,s=2;s+1<n;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){o=s;break}s+=1}if(o){var h=o+4,d=o+10;if(br(e,h,4)==="Exif"){var c=e.getUint16(d);if(a=c===18761,(a||c===19789)&&e.getUint16(d+2,a)===42){var l=e.getUint32(d+4,a);l>=8&&(i=d+l)}}}if(i){var g=e.getUint16(i,a),S,I;for(I=0;I<g;I+=1)if(S=i+I*12+2,e.getUint16(S,a)===274){S+=8,t=e.getUint16(S,a),e.setUint16(S,1,a);break}}}catch{t=1}return t}function Dr(r){var e=0,t=1,a=1;switch(r){case 2:t=-1;break;case 3:e=-180;break;case 4:a=-1;break;case 5:e=90,a=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:a}}var Cr={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,a=this.container,o=this.cropper,i=Number(t.minContainerWidth),n=Number(t.minContainerHeight);re(o,le),fe(e,le);var s={width:Math.max(a.offsetWidth,i>=0?i:Ea),height:Math.max(a.offsetHeight,n>=0?n:Da)};this.containerData=s,ve(o,{width:s.width,height:s.height}),re(e,le),fe(o,le)},initCanvas:function(){var e=this.containerData,t=this.imageData,a=this.options.viewMode,o=Math.abs(t.rotate)%180===90,i=o?t.naturalHeight:t.naturalWidth,n=o?t.naturalWidth:t.naturalHeight,s=i/n,h=e.width,d=e.height;e.height*s>e.width?a===3?h=e.height*s:d=e.width/s:a===3?d=e.width/s:h=e.height*s;var c={aspectRatio:s,naturalWidth:i,naturalHeight:n,width:h,height:d};this.canvasData=c,this.limited=a===1||a===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=X({},c)},limitCanvas:function(e,t){var a=this.options,o=this.containerData,i=this.canvasData,n=this.cropBoxData,s=a.viewMode,h=i.aspectRatio,d=this.cropped&&n;if(e){var c=Number(a.minCanvasWidth)||0,l=Number(a.minCanvasHeight)||0;s>1?(c=Math.max(c,o.width),l=Math.max(l,o.height),s===3&&(l*h>c?c=l*h:l=c/h)):s>0&&(c?c=Math.max(c,d?n.width:0):l?l=Math.max(l,d?n.height:0):d&&(c=n.width,l=n.height,l*h>c?c=l*h:l=c/h));var g=be({aspectRatio:h,width:c,height:l});c=g.width,l=g.height,i.minWidth=c,i.minHeight=l,i.maxWidth=1/0,i.maxHeight=1/0}if(t)if(s>(d?0:1)){var S=o.width-i.width,I=o.height-i.height;i.minLeft=Math.min(0,S),i.minTop=Math.min(0,I),i.maxLeft=Math.max(0,S),i.maxTop=Math.max(0,I),d&&this.limited&&(i.minLeft=Math.min(n.left,n.left+(n.width-i.width)),i.minTop=Math.min(n.top,n.top+(n.height-i.height)),i.maxLeft=n.left,i.maxTop=n.top,s===2&&(i.width>=o.width&&(i.minLeft=Math.min(0,S),i.maxLeft=Math.max(0,S)),i.height>=o.height&&(i.minTop=Math.min(0,I),i.maxTop=Math.max(0,I))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=o.width,i.maxTop=o.height},renderCanvas:function(e,t){var a=this.canvasData,o=this.imageData;if(t){var i=gr({width:o.naturalWidth*Math.abs(o.scaleX||1),height:o.naturalHeight*Math.abs(o.scaleY||1),degree:o.rotate||0}),n=i.width,s=i.height,h=a.width*(n/a.naturalWidth),d=a.height*(s/a.naturalHeight);a.left-=(h-a.width)/2,a.top-=(d-a.height)/2,a.width=h,a.height=d,a.aspectRatio=n/s,a.naturalWidth=n,a.naturalHeight=s,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,ve(this.canvas,X({width:a.width,height:a.height},Pe({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,a=this.imageData,o=a.naturalWidth*(t.width/t.naturalWidth),i=a.naturalHeight*(t.height/t.naturalHeight);X(a,{width:o,height:i,left:(t.width-o)/2,top:(t.height-i)/2}),ve(this.image,X({width:a.width,height:a.height},Pe(X({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,a=e.aspectRatio||e.initialAspectRatio,o=Number(e.autoCropArea)||.8,i={width:t.width,height:t.height};a&&(t.height*a>t.width?i.height=i.width/a:i.width=i.height*a),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*o),i.height=Math.max(i.minHeight,i.height*o),i.left=t.left+(t.width-i.width)/2,i.top=t.top+(t.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=X({},i)},limitCropBox:function(e,t){var a=this.options,o=this.containerData,i=this.canvasData,n=this.cropBoxData,s=this.limited,h=a.aspectRatio;if(e){var d=Number(a.minCropBoxWidth)||0,c=Number(a.minCropBoxHeight)||0,l=s?Math.min(o.width,i.width,i.width+i.left,o.width-i.left):o.width,g=s?Math.min(o.height,i.height,i.height+i.top,o.height-i.top):o.height;d=Math.min(d,o.width),c=Math.min(c,o.height),h&&(d&&c?c*h>d?c=d/h:d=c*h:d?c=d/h:c&&(d=c*h),g*h>l?g=l/h:l=g*h),n.minWidth=Math.min(d,l),n.minHeight=Math.min(c,g),n.maxWidth=l,n.maxHeight=g}t&&(s?(n.minLeft=Math.max(0,i.left),n.minTop=Math.max(0,i.top),n.maxLeft=Math.min(o.width,i.left+i.width)-n.width,n.maxTop=Math.min(o.height,i.top+i.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=o.width-n.width,n.maxTop=o.height-n.height))},renderCropBox:function(){var e=this.options,t=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&_e(this.face,Ie,a.width>=t.width&&a.height>=t.height?ba:Et),ve(this.cropBox,X({width:a.width,height:a.height},Pe({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Oe(this.element,pt,this.getData())}},Ar={initPreview:function(){var e=this.element,t=this.crossOrigin,a=this.options.preview,o=t?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",n=document.createElement("img");if(t&&(n.crossOrigin=t),n.src=o,n.alt=i,this.viewBox.appendChild(n),this.viewBoxImage=n,!!a){var s=a;typeof a=="string"?s=e.ownerDocument.querySelectorAll(a):a.querySelector&&(s=[a]),this.previews=s,ee(s,function(h){var d=document.createElement("img");_e(h,ke,{width:h.offsetWidth,height:h.offsetHeight,html:h.innerHTML}),t&&(d.crossOrigin=t),d.src=o,d.alt=i,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',h.innerHTML="",h.appendChild(d)})}},resetPreview:function(){ee(this.previews,function(e){var t=wt(e,ke);ve(e,{width:t.width,height:t.height}),e.innerHTML=t.html,ur(e,ke)})},preview:function(){var e=this.imageData,t=this.canvasData,a=this.cropBoxData,o=a.width,i=a.height,n=e.width,s=e.height,h=a.left-t.left-e.left,d=a.top-t.top-e.top;!this.cropped||this.disabled||(ve(this.viewBoxImage,X({width:n,height:s},Pe(X({translateX:-h,translateY:-d},e)))),ee(this.previews,function(c){var l=wt(c,ke),g=l.width,S=l.height,I=g,R=S,C=1;o&&(C=g/o,R=i*C),i&&R>S&&(C=S/i,I=o*C,R=S),ve(c,{width:I,height:R}),ve(c.getElementsByTagName("img")[0],X({width:n*C,height:s*C},Pe(X({translateX:-h*C,translateY:-d*C},e))))}))}},Tr={bind:function(){var e=this.element,t=this.options,a=this.cropper;ce(t.cropstart)&&he(e,vt,t.cropstart),ce(t.cropmove)&&he(e,gt,t.cropmove),ce(t.cropend)&&he(e,mt,t.cropend),ce(t.crop)&&he(e,pt,t.crop),ce(t.zoom)&&he(e,bt,t.zoom),he(a,kt,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&he(a,$t,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&he(a,_t,this.onDblclick=this.dblclick.bind(this)),he(e.ownerDocument,Ut,this.onCropMove=this.cropMove.bind(this)),he(e.ownerDocument,Bt,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&he(window,zt,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,a=this.cropper;ce(t.cropstart)&&ue(e,vt,t.cropstart),ce(t.cropmove)&&ue(e,gt,t.cropmove),ce(t.cropend)&&ue(e,mt,t.cropend),ce(t.crop)&&ue(e,pt,t.crop),ce(t.zoom)&&ue(e,bt,t.zoom),ue(a,kt,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ue(a,$t,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ue(a,_t,this.onDblclick),ue(e.ownerDocument,Ut,this.onCropMove),ue(e.ownerDocument,Bt,this.onCropEnd),t.responsive&&ue(window,zt,this.onResize)}},Or={resize:function(){if(!this.disabled){var e=this.options,t=this.container,a=this.containerData,o=t.offsetWidth/a.width,i=t.offsetHeight/a.height,n=Math.abs(o-1)>Math.abs(i-1)?o:i;if(n!==1){var s,h;e.restore&&(s=this.getCanvasData(),h=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(ee(s,function(d,c){s[c]=d*n})),this.setCropBoxData(ee(h,function(d,c){h[c]=d*n})))}}},dblclick:function(){this.disabled||this.options.dragMode===xa||this.setDragMode(dr(this.dragBox,ut)?ya:Dt)},wheel:function(e){var t=this,a=Number(this.options.wheelZoomRatio)||.1,o=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?o=e.deltaY>0?1:-1:e.wheelDelta?o=-e.wheelDelta/120:e.detail&&(o=e.detail>0?1:-1),this.zoom(-o*a,e)))},cropStart:function(e){var t=e.buttons,a=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(G(t)&&t!==1||G(a)&&a!==0||e.ctrlKey))){var o=this.options,i=this.pointers,n;e.changedTouches?ee(e.changedTouches,function(s){i[s.identifier]=Ue(s)}):i[e.pointerId||0]=Ue(e),Object.keys(i).length>1&&o.zoomable&&o.zoomOnTouch?n=wa:n=wt(e.target,Ie),er.test(n)&&Oe(this.element,vt,{originalEvent:e,action:n})!==!1&&(e.preventDefault(),this.action=n,this.cropping=!1,n===va&&(this.cropping=!0,re(this.dragBox,Be)))}},cropMove:function(e){var t=this.action;if(!(this.disabled||!t)){var a=this.pointers;e.preventDefault(),Oe(this.element,gt,{originalEvent:e,action:t})!==!1&&(e.changedTouches?ee(e.changedTouches,function(o){X(a[o.identifier]||{},Ue(o,!0))}):X(a[e.pointerId||0]||{},Ue(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,a=this.pointers;e.changedTouches?ee(e.changedTouches,function(o){delete a[o.identifier]}):delete a[e.pointerId||0],t&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,Ae(this.dragBox,Be,this.cropped&&this.options.modal)),Oe(this.element,mt,{originalEvent:e,action:t}))}}},Nr={change:function(e){var t=this.options,a=this.canvasData,o=this.containerData,i=this.cropBoxData,n=this.pointers,s=this.action,h=t.aspectRatio,d=i.left,c=i.top,l=i.width,g=i.height,S=d+l,I=c+g,R=0,C=0,B=o.width,x=o.height,f=!0,w;!h&&e.shiftKey&&(h=l&&g?l/g:1),this.limited&&(R=i.minLeft,C=i.minTop,B=R+Math.min(o.width,a.width,a.left+a.width),x=C+Math.min(o.height,a.height,a.top+a.height));var u=n[Object.keys(n)[0]],m={x:u.endX-u.startX,y:u.endY-u.startY},D=function(k){switch(k){case we:S+m.x>B&&(m.x=B-S);break;case ye:d+m.x<R&&(m.x=R-d);break;case me:c+m.y<C&&(m.y=C-c);break;case De:I+m.y>x&&(m.y=x-I);break}};switch(s){case Et:d+=m.x,c+=m.y;break;case we:if(m.x>=0&&(S>=B||h&&(c<=C||I>=x))){f=!1;break}D(we),l+=m.x,l<0&&(s=ye,l=-l,d-=l),h&&(g=l/h,c+=(i.height-g)/2);break;case me:if(m.y<=0&&(c<=C||h&&(d<=R||S>=B))){f=!1;break}D(me),g-=m.y,c+=m.y,g<0&&(s=De,g=-g,c-=g),h&&(l=g*h,d+=(i.width-l)/2);break;case ye:if(m.x<=0&&(d<=R||h&&(c<=C||I>=x))){f=!1;break}D(ye),l-=m.x,d+=m.x,l<0&&(s=we,l=-l,d-=l),h&&(g=l/h,c+=(i.height-g)/2);break;case De:if(m.y>=0&&(I>=x||h&&(d<=R||S>=B))){f=!1;break}D(De),g+=m.y,g<0&&(s=me,g=-g,c-=g),h&&(l=g*h,d+=(i.width-l)/2);break;case Ne:if(h){if(m.y<=0&&(c<=C||S>=B)){f=!1;break}D(me),g-=m.y,c+=m.y,l=g*h}else D(me),D(we),m.x>=0?S<B?l+=m.x:m.y<=0&&c<=C&&(f=!1):l+=m.x,m.y<=0?c>C&&(g-=m.y,c+=m.y):(g-=m.y,c+=m.y);l<0&&g<0?(s=Re,g=-g,l=-l,c-=g,d-=l):l<0?(s=Me,l=-l,d-=l):g<0&&(s=Se,g=-g,c-=g);break;case Me:if(h){if(m.y<=0&&(c<=C||d<=R)){f=!1;break}D(me),g-=m.y,c+=m.y,l=g*h,d+=i.width-l}else D(me),D(ye),m.x<=0?d>R?(l-=m.x,d+=m.x):m.y<=0&&c<=C&&(f=!1):(l-=m.x,d+=m.x),m.y<=0?c>C&&(g-=m.y,c+=m.y):(g-=m.y,c+=m.y);l<0&&g<0?(s=Se,g=-g,l=-l,c-=g,d-=l):l<0?(s=Ne,l=-l,d-=l):g<0&&(s=Re,g=-g,c-=g);break;case Re:if(h){if(m.x<=0&&(d<=R||I>=x)){f=!1;break}D(ye),l-=m.x,d+=m.x,g=l/h}else D(De),D(ye),m.x<=0?d>R?(l-=m.x,d+=m.x):m.y>=0&&I>=x&&(f=!1):(l-=m.x,d+=m.x),m.y>=0?I<x&&(g+=m.y):g+=m.y;l<0&&g<0?(s=Ne,g=-g,l=-l,c-=g,d-=l):l<0?(s=Se,l=-l,d-=l):g<0&&(s=Me,g=-g,c-=g);break;case Se:if(h){if(m.x>=0&&(S>=B||I>=x)){f=!1;break}D(we),l+=m.x,g=l/h}else D(De),D(we),m.x>=0?S<B?l+=m.x:m.y>=0&&I>=x&&(f=!1):l+=m.x,m.y>=0?I<x&&(g+=m.y):g+=m.y;l<0&&g<0?(s=Me,g=-g,l=-l,c-=g,d-=l):l<0?(s=Re,l=-l,d-=l):g<0&&(s=Ne,g=-g,c-=g);break;case ba:this.move(m.x,m.y),f=!1;break;case wa:this.zoom(pr(n),e),f=!1;break;case va:if(!m.x||!m.y){f=!1;break}w=Oa(this.cropper),d=u.startX-w.left,c=u.startY-w.top,l=i.minWidth,g=i.minHeight,m.x>0?s=m.y>0?Se:Ne:m.x<0&&(d-=l,s=m.y>0?Re:Me),m.y<0&&(c-=g),this.cropped||(fe(this.cropBox,le),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}f&&(i.width=l,i.height=g,i.left=d,i.top=c,this.action=s,this.renderCropBox()),ee(n,function(O){O.startX=O.endX,O.startY=O.endY})}},Mr={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&re(this.dragBox,Be),fe(this.cropBox,le),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=X({},this.initialImageData),this.canvasData=X({},this.initialCanvasData),this.cropBoxData=X({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(X(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),fe(this.dragBox,Be),re(this.cropBox,le)),this},replace:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ee(this.previews,function(a){a.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,fe(this.cropper,Pt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,re(this.cropper,Pt)),this},destroy:function(){var e=this.element;return e[V]?(e[V]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.canvasData,o=a.left,i=a.top;return this.moveTo(Ge(e)?e:o+Number(e),Ge(t)?t:i+Number(t))},moveTo:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.canvasData,o=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(G(e)&&(a.left=e,o=!0),G(t)&&(a.top=t,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(e,t){var a=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(a.width*e/a.naturalWidth,null,t)},zoomTo:function(e,t,a){var o=this.options,i=this.canvasData,n=i.width,s=i.height,h=i.naturalWidth,d=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&o.zoomable){var c=h*e,l=d*e;if(Oe(this.element,bt,{ratio:e,oldRatio:n/h,originalEvent:a})===!1)return this;if(a){var g=this.pointers,S=Oa(this.cropper),I=g&&Object.keys(g).length?mr(g):{pageX:a.pageX,pageY:a.pageY};i.left-=(c-n)*((I.pageX-S.left-i.left)/n),i.top-=(l-s)*((I.pageY-S.top-i.top)/s)}else Ce(t)&&G(t.x)&&G(t.y)?(i.left-=(c-n)*((t.x-i.left)/n),i.top-=(l-s)*((t.y-i.top)/s)):(i.left-=(c-n)/2,i.top-=(l-s)/2);i.width=c,i.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),G(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,G(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(G(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.imageData,o=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(G(e)&&(a.scaleX=e,o=!0),G(t)&&(a.scaleY=t,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,a=this.imageData,o=this.canvasData,i=this.cropBoxData,n;if(this.ready&&this.cropped){n={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height};var s=a.width/a.naturalWidth;if(ee(n,function(c,l){n[l]=c/s}),e){var h=Math.round(n.y+n.height),d=Math.round(n.x+n.width);n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=d-n.x,n.height=h-n.y}}else n={x:0,y:0,width:0,height:0};return t.rotatable&&(n.rotate=a.rotate||0),t.scalable&&(n.scaleX=a.scaleX||1,n.scaleY=a.scaleY||1),n},setData:function(e){var t=this.options,a=this.imageData,o=this.canvasData,i={};if(this.ready&&!this.disabled&&Ce(e)){var n=!1;t.rotatable&&G(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,n=!0),t.scalable&&(G(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,n=!0),G(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var s=a.width/a.naturalWidth;G(e.x)&&(i.left=e.x*s+o.left),G(e.y)&&(i.top=e.y*s+o.top),G(e.width)&&(i.width=e.width*s),G(e.height)&&(i.height=e.height*s),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?X({},this.containerData):{}},getImageData:function(){return this.sized?X({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&ee(["left","top","width","height","naturalWidth","naturalHeight"],function(a){t[a]=e[a]}),t},setCanvasData:function(e){var t=this.canvasData,a=t.aspectRatio;return this.ready&&!this.disabled&&Ce(e)&&(G(e.left)&&(t.left=e.left),G(e.top)&&(t.top=e.top),G(e.width)?(t.width=e.width,t.height=e.width/a):G(e.height)&&(t.height=e.height,t.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(e){var t=this.cropBoxData,a=this.options.aspectRatio,o,i;return this.ready&&this.cropped&&!this.disabled&&Ce(e)&&(G(e.left)&&(t.left=e.left),G(e.top)&&(t.top=e.top),G(e.width)&&e.width!==t.width&&(o=!0,t.width=e.width),G(e.height)&&e.height!==t.height&&(i=!0,t.height=e.height),a&&(o?t.height=t.width/a:i&&(t.width=t.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,a=vr(this.image,this.imageData,t,e);if(!this.cropped)return a;var o=this.getData(e.rounded),i=o.x,n=o.y,s=o.width,h=o.height,d=a.width/Math.floor(t.naturalWidth);d!==1&&(i*=d,n*=d,s*=d,h*=d);var c=s/h,l=be({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),g=be({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),S=be({aspectRatio:c,width:e.width||(d!==1?a.width:s),height:e.height||(d!==1?a.height:h)}),I=S.width,R=S.height;I=Math.min(l.width,Math.max(g.width,I)),R=Math.min(l.height,Math.max(g.height,R));var C=document.createElement("canvas"),B=C.getContext("2d");C.width=Te(I),C.height=Te(R),B.fillStyle=e.fillColor||"transparent",B.fillRect(0,0,I,R);var x=e.imageSmoothingEnabled,f=x===void 0?!0:x,w=e.imageSmoothingQuality;B.imageSmoothingEnabled=f,w&&(B.imageSmoothingQuality=w);var u=a.width,m=a.height,D=i,O=n,k,L,N,W,j,q;D<=-s||D>u?(D=0,k=0,N=0,j=0):D<=0?(N=-D,D=0,k=Math.min(u,s+D),j=k):D<=u&&(N=0,k=Math.min(s,u-D),j=k),k<=0||O<=-h||O>m?(O=0,L=0,W=0,q=0):O<=0?(W=-O,O=0,L=Math.min(m,h+O),q=L):O<=m&&(W=0,L=Math.min(h,m-O),q=L);var U=[D,O,k,L];if(j>0&&q>0){var T=I/s;U.push(N*T,W*T,j*T,q*T)}return B.drawImage.apply(B,[a].concat(ga(U.map(function(A){return Math.floor(Te(A))})))),C},setAspectRatio:function(e){var t=this.options;return!this.disabled&&!Ge(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,a=this.dragBox,o=this.face;if(this.ready&&!this.disabled){var i=e===Dt,n=t.movable&&e===ya;e=i||n?e:xa,t.dragMode=e,_e(a,Ie,e),Ae(a,ut,i),Ae(a,ft,n),t.cropBoxMovable||(_e(o,Ie,e),Ae(o,ut,i),Ae(o,ft,n))}return this}},Sr=pe.Cropper,Ma=(function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ha(this,r),!e||!rr.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=X({},Ht,Ce(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Wa(r,[{key:"init",value:function(){var t=this.element,a=t.tagName.toLowerCase(),o;if(!t[V]){if(t[V]=this,a==="img"){if(this.isImg=!0,o=t.getAttribute("src")||"",this.originalUrl=o,!o)return;o=t.src}else a==="canvas"&&window.HTMLCanvasElement&&(o=t.toDataURL());this.load(o)}}},{key:"load",value:function(t){var a=this;if(t){this.url=t,this.imageData={};var o=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(tr.test(t)){ar.test(t)?this.read(yr(t)):this.clone();return}var n=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=n,n.onabort=s,n.onerror=s,n.ontimeout=s,n.onprogress=function(){n.getResponseHeader("content-type")!==Gt&&n.abort()},n.onload=function(){a.read(n.response)},n.onloadend=function(){a.reloading=!1,a.xhr=null},i.checkCrossOrigin&&jt(t)&&o.crossOrigin&&(t=Yt(t)),n.open("GET",t,!0),n.responseType="arraybuffer",n.withCredentials=o.crossOrigin==="use-credentials",n.send()}}},{key:"read",value:function(t){var a=this.options,o=this.imageData,i=Er(t),n=0,s=1,h=1;if(i>1){this.url=xr(t,Gt);var d=Dr(i);n=d.rotate,s=d.scaleX,h=d.scaleY}a.rotatable&&(o.rotate=n),a.scalable&&(o.scaleX=s,o.scaleY=h),this.clone()}},{key:"clone",value:function(){var t=this.element,a=this.url,o=t.crossOrigin,i=a;this.options.checkCrossOrigin&&jt(a)&&(o||(o="anonymous"),i=Yt(a)),this.crossOrigin=o,this.crossOriginUrl=i;var n=document.createElement("img");o&&(n.crossOrigin=o),n.src=i||a,n.alt=t.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),re(n,It),t.parentNode.insertBefore(n,t.nextSibling)}},{key:"start",value:function(){var t=this,a=this.image;a.onload=null,a.onerror=null,this.sizing=!0;var o=pe.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(pe.navigator.userAgent),i=function(d,c){X(t.imageData,{naturalWidth:d,naturalHeight:c,aspectRatio:d/c}),t.initialImageData=X({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(a.naturalWidth&&!o){i(a.naturalWidth,a.naturalHeight);return}var n=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){i(n.width,n.height),o||s.removeChild(n)},n.src=a.src,o||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(n))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,a=this.options,o=this.image,i=t.parentNode,n=document.createElement("div");n.innerHTML=ir;var s=n.querySelector(".".concat(V,"-container")),h=s.querySelector(".".concat(V,"-canvas")),d=s.querySelector(".".concat(V,"-drag-box")),c=s.querySelector(".".concat(V,"-crop-box")),l=c.querySelector(".".concat(V,"-face"));this.container=i,this.cropper=s,this.canvas=h,this.dragBox=d,this.cropBox=c,this.viewBox=s.querySelector(".".concat(V,"-view-box")),this.face=l,h.appendChild(o),re(t,le),i.insertBefore(s,t.nextSibling),fe(o,It),this.initPreview(),this.bind(),a.initialAspectRatio=Math.max(0,a.initialAspectRatio)||NaN,a.aspectRatio=Math.max(0,a.aspectRatio)||NaN,a.viewMode=Math.max(0,Math.min(3,Math.round(a.viewMode)))||0,re(c,le),a.guides||re(c.getElementsByClassName("".concat(V,"-dashed")),le),a.center||re(c.getElementsByClassName("".concat(V,"-center")),le),a.background&&re(s,"".concat(V,"-bg")),a.highlight||re(l,Za),a.cropBoxMovable&&(re(l,ft),_e(l,Ie,Et)),a.cropBoxResizable||(re(c.getElementsByClassName("".concat(V,"-line")),le),re(c.getElementsByClassName("".concat(V,"-point")),le)),this.render(),this.ready=!0,this.setDragMode(a.dragMode),a.autoCrop&&this.crop(),this.setData(a.data),ce(a.ready)&&he(t,Ft,a.ready,{once:!0}),Oe(t,Ft)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),fe(this.element,le)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Sr,r}},{key:"setDefaults",value:function(t){X(Ht,Ce(t)&&t)}}])})();X(Ma.prototype,Cr,Ar,Tr,Or,Nr,Mr);function Rr(){const r=async(s,h,d)=>{try{const{apiFetch:c}=await ge(async()=>{const{apiFetch:C}=await import("./BH6je_ft.js");return{apiFetch:C}},__vite__mapDeps([0,1,2,3]),import.meta.url),l=await c(`/api/v1/users/${s}/files/upload-url`,{method:"POST",body:{filename:h.name,contentType:h.type,fileType:d}});if(!l.success)throw new Error(l.error||"Erro ao obter URL de upload");const g=l.data.uploadUrl,S=l.data.objectKey,I=l.data.publicUrl;if(!(await fetch(g,{method:"PUT",body:h,headers:{"Content-Type":h.type}})).ok)throw new Error("Erro durante upload do arquivo");return await t(s,{objectKey:S,publicUrl:I,filename:h.name,fileType:d,contentType:h.type,fileSize:h.size,isMobileUpload:!1,location:await a()}),{objectKey:S,publicUrl:I,filename:h.name,fileType:d,contentType:h.type,fileSize:h.size}}catch(c){throw console.error("Upload error:",c),c}},e=async(s,h)=>{try{const{apiFetch:d}=await ge(async()=>{const{apiFetch:l}=await import("./BH6je_ft.js");return{apiFetch:l}},__vite__mapDeps([0,1,2,3]),import.meta.url),c=await d(`/api/v1/users/${s}/files/${h}/download-url`);if(!c.success)throw new Error(c.error||"Erro ao obter URL de download");return c.data.downloadUrl}catch(d){throw console.error("Download URL error:",d),d}},t=async(s,h)=>{try{const{apiFetch:d}=await ge(async()=>{const{apiFetch:l}=await import("./BH6je_ft.js");return{apiFetch:l}},__vite__mapDeps([0,1,2,3]),import.meta.url),c=await d(`/api/v1/users/${s}/files/confirm-upload`,{method:"POST",body:h});if(!c.success)throw new Error(c.error||"Erro ao confirmar upload")}catch(d){throw console.error("Confirm upload error:",d),d}},a=async()=>new Promise(s=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(h=>{const{latitude:d,longitude:c}=h.coords;s(`${d},${c}`)},h=>{console.warn("Geolocation error:",h),s(null)},{timeout:5e3,enableHighAccuracy:!1}):s(null)});return{uploadUserFile:r,getDownloadUrl:e,confirmFileUpload:t,getCurrentLocation:a,getUserFiles:async s=>{try{const{apiFetch:h}=await ge(async()=>{const{apiFetch:c}=await import("./BH6je_ft.js");return{apiFetch:c}},__vite__mapDeps([0,1,2,3]),import.meta.url),d=await h(`/api/v1/users/${s}/files`);if(!d.success)throw new Error(d.error||"Erro ao buscar arquivos do usuário");return d.data}catch(h){throw console.error("Get user files error:",h),h}},getUserFileByType:async(s,h)=>{try{const{apiFetch:d}=await ge(async()=>{const{apiFetch:l}=await import("./BH6je_ft.js");return{apiFetch:l}},__vite__mapDeps([0,1,2,3]),import.meta.url),c=await d(`/api/v1/users/${s}/files/${h.toUpperCase()}`);return c.success?c.data:null}catch(d){return(d?.response?.status??d?.statusCode??d?.status)===404||console.error("Get user file by type error:",d),null}},updateFileStatus:async(s,h,d,c={})=>{try{const{apiFetch:l}=await ge(async()=>{const{apiFetch:g}=await import("./BH6je_ft.js");return{apiFetch:g}},__vite__mapDeps([0,1,2,3]),import.meta.url);await l(`/api/v1/users/${s}/files/${h.toUpperCase()}/status`,{method:"PATCH",body:{status:d,reviewerId:c.reviewerId,reviewerName:c.reviewerName,reviewNotes:c.reviewNotes}})}catch(l){throw console.error("Update file status error:",l),l}}}}function Lr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var We={exports:{}},qt;function Pr(){return qt||(qt=1,(function(r){var e=(function(t){var a=Object.prototype,o=a.hasOwnProperty,i=Object.defineProperty||function(p,b,y){p[b]=y.value},n,s=typeof Symbol=="function"?Symbol:{},h=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function l(p,b,y){return Object.defineProperty(p,b,{value:y,enumerable:!0,configurable:!0,writable:!0}),p[b]}try{l({},"")}catch{l=function(b,y,_){return b[y]=_}}function g(p,b,y,_){var M=b&&b.prototype instanceof f?b:f,z=Object.create(M.prototype),Z=new T(_||[]);return i(z,"_invoke",{value:W(p,y,Z)}),z}t.wrap=g;function S(p,b,y){try{return{type:"normal",arg:p.call(b,y)}}catch(_){return{type:"throw",arg:_}}}var I="suspendedStart",R="suspendedYield",C="executing",B="completed",x={};function f(){}function w(){}function u(){}var m={};l(m,h,function(){return this});var D=Object.getPrototypeOf,O=D&&D(D(A([])));O&&O!==a&&o.call(O,h)&&(m=O);var k=u.prototype=f.prototype=Object.create(m);w.prototype=u,i(k,"constructor",{value:u,configurable:!0}),i(u,"constructor",{value:w,configurable:!0}),w.displayName=l(u,c,"GeneratorFunction");function L(p){["next","throw","return"].forEach(function(b){l(p,b,function(y){return this._invoke(b,y)})})}t.isGeneratorFunction=function(p){var b=typeof p=="function"&&p.constructor;return b?b===w||(b.displayName||b.name)==="GeneratorFunction":!1},t.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,u):(p.__proto__=u,l(p,c,"GeneratorFunction")),p.prototype=Object.create(k),p},t.awrap=function(p){return{__await:p}};function N(p,b){function y(z,Z,Q,te){var ae=S(p[z],p,Z);if(ae.type==="throw")te(ae.arg);else{var E=ae.arg,v=E.value;return v&&typeof v=="object"&&o.call(v,"__await")?b.resolve(v.__await).then(function(F){y("next",F,Q,te)},function(F){y("throw",F,Q,te)}):b.resolve(v).then(function(F){E.value=F,Q(E)},function(F){return y("throw",F,Q,te)})}}var _;function M(z,Z){function Q(){return new b(function(te,ae){y(z,Z,te,ae)})}return _=_?_.then(Q,Q):Q()}i(this,"_invoke",{value:M})}L(N.prototype),l(N.prototype,d,function(){return this}),t.AsyncIterator=N,t.async=function(p,b,y,_,M){M===void 0&&(M=Promise);var z=new N(g(p,b,y,_),M);return t.isGeneratorFunction(b)?z:z.next().then(function(Z){return Z.done?Z.value:z.next()})};function W(p,b,y){var _=I;return function(z,Z){if(_===C)throw new Error("Generator is already running");if(_===B){if(z==="throw")throw Z;return H()}for(y.method=z,y.arg=Z;;){var Q=y.delegate;if(Q){var te=j(Q,y);if(te){if(te===x)continue;return te}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(_===I)throw _=B,y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);_=C;var ae=S(p,b,y);if(ae.type==="normal"){if(_=y.done?B:R,ae.arg===x)continue;return{value:ae.arg,done:y.done}}else ae.type==="throw"&&(_=B,y.method="throw",y.arg=ae.arg)}}}function j(p,b){var y=b.method,_=p.iterator[y];if(_===n)return b.delegate=null,y==="throw"&&p.iterator.return&&(b.method="return",b.arg=n,j(p,b),b.method==="throw")||y!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+y+"' method")),x;var M=S(_,p.iterator,b.arg);if(M.type==="throw")return b.method="throw",b.arg=M.arg,b.delegate=null,x;var z=M.arg;if(!z)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,x;if(z.done)b[p.resultName]=z.value,b.next=p.nextLoc,b.method!=="return"&&(b.method="next",b.arg=n);else return z;return b.delegate=null,x}L(k),l(k,c,"Generator"),l(k,h,function(){return this}),l(k,"toString",function(){return"[object Generator]"});function q(p){var b={tryLoc:p[0]};1 in p&&(b.catchLoc=p[1]),2 in p&&(b.finallyLoc=p[2],b.afterLoc=p[3]),this.tryEntries.push(b)}function U(p){var b=p.completion||{};b.type="normal",delete b.arg,p.completion=b}function T(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(q,this),this.reset(!0)}t.keys=function(p){var b=Object(p),y=[];for(var _ in b)y.push(_);return y.reverse(),function M(){for(;y.length;){var z=y.pop();if(z in b)return M.value=z,M.done=!1,M}return M.done=!0,M}};function A(p){if(p){var b=p[h];if(b)return b.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var y=-1,_=function M(){for(;++y<p.length;)if(o.call(p,y))return M.value=p[y],M.done=!1,M;return M.value=n,M.done=!0,M};return _.next=_}}return{next:H}}t.values=A;function H(){return{value:n,done:!0}}return T.prototype={constructor:T,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(U),!p)for(var b in this)b.charAt(0)==="t"&&o.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=n)},stop:function(){this.done=!0;var p=this.tryEntries[0],b=p.completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var b=this;function y(te,ae){return z.type="throw",z.arg=p,b.next=te,ae&&(b.method="next",b.arg=n),!!ae}for(var _=this.tryEntries.length-1;_>=0;--_){var M=this.tryEntries[_],z=M.completion;if(M.tryLoc==="root")return y("end");if(M.tryLoc<=this.prev){var Z=o.call(M,"catchLoc"),Q=o.call(M,"finallyLoc");if(Z&&Q){if(this.prev<M.catchLoc)return y(M.catchLoc,!0);if(this.prev<M.finallyLoc)return y(M.finallyLoc)}else if(Z){if(this.prev<M.catchLoc)return y(M.catchLoc,!0)}else if(Q){if(this.prev<M.finallyLoc)return y(M.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(p,b){for(var y=this.tryEntries.length-1;y>=0;--y){var _=this.tryEntries[y];if(_.tryLoc<=this.prev&&o.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var M=_;break}}M&&(p==="break"||p==="continue")&&M.tryLoc<=b&&b<=M.finallyLoc&&(M=null);var z=M?M.completion:{};return z.type=p,z.arg=b,M?(this.method="next",this.next=M.finallyLoc,x):this.complete(z)},complete:function(p,b){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&b&&(this.next=b),x},finish:function(p){for(var b=this.tryEntries.length-1;b>=0;--b){var y=this.tryEntries[b];if(y.finallyLoc===p)return this.complete(y.completion,y.afterLoc),U(y),x}},catch:function(p){for(var b=this.tryEntries.length-1;b>=0;--b){var y=this.tryEntries[b];if(y.tryLoc===p){var _=y.completion;if(_.type==="throw"){var M=_.arg;U(y)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(p,b,y){return this.delegate={iterator:A(p),resultName:b,nextLoc:y},this.method==="next"&&(this.arg=n),x}},t})(r.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(We)),We.exports}var je,Vt;function At(){return Vt||(Vt=1,je=(r,e)=>`${r}-${e}-${Math.random().toString(16).slice(3,8)}`),je}var Ye,Xt;function Sa(){if(Xt)return Ye;Xt=1;const r=At();let e=0;return Ye=({id:t,action:a,payload:o={}})=>{let i=t;return typeof i>"u"&&(i=r("Job",e),e+=1),{id:i,action:a,payload:o}},Ye}var Le={},Zt;function Tt(){if(Zt)return Le;Zt=1;let r=!1;return Le.logging=r,Le.setLogging=e=>{r=e},Le.log=(...e)=>r?console.log.apply(this,e):null,Le}var qe,Jt;function Ir(){if(Jt)return qe;Jt=1;const r=Sa(),{log:e}=Tt(),t=At();let a=0;return qe=()=>{const o=t("Scheduler",a),i={},n={};let s=[];a+=1;const h=()=>s.length,d=()=>Object.keys(i).length,c=()=>{if(s.length!==0){const R=Object.keys(i);for(let C=0;C<R.length;C+=1)if(typeof n[R[C]]>"u"){s[0](i[R[C]]);break}}},l=(R,C)=>new Promise((B,x)=>{const f=r({action:R,payload:C});s.push(async w=>{s.shift(),n[w.id]=f;try{B(await w[R].apply(this,[...C,f.id]))}catch(u){x(u)}finally{delete n[w.id],c()}}),e(`[${o}]: Add ${f.id} to JobQueue`),e(`[${o}]: JobQueue length=${s.length}`),c()});return{addWorker:R=>(i[R.id]=R,e(`[${o}]: Add ${R.id}`),e(`[${o}]: Number of workers=${d()}`),c(),R.id),addJob:async(R,...C)=>{if(d()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return l(R,C)},terminate:async()=>{Object.keys(i).forEach(async R=>{await i[R].terminate()}),s=[]},getQueueLen:h,getNumWorkers:d}},qe}function _r(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ve,Kt;function kr(){return Kt||(Kt=1,Ve=r=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof _r=="function"&&(e.type="node"),typeof r>"u"?e:e[r]}),Ve}var Xe,Qt;function Ur(){if(Qt)return Xe;Qt=1;const e=kr()("type")==="browser"?t=>new URL(t,window.location.href).href:t=>t;return Xe=t=>{const a={...t};return["corePath","workerPath","langPath"].forEach(o=>{t[o]&&(a[o]=e(a[o]))}),a},Xe}var Ze,ea;function Ra(){return ea||(ea=1,Ze={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Ze}const Br="6.0.1",Fr={version:Br};var Je,ta;function zr(){return ta||(ta=1,Je={workerBlobURL:!0,logger:()=>{}}),Je}var Ke,aa;function $r(){if(aa)return Ke;aa=1;const r=Fr.version;return Ke={...zr(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${r}/dist/worker.min.js`},Ke}var Qe,ra;function Gr(){return ra||(ra=1,Qe=({workerPath:r,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const a=new Blob([`importScripts("${r}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(a))}else t=new Worker(r);return t}),Qe}var et,ia;function Hr(){return ia||(ia=1,et=r=>{r.terminate()}),et}var tt,oa;function Wr(){return oa||(oa=1,tt=(r,e)=>{r.onmessage=({data:t})=>{e(t)}}),tt}var at,na;function jr(){return na||(na=1,at=async(r,e)=>{r.postMessage(e)}),at}var rt,sa;function Yr(){if(sa)return rt;sa=1;const r=t=>new Promise((a,o)=>{const i=new FileReader;i.onload=()=>{a(i.result)},i.onerror=({target:{error:{code:n}}})=>{o(Error(`File could not be read! Code=${n}`))},i.readAsArrayBuffer(t)}),e=async t=>{let a=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?a=atob(t.split(",")[1]).split("").map(o=>o.charCodeAt(0)):a=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(a=await e(t.src)),t.tagName==="VIDEO"&&(a=await e(t.poster)),t.tagName==="CANVAS"&&await new Promise(o=>{t.toBlob(async i=>{a=await r(i),o()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const o=await t.convertToBlob();a=await r(o)}else(t instanceof File||t instanceof Blob)&&(a=await r(t));return new Uint8Array(a)};return rt=e,rt}var it,ca;function qr(){if(ca)return it;ca=1;const r=$r(),e=Gr(),t=Hr(),a=Wr(),o=jr(),i=Yr();return it={defaultOptions:r,spawnWorker:e,terminateWorker:t,onMessage:a,send:o,loadImage:i},it}var ot,la;function La(){if(la)return ot;la=1;const r=Ur(),e=Sa(),{log:t}=Tt(),a=At(),o=Ra(),{defaultOptions:i,spawnWorker:n,terminateWorker:s,onMessage:h,loadImage:d,send:c}=qr();let l=0;return ot=async(g="eng",S=o.LSTM_ONLY,I={},R={})=>{const C=a("Worker",l),{logger:B,errorHandler:x,...f}=r({...i,...I}),w={},u=typeof g=="string"?g.split("+"):g;let m=S,D=R;const O=[o.DEFAULT,o.LSTM_ONLY].includes(S)&&!f.legacyCore;let k,L;const N=new Promise((E,v)=>{L=E,k=v}),W=E=>{k(E.message)};let j=n(f);j.onerror=W,l+=1;const q=({id:E,action:v,payload:F})=>new Promise(($,Y)=>{t(`[${C}]: Start ${E}, action=${v}`);const de=`${v}-${E}`;w[de]={resolve:$,reject:Y},c(j,{workerId:C,jobId:E,action:v,payload:F})}),U=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),T=E=>q(e({id:E,action:"load",payload:{options:{lstmOnly:O,corePath:f.corePath,logging:f.logging}}})),A=(E,v,F)=>q(e({id:F,action:"FS",payload:{method:"writeFile",args:[E,v]}})),H=(E,v)=>q(e({id:v,action:"FS",payload:{method:"readFile",args:[E,{encoding:"utf8"}]}})),p=(E,v)=>q(e({id:v,action:"FS",payload:{method:"unlink",args:[E]}})),b=(E,v,F)=>q(e({id:F,action:"FS",payload:{method:E,args:v}})),y=(E,v)=>q(e({id:v,action:"loadLanguage",payload:{langs:E,options:{langPath:f.langPath,dataPath:f.dataPath,cachePath:f.cachePath,cacheMethod:f.cacheMethod,gzip:f.gzip,lstmOnly:[o.DEFAULT,o.LSTM_ONLY].includes(m)&&!f.legacyLang}}})),_=(E,v,F,$)=>q(e({id:$,action:"initialize",payload:{langs:E,oem:v,config:F}})),M=(E="eng",v,F,$)=>{if(O&&[o.TESSERACT_ONLY,o.TESSERACT_LSTM_COMBINED].includes(v))throw Error("Legacy model requested but code missing.");const Y=v||m;m=Y;const de=F||D;D=de;const Ee=(typeof E=="string"?E.split("+"):E).filter(Pa=>!u.includes(Pa));return u.push(...Ee),Ee.length>0?y(Ee,$).then(()=>_(E,Y,de,$)):_(E,Y,de,$)},z=(E={},v)=>q(e({id:v,action:"setParameters",payload:{params:E}})),Z=async(E,v={},F={text:!0},$)=>q(e({id:$,action:"recognize",payload:{image:await d(E),options:v,output:F}})),Q=async(E,v)=>{if(O)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return q(e({id:v,action:"detect",payload:{image:await d(E)}}))},te=async()=>(j!==null&&(s(j),j=null),Promise.resolve());h(j,({workerId:E,jobId:v,status:F,action:$,data:Y})=>{const de=`${$}-${v}`;if(F==="resolve")t(`[${E}]: Complete ${v}`),w[de].resolve({jobId:v,data:Y}),delete w[de];else if(F==="reject")if(w[de].reject(Y),delete w[de],$==="load"&&k(Y),x)x(Y);else throw Error(Y);else F==="progress"&&B({...Y,userJobId:v})});const ae={id:C,worker:j,load:U,writeText:A,readText:H,removeFile:p,FS:b,reinitialize:M,setParameters:z,recognize:Z,detect:Q,terminate:te};return T().then(()=>y(g)).then(()=>_(g,S,R)).then(()=>L(ae)).catch(()=>{}),N},ot}var nt,da;function Vr(){if(da)return nt;da=1;const r=La();return nt={recognize:async(a,o,i)=>{const n=await r(o,1,i);return n.recognize(a).finally(async()=>{await n.terminate()})},detect:async(a,o)=>{const i=await r("osd",0,o);return i.detect(a).finally(async()=>{await i.terminate()})}},nt}var st,ha;function Xr(){return ha||(ha=1,st={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),st}var ct,ua;function Zr(){return ua||(ua=1,ct={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),ct}var lt,fa;function Jr(){if(fa)return lt;fa=1,Pr();const r=Ir(),e=La(),t=Vr(),a=Xr(),o=Ra(),i=Zr(),{setLogging:n}=Tt();return lt={languages:a,OEM:o,PSM:i,createScheduler:r,createWorker:e,setLogging:n,...t},lt}var Kr=Jr();const Qr=Lr(Kr);function ei(){return{registerFace:async(a,o)=>{try{const{apiFetch:i}=await ge(async()=>{const{apiFetch:s}=await import("./BH6je_ft.js");return{apiFetch:s}},__vite__mapDeps([0,1,2,3]),import.meta.url);return await i(`/api/v1/face-recognition/register/${a}`,{method:"POST",body:o})}catch(i){throw console.error("Error registering face:",i),i}},authenticateByFace:async a=>{try{const{apiFetch:o}=await ge(async()=>{const{apiFetch:n}=await import("./BH6je_ft.js");return{apiFetch:n}},__vite__mapDeps([0,1,2,3]),import.meta.url);return await o("/api/v1/face-recognition/authenticate",{method:"POST",body:a})}catch(o){throw console.error("Error authenticating by face:",o),o}},extractFaceEmbedding:async a=>new Promise(o=>{const i=new FileReader;i.onload=()=>{const n=i.result,s=new Uint8Array(n);let h="";for(let d=0;d<Math.min(s.length,100);d++)h+=s[d].toString(16).padStart(2,"0");o(`face_embedding_${h}`)},i.readAsArrayBuffer(a)})}}function ti(){const r=ie(!1),e=ie(0),t=async(x,f="por")=>{r.value=!0,e.value=0;try{const{data:{text:w,confidence:u}}=await Qr.recognize(x,f,{logger:k=>{k.status==="recognizing text"&&(e.value=Math.round(k.progress*100))}}),m=w.trim(),D=a(m),O=o(m,D);return console.log("🔍 OCR Analysis:",{documentType:D,confidence:u,extractedData:O,rawText:m.substring(0,200)+"..."}),{text:m,confidence:u,documentType:D,extractedData:O}}catch(w){return console.error("OCR Error:",w),{text:"",confidence:0,documentType:"UNKNOWN"}}finally{r.value=!1,e.value=0}},a=x=>{const f=x.toLowerCase();return f.includes("carteira nacional")||f.includes("habilitacao")||f.includes("habilitação")||f.includes("cnh")||f.includes("condutor")||f.includes("categoria")||f.includes("validade")?(console.log("🚗 Documento detectado: CNH"),"CNH"):f.includes("carteira de identidade")||f.includes("identidade civil")||f.includes("registro geral")||f.includes("documento de identidade")||f.includes("rg")&&!f.includes("orgao")?(console.log("🆔 Documento detectado: RG"),"RG"):f.includes("receita federal")||f.includes("cadastro de pessoa")||f.includes("pessoa fisica")||f.includes("cpf")&&f.includes("brasil")?(console.log("📄 Documento detectado: CPF"),"CPF"):f.includes("pessoa juridica")||f.includes("cnpj")||f.includes("razao social")||f.includes("empresarial")?(console.log("🏢 Documento detectado: CNPJ"),"CNPJ"):(console.log("❓ Tipo de documento não identificado"),"UNKNOWN")},o=(x,f)=>{switch(f){case"CNH":return i(x);case"RG":return n(x);case"CPF":return s(x);case"CNPJ":return h(x);default:return d(x)}},i=x=>{console.log("🚗 Processando CNH brasileira:",x.substring(0,100)+"...");const f=x.replace(/\n+/g," ").replace(/\s+/g," "),w=x.split(`
`).map(T=>T.trim()).filter(T=>T.length>0),u={};console.log("📋 Linhas detectadas na CNH:",w.slice(0,15)),console.log('🔍 Estratégia simplificada: buscando linha "NOME" + próxima linha...'),console.log("📋 TODAS as linhas para debug:"),w.forEach((T,A)=>{console.log(`Linha ${A+1}: "${T}"`)});for(let T=0;T<w.length-1;T++){const A=w[T],H=w[T+1];if(!(!A||!H)&&A.toLowerCase().includes("nome")){console.log(`✅ Encontrou "NOME" na linha ${T+1}: "${A}"`),console.log(`📝 Próxima linha: "${H}"`);let p=H.trim();if(p=p.replace(/[|\[\]0-9\/\-\(\)\.]+/g," "),p=p.replace(/[^A-ZÁÀÂÃÉÊÍÔÕÚÇa-záàâãéêíôõúç\s]/g," "),p=p.replace(/\s+/g," ").trim(),console.log(`🧹 Nome após limpeza: "${p}"`),p.length>=3&&p.split(" ").length>=1){u.nomeCompleto=p,u.nome=p,u.sobrenome="",console.log("👤 Nome completo extraído (estratégia simples):",p),console.log("👤 Nome (completo):",u.nome),console.log("👤 Sobrenome:",u.sobrenome);break}else console.log(`❌ Linha seguinte não parece ser um nome válido: "${p}"`)}}if(!u.nomeCompleto){console.log("🔄 Estratégia 2: buscando nome em múltiplas linhas consecutivas...");for(let T=0;T<w.length-2;T++){const A=w[T],H=w[T+1],p=w[T+2];if(!(!A||!H)&&A.toLowerCase().includes("nome")){console.log(`✅ Encontrou "NOME" na linha ${T+1}: "${A}"`);let b="";if(H&&H.trim().length>0){let y=H.trim();y=y.replace(/[|\[\]0-9\/\-\(\)\.]+/g," "),y=y.replace(/[^A-ZÁÀÂÃÉÊÍÔÕÚÇa-záàâãéêíôõúç\s]/g," "),y=y.replace(/\s+/g," ").trim(),y.length>0&&(b+=y+" ")}if(p&&p.trim().length>0){let y=p.trim();y=y.replace(/[|\[\]0-9\/\-\(\)\.]+/g," "),y=y.replace(/[^A-ZÁÀÂÃÉÊÍÔÕÚÇa-záàâãéêíôõúç\s]/g," "),y=y.replace(/\s+/g," ").trim(),y.length>0&&!y.match(/\d/)&&y.length<50&&(b+=y+" ")}if(b=b.trim(),console.log(`🧹 Nome combinado após limpeza: "${b}"`),b.length>=3){u.nomeCompleto=b,u.nome=b,u.sobrenome="",console.log("👤 Nome completo extraído (estratégia múltiplas linhas):",b),console.log("👤 Nome (completo):",u.nome),console.log("👤 Sobrenome:",u.sobrenome);break}}}}if(!u.nomeCompleto){console.log("🔄 Estratégia 3: buscando nome na mesma linha...");const T=[/NOME[:\s]+([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,80})/i,/PORTADOR[:\s]+([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,80})/i,/CONDUTOR[:\s]+([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,80})/i];for(const A of T){const H=f.match(A);if(H){const p=H[1]?.trim();if(p&&p.split(" ").length>=2){u.nomeCompleto=p,u.nome=p,u.sobrenome="",console.log("👤 Nome completo extraído (fallback inline):",p),console.log("👤 Nome (completo):",u.nome),console.log("👤 Sobrenome:",u.sobrenome);break}}}}const m=[/(\d{2}\/\d{2}\/\d{4})/g,/(?:NASCIMENTO[:\s]+)?(\d{2}\/\d{2}\/\d{4})/i,/(?:NASC[:\s]+)?(\d{2}\/\d{2}\/\d{4})/i];for(const T of m){const A=f.match(T);if(A){u.dataNascimento=A[1]||A[0],console.log("🎂 Data nascimento:",u.dataNascimento);break}}const D=[/(?:NASCIMENTO[:\s]+).*?([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s\-]{3,40}[-\/\s]?[A-Z]{2})/i,/(?:LOCAL[:\s]+NASC[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s\-]{3,40}[-\/\s]?[A-Z]{2})/i,/(?:NATURALIDADE[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s\-]{3,40}[-\/\s]?[A-Z]{2})/i,/([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,30}[-\/\s][A-Z]{2})\b/];for(const T of D){const A=f.match(T);if(A){u.localNascimento=A[1]?.trim(),console.log("🌍 Local nascimento:",u.localNascimento);break}}const O=f.match(/\d{2}\/\d{2}\/\d{4}/g)||[];console.log("📅 Todas as datas encontradas:",O);const k=[/(?:EMISSÃO[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:EMITIDO[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:DATA[:\s]+EMISSÃO[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:4A[:\s]+)(\d{2}\/\d{2}\/\d{4})/i],L=[/(?:VALIDADE[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:VÁLIDA[:\s]+ATÉ[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:VENCIMENTO[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:VENC[:\s]+)(\d{2}\/\d{2}\/\d{4})/i,/(?:4B[:\s]+)(\d{2}\/\d{2}\/\d{4})/i];for(const T of k){const A=f.match(T);if(A){u.dataEmissao=A[1],console.log("📅 Data emissão (contexto):",u.dataEmissao);break}}for(const T of L){const A=f.match(T);if(A){u.validadeCnh=A[1],console.log("📅 Validade CNH (contexto):",u.validadeCnh);break}}if((!u.dataEmissao||!u.validadeCnh)&&O.length>=2){console.log("🔄 Usando lógica posicional para datas...");let T=O;if(u.dataNascimento&&(T=O.filter(A=>A!==u.dataNascimento)),T.length>=2){const A=T.sort((H,p)=>{const[b,y,_]=H.split("/").map(Number),[M,z,Z]=p.split("/").map(Number),Q=new Date(_,y-1,b),te=new Date(Z,z-1,M);return Q.getTime()-te.getTime()});u.dataEmissao||(u.dataEmissao=A[0],console.log("📅 Data emissão (posicional):",u.dataEmissao)),!u.validadeCnh&&A.length>1&&(u.validadeCnh=A[A.length-1],console.log("📅 Validade CNH (posicional):",u.validadeCnh))}}const N=[/(?:RG[:\s]+)(\d{1,2}\.?\d{3}\.?\d{3}[-\.]?\w{1,2})/i,/(?:IDENTIDADE[:\s]+)(\d{1,2}\.?\d{3}\.?\d{3}[-\.]?\w{1,2})/i,/(?:DOC[:\s]+IDENTIDADE[:\s]+)(\d{1,2}\.?\d{3}\.?\d{3}[-\.]?\w{1,2})/i,/(?:4C[:\s]+)(\d{1,2}\.?\d{3}\.?\d{3}[-\.]?\w{1,2})/i];for(const T of N){const A=f.match(T);if(A){u.rg=A[1],u.numeroIdentidade=A[1],console.log("🆔 RG/Identidade (explícito):",u.rg);break}}if(!u.rg){const T=[/\b(\d{1,2}\.?\d{3}\.?\d{3}[-\.]?\w{1,2})\b/,/\b(\d{2}\.\d{3}\.\d{3}-\w)\b/,/\b(\d{8,9}[-]?\w)\b/];for(const A of T){const H=f.match(new RegExp(A.source,"g"));if(H){for(const p of H)if(!p.match(/^\d{11}$/)&&!p.match(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/)&&!p.match(/^\d{2}\/\d{2}\/\d{4}$/)&&p.length<=12){u.rg=p,u.numeroIdentidade=p,console.log("🆔 RG/Identidade (genérico):",u.rg);break}if(u.rg)break}}}const W=[/\b(SSP[\s\/\-]*[A-Z]{2})\b/i,/\b(DETRAN[\s\/\-]*[A-Z]{2})\b/i,/\b(SESP[\s\/\-]*[A-Z]{2})\b/i,/\b(PC[\s\/\-]*[A-Z]{2})\b/i,/\b(IIRGD[\s\/\-]*[A-Z]{2})\b/i];for(const T of W){const A=f.match(T);if(A){u.orgaoExpedidor=A[1]?.toUpperCase(),u.orgaoEmissor=u.orgaoExpedidor,console.log("🏛️ Órgão emissor:",u.orgaoExpedidor);break}}const j=f.match(/\b\d{3}\.?\d{3}\.?\d{3}[-\.]?\d{2}\b/);j&&(u.cpf=j[0].replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),console.log("📄 CPF:",u.cpf));const q=[/\b(\d{11})\b/,/(?:CNH|REGISTRO|HABILITACAO)[:\s]*(\d{11})/i,/(?:N[ºº]?[\s]*REGISTRO)[:\s]*(\d{11})/i,/(?:NUMERO)[:\s]*(\d{11})/i];for(const T of q){const A=f.match(T);if(A){u.numeroCnh=A[1],console.log("🚗 Número CNH:",u.numeroCnh);break}}f.toLowerCase().includes("brasil")&&(u.nacionalidade="BRASILEIRA",console.log("🇧🇷 Nacionalidade:",u.nacionalidade));const U={};for(let T=0;T<w.length;T++){const A=w[T];if(A&&(A.toLowerCase().includes("filiacao")||A.toLowerCase().includes("filiação")||A.toLowerCase().includes("pai")||A.toLowerCase().includes("mae")||A.toLowerCase().includes("mãe"))){for(let H=T+1;H<=Math.min(T+3,w.length-1);H++){const p=w[H];if(p&&p.match(/^[A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{6,60}$/)&&!p.match(/\d/)){if(!U.pai)U.pai=p.trim(),console.log("👨 Nome do pai:",U.pai);else if(!U.mae){U.mae=p.trim(),console.log("👩 Nome da mãe:",U.mae);break}}}break}}if(!U.pai||!U.mae){const T=[/(?:PAI[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{6,60})/i,/(?:FILIACAO[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{6,60})/i],A=[/(?:MAE[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{6,60})/i,/(?:MÃE[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{6,60})/i];for(const H of T){const p=f.match(H);if(p&&!U.pai){U.pai=p[1]?.trim(),console.log("👨 Nome do pai (padrão):",U.pai);break}}for(const H of A){const p=f.match(H);if(p&&!U.mae){U.mae=p[1]?.trim(),console.log("👩 Nome da mãe (padrão):",U.mae);break}}}return(U.pai||U.mae)&&(u.filiacao=U),console.log("✅ CNH brasileira processada:",u),u},n=x=>{console.log("🆔 Processando RG:",x.substring(0,100)+"...");const f=x.replace(/\n+/g," ").replace(/\s+/g," "),w={},u=[/\b\d{2}\.?\d{3}\.?\d{3}-?\d{1}\b/,/\b\d{1,2}\.?\d{3}\.?\d{3}-?\w{1,2}\b/,/(?:RG[:\s]*)(\d{1,2}\.?\d{3}\.?\d{3}-?\w{1,2})/i,/(?:IDENTIDADE[:\s]*)(\d{1,2}\.?\d{3}\.?\d{3}-?\w{1,2})/i];for(const L of u){const N=f.match(L);if(N){w.rg=N[1]||N[0],w.numeroIdentidade=w.rg,console.log("🆔 RG:",w.rg);break}}const m=[/(?:NOME[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,60})/i,/(?:PORTADOR[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,60})/i];for(const L of m){const N=f.match(L);if(N){const W=N[1]?.trim();if(W){w.nomeCompleto=W;const j=W.split(" ");w.nome=j[0],j.length>1&&(w.sobrenome=j.slice(1).join(" "))}console.log("👤 Nome:",w.nomeCompleto);break}}const D=f.match(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/);D&&(w.cpf=D[0].replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),console.log("📄 CPF:",w.cpf));const O=[/(?:EMISSÃO[:\s]+)?(\d{2}\/\d{2}\/\d{4})/i,/(?:DATA[:\s]+)?(\d{2}\/\d{2}\/\d{4})/i];for(const L of O){const N=f.match(L);if(N){w.dataEmissao=N[1],console.log("📅 Data emissão:",w.dataEmissao);break}}const k=[/\b(SSP[\s\/]*[A-Z]{2})\b/i,/\b(DETRAN[\s\/]*[A-Z]{2})\b/i,/\b(SESP[\s\/]*[A-Z]{2})\b/i,/\b(PC[\s\/]*[A-Z]{2})\b/i,/\b(SSP)\b/i];for(const L of k){const N=f.match(L);if(N){w.orgaoExpedidor=N[1]?.toUpperCase(),w.orgaoEmissor=w.orgaoExpedidor,console.log("🏛️ Órgão:",w.orgaoExpedidor);break}}return console.log("✅ RG processado:",w),w},s=x=>{console.log("📄 Processando CPF:",x.substring(0,100)+"...");const f=x.split(`
`).map(u=>u.trim()),w={};for(const u of f)if(u.match(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/)){w.cpf=u,console.log("📄 CPF:",w.cpf);break}for(let u=0;u<f.length;u++){const m=f[u];if(m&&m.includes("CPF")&&u>0){const D=f[u-1];if(D&&D.match(/^[A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]+$/)){w.nomeCompleto=D;const O=D.split(" ");w.nome=O[0],O.length>1&&(w.sobrenome=O.slice(1).join(" ")),console.log("👤 Nome:",w.nomeCompleto);break}}}return console.log("✅ CPF processado:",w),w},h=x=>{console.log("🏢 Processando CNPJ:",x.substring(0,100)+"...");const f=x.replace(/\n+/g," ").replace(/\s+/g," "),w={},u=f.match(/\b\d{2}\.?\d{3}\.?\d{3}\/?\d{4}-?\d{2}\b/);u&&(w.cnpj=u[0].replace(/[^\d]/g,"").replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),console.log("🏢 CNPJ:",w.cnpj));const m=[/(?:RAZAO[:\s]+SOCIAL[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,60})/i,/(?:EMPRESA[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{3,60})/i];for(const D of m){const O=f.match(D);if(O){w.razaoSocial=O[1]?.trim(),console.log("🏢 Razão Social:",w.razaoSocial);break}}return console.log("✅ CNPJ processado:",w),w},d=x=>(console.log("❓ Processando documento genérico:",x.substring(0,100)+"..."),c(x)),c=x=>{const f=x.replace(/\n+/g," ").replace(/\s+/g," "),w={},u=f.match(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/);u&&(w.cpf=u[0].replace(/[^\d]/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"));const m=[/\b\d{2}\.?\d{3}\.?\d{3}-?\d{1}\b/,/\b\d{1,2}\.?\d{3}\.?\d{3}-?\w{1,2}\b/,/RG[:\s]*(\d{1,2}\.?\d{3}\.?\d{3}-?\w{1,2})/i];for(const L of m){const N=f.match(L);if(N){w.rg=N[0].replace(/^RG[:\s]*/i,"");break}}const D=[/(?:NOME[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{2,50})/i,/(?:PORTADOR[:\s]+)([A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{2,50})/i,/\b([A-ZÁÀÂÃÉÊÍÔÕÚÇ]{2,}\s+[A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]{2,50})\b/];for(const L of D){const N=f.match(L);if(N){const W=N[1].trim();if(W.length>5&&!W.match(/\d/)&&W.split(" ").length>=2){w.nome=W;break}}}const O=[/(?:EMISSÃO[:\s]+)?(\d{2}\/\d{2}\/\d{4})/i,/(?:DATA[:\s]+)?(\d{2}\/\d{2}\/\d{4})/i];for(const L of O){const N=f.match(L);if(N){w.dataEmissao=N[1];break}}const k=[/\b(SSP[\/\s]*[A-Z]{2})\b/i,/\b(DETRAN[\/\s]*[A-Z]{2})\b/i,/\b(SESP[\/\s]*[A-Z]{2})\b/i,/\b(PC[\/\s]*[A-Z]{2})\b/i];for(const L of k){const N=f.match(L);if(N){w.orgaoExpedidor=N[1]?.toUpperCase();break}}return w},l=async x=>{const f=await t(x);if(f.extractedData){const w=f.text.toLowerCase();if(w.includes("receita federal")||w.includes("cpf")||w.includes("cadastro")){const u=S(f.text);f.extractedData={...f.extractedData,...u}}}return f},g=async x=>{const f=await t(x);if(f.extractedData){const w=f.text.toLowerCase();if(w.includes("carteira de identidade")||w.includes("identidade civil")||w.includes("rg")){const u=I(f.text);f.extractedData={...f.extractedData,...u}}}return f},S=x=>{const f={},w=x.split(`
`).map(u=>u.trim());for(const u of w)if(u.match(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/)){f.cpf=u;break}for(let u=0;u<w.length;u++)if(w[u].includes("CPF")&&u>0){const D=w[u-1];if(D.match(/^[A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]+$/)){f.nome=D;break}}return f},I=x=>{const f={},w=x.split(`
`).map(u=>u.trim());for(let u=0;u<w.length;u++){const m=w[u];if(m&&m.toUpperCase().includes("NOME")&&u+1<w.length){const D=w[u+1];D&&(f.nome=D.replace(/[^A-ZÁÀÂÃÉÊÍÔÕÚÇ\s]/g,"").trim())}m&&m.match(/\d{2}\.\d{3}\.\d{3}-\d/)&&(f.rg=m.match(/\d{2}\.\d{3}\.\d{3}-\d/)?.[0])}return f},R=async x=>{try{return new Promise(f=>{const w=document.createElement("canvas"),u=w.getContext("2d"),m=new Image;m.onload=()=>{w.width=m.width,w.height=m.height,u?.drawImage(m,0,0);const D=Math.floor(m.width*.25),O=Math.floor(m.height*.3),k=m.width-D-Math.floor(m.width*.05),L=Math.floor(m.height*.1),N=document.createElement("canvas"),W=N.getContext("2d");if(N.width=D,N.height=O,W&&u){const j=u.getImageData(k,L,D,O);W.putImageData(j,0,0);const q=N.toDataURL("image/jpeg",.8);f(q)}else f(null)},m.onerror=()=>f(null),m.src=URL.createObjectURL(x)})}catch(f){return console.error("Erro ao extrair foto do documento:",f),null}},C=async(x,f,w)=>{const u=[],m=[];let D=0,O=null,k=null;try{if(O=await R(w),O){const L=await fetch(O).then(j=>j.blob()),N=new File([L],"document_photo.jpg",{type:"image/jpeg"}),{extractFaceEmbedding:W}=ei();k=await W(N)}if(f.extractedData){const L=f.extractedData.nome?.toLowerCase().trim(),N=x.nome.toLowerCase().trim();if(L&&N){const W=B(N,L);W>.8?D+=40:W>.6?(m.push(`Nome no documento (${L}) pode não corresponder ao informado (${N})`),D+=20):u.push(`Nome no documento (${L}) não corresponde ao informado (${N})`)}if(x.cpf&&f.extractedData.cpf){const W=f.extractedData.cpf.replace(/[^\d]/g,""),j=x.cpf.replace(/[^\d]/g,"");W===j?D+=30:u.push(`CPF no documento (${f.extractedData.cpf}) não corresponde ao informado (${x.cpf})`)}(f.extractedData.dataEmissao||f.extractedData.validadeCnh)&&(D+=15),O?D+=15:m.push("Não foi possível extrair a foto do documento para validação facial")}return{isValid:u.length===0&&D>=60,errors:u,warnings:m,extractedPhoto:O||void 0,faceEmbedding:k||void 0,confidenceScore:D}}catch(L){return console.error("Erro na validação do documento:",L),{isValid:!1,errors:["Erro interno na validação do documento"],warnings:[],confidenceScore:0}}},B=(x,f)=>{const w=L=>L.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z\s]/g,"").trim(),u=w(x),m=w(f);if(u.includes(m)||m.includes(u))return .9;const D=u.split(" "),O=m.split(" ");let k=0;for(const L of D)for(const N of O)if(L===N||L.length>3&&N.length>3&&(L.includes(N)||N.includes(L))){k++;break}return k/Math.max(D.length,O.length)};return{extractText:t,extractFromCPF:l,extractFromRG:g,extractPhotoFromDocument:R,validateDocumentData:C,isProcessing:Nt(r),progress:Nt(e)}}const ai={class:"space-y-2"},ri={class:"text-[12px] text-slate-300"},ii=["accept"],oi={key:0},ni={class:"text-xs text-slate-400 mt-1"},si={key:1,class:"py-2"},ci={class:"w-full bg-slate-700 rounded-full h-2 mt-2"},li={class:"text-xs text-slate-400 mt-1"},di={key:2,class:"py-2"},hi={class:"w-full bg-slate-700 rounded-full h-2 mt-2"},ui={key:3,class:"py-2"},fi={class:"text-sm text-slate-300 truncate"},pi={class:"text-xs text-slate-400"},mi={key:0,class:"mt-2 p-2 bg-blue-900/20 border border-blue-700/30 rounded text-xs"},gi={key:0,class:"mb-2 flex items-center space-x-2"},vi=["src"],bi={class:"space-y-1"},wi={key:0,class:"text-slate-300"},yi={key:1,class:"text-slate-300"},xi={key:2,class:"text-slate-300"},Ei={key:3,class:"text-slate-300"},Di={key:4,class:"text-slate-300"},Ci={key:1,class:"mt-2 pt-2 border-t border-blue-700/30"},Ai={key:0,class:"text-green-400"},Ti={key:1,class:"text-red-400"},Oi={key:2,class:"mt-1"},Ni={class:"text-slate-500 mt-1"},Mi={key:4,class:"mt-2 text-red-400 text-xs"},Si={key:5,class:"mt-2 text-green-400 text-xs"},Ri={class:"space-y-3 cropper-wrapper"},Li={class:"relative cropper-shell overflow-hidden rounded-2xl border border-slate-600 bg-slate-900/80"},Pi={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-slate-900/70"},Ii=["src"],_i={class:"flex flex-wrap justify-center gap-3 text-xs"},ki=["disabled"],Ui=["disabled"],Bi=["disabled"],Fi={class:"flex justify-end gap-2"},zi=["disabled"],$i=["disabled"],Gi={key:0,class:"fa-solid fa-spinner fa-spin text-xs"},Hi={__name:"UserFileUpload",props:{label:{type:String,required:!0},accept:{type:String,default:"image/*,application/pdf"},maxSize:{type:Number,default:5*1024*1024},modelValue:{type:String,default:""},userId:{type:String,required:!1},fileType:{type:String,required:!0,validator:r=>["profileImage","cpfImage","rgImage","cnpjImage","enderecoImage","telefoneImage","bancoImage","pixImage","PROFILE_PHOTO","ADDRESS_PROOF","DOCUMENT","RG","CNH","IDENTITY","CARTAO_CNPJ","CONTRATO_SOCIAL","QUALIFICACAO_SOCIOS"].includes(r)},enableOcr:{type:Boolean,default:!1},enableCrop:{type:Boolean,default:!1},cropAspectRatio:{type:Number,default:1},cropWidth:{type:Number,default:600},cropHeight:{type:Number,default:600},temporaryMode:{type:Boolean,default:!1},sessionId:{type:String,required:!1},formData:{type:Object,default:()=>({}),validator:r=>typeof r=="object"}},emits:["update:modelValue","file-selected","file-uploaded","ocr-result"],setup(r,{emit:e}){const t=r,a=e,o=ie(),i=ie(null),n=ie(!1),s=ie(0),h=ie(""),d=ie(""),c=ie(!1),l=ie(0),g=ie(null),S=ie(!1),I=ie(""),R=ie(null),C=ie(null),B=ie(null),x=ie(!1),{uploadUserFile:f}=Rr(),{extractFromCPF:w,extractFromRG:u,extractText:m,validateDocumentData:D,isProcessing:O,progress:k}=ti();ze(O,E=>{c.value=E}),ze(k,E=>{l.value=E}),ze(S,async E=>{E?(await $a(),x.value=!1,C.value&&(C.value.destroy(),C.value=null),R.value&&(C.value=new Ma(R.value,{aspectRatio:t.cropAspectRatio||1,viewMode:1,autoCropArea:.9,responsive:!0,background:!1,dragMode:"move",movable:!0,zoomable:!0,scalable:!1,rotatable:!1,ready(){this.cropper.setDragMode("move")}}))):(C.value&&(C.value.destroy(),C.value=null),I.value="",B.value=null,x.value=!1)}),_a(()=>{C.value&&(C.value.destroy(),C.value=null)});const L=ka(()=>t.accept.includes("image/*")?"Aceita imagens (JPG, PNG, etc.) e PDFs":"Tipos aceitos: "+t.accept);function N(){n.value||o.value?.click()}function W(E){const v=E.target.files[0];v&&q(v)}function j(E){const v=E.dataTransfer.files[0];v&&q(v)}async function q(E){if(h.value="",d.value="",E.size>t.maxSize){h.value=`Arquivo muito grande. Máximo: ${A(t.maxSize)}`;return}if(!t.accept.split(",").map(Y=>Y.trim()).some(Y=>Y==="image/*"?E.type.startsWith("image/"):Y==="application/*"?E.type.startsWith("application/"):E.type===Y)){h.value="Tipo de arquivo não permitido";return}i.value=E;const $=E.type.startsWith("image/");if(t.enableCrop&&$){B.value=E;try{I.value=await H(E),S.value=!0}catch(Y){console.error("Crop preview error:",Y),h.value=Y.message||"Não foi possível carregar a imagem para recorte",i.value=null,B.value=null}return}a("file-selected",E),t.enableOcr&&te(E)&&await ae(E),U(E)}async function U(E){n.value=!0,s.value=0;try{s.value=25;let v;if(!!t.userId&&!Q(t.userId))v=await f(t.userId,E,t.fileType);else{h.value="Usuário deve ser salvo antes de enviar arquivos. Preencha nome e email válidos.";return}d.value="Arquivo enviado com sucesso!",s.value=75,s.value=100,a("update:modelValue",v.publicUrl),a("file-uploaded",v)}catch(v){console.error("Upload error:",v),h.value=v.message||"Erro ao fazer upload do arquivo",i.value=null}finally{n.value=!1}}function T(){i.value=null,h.value="",d.value="",a("update:modelValue",""),o.value&&(o.value.value="")}function A(E){if(E===0)return"0 Bytes";const v=1024,F=["Bytes","KB","MB","GB"],$=Math.floor(Math.log(E)/Math.log(v));return parseFloat((E/Math.pow(v,$)).toFixed(2))+" "+F[$]}function H(E){return new Promise((v,F)=>{const $=new FileReader;$.onload=()=>{typeof $.result=="string"?v($.result):F(new Error("Formato de arquivo inválido"))},$.onerror=()=>F(new Error("Erro ao ler arquivo")),$.readAsDataURL(E)})}function p(){x.value||(S.value=!1,B.value=null,i.value=null,h.value="",d.value="",o.value&&(o.value.value=""))}async function b(){if(!(!C.value||!B.value)){x.value=!0;try{const E=C.value.getCroppedCanvas({width:t.cropWidth||void 0,height:t.cropHeight||void 0,imageSmoothingQuality:"high"});if(!E)throw new Error("Não foi possível gerar a imagem recortada");const v=await new Promise((de,Ot)=>{E.toBlob(Ee=>{Ee?de(Ee):Ot(new Error("Não foi possível gerar a imagem recortada"))},B.value.type||"image/jpeg",.95)}),F=B.value.name||"profile-photo.jpg",$=v.type||B.value.type||"image/jpeg",Y=new File([v],F,{type:$,lastModified:Date.now()});S.value=!1,i.value=Y,a("file-selected",Y),B.value=null,t.enableOcr&&te(Y)&&await ae(Y),await U(Y)}catch(E){console.error("Crop error:",E),h.value=E.message||"Erro ao recortar a imagem"}finally{x.value=!1}}}function y(){C.value?.zoom(.1)}function _(){C.value?.zoom(-.1)}function M(){C.value&&C.value.reset()}const z=new Set(["DOCUMENT","IDENTITY","CPF","CPFIMAGE","RG","RGIMAGE","CNH","CNHIMAGE","ADDRESS_PROOF","ENDERECOIMAGE","CARTAO_CNPJ","CNPJIMAGE","CONTRATO_SOCIAL","QUALIFICACAO_SOCIOS"]);function Z(E){return E?String(E).trim().toUpperCase():""}function Q(E){return typeof E!="string"?!1:E.startsWith("temp_")||E.startsWith("session_")}function te(E){const v=Z(t.fileType);return z.has(v)&&(E.type.startsWith("image/")||E.type==="application/pdf")}async function ae(E){try{g.value=null,h.value="";let v;switch(Z(t.fileType)){case"CPF":case"CPFIMAGE":v=await w(E);break;case"RG":case"RGIMAGE":case"DOCUMENT":case"IDENTITY":case"CNH":case"CNHIMAGE":v=await u(E);break;case"CARTAO_CNPJ":case"CNPJIMAGE":case"CONTRATO_SOCIAL":case"QUALIFICACAO_SOCIOS":case"ADDRESS_PROOF":case"ENDERECOIMAGE":v=await m(E);break;default:v=await m(E);break}if(v&&v.extractedData){g.value=v;let $=null;if(t.formData&&(t.formData.nome||t.formData.email)){console.log("🔍 Iniciando validação cruzada dos dados...");try{$=await D(t.formData,v,E),console.log("✅ Resultado da validação:",$),$.isValid?d.value=`✅ Documento válido! Confiança: ${$.confidenceScore}%`:h.value=`❌ Problemas na validação: ${$.errors.join(", ")}`,$.warnings.length>0&&console.warn("⚠️ Warnings:",$.warnings)}catch(Y){console.error("Erro na validação cruzada:",Y)}}if(a("ocr-result",{fileType:t.fileType,extractedData:v.extractedData,confidence:v.confidence,fullText:v.text,validation:$,extractedPhoto:$?.extractedPhoto}),!$){const Y=Object.keys(v.extractedData).length;Y>0&&(d.value=`OCR: ${Y} campo(s) extraído(s) automaticamente`)}}else console.warn("OCR não encontrou dados estruturados")}catch(v){console.error("Erro no processamento OCR:",v)}}return(E,v)=>(K(),J("div",ai,[P("label",ri,oe(r.label),1),P("div",{class:"border-2 border-dashed border-slate-600 rounded-lg p-4 text-center cursor-pointer hover:border-slate-500 transition-colors",onClick:N,onDragover:v[0]||(v[0]=$e(()=>{},["prevent"])),onDrop:$e(j,["prevent"])},[P("input",{ref_key:"fileInput",ref:o,type:"file",accept:r.accept,class:"hidden",onChange:W},null,40,ii),!i.value&&!n.value?(K(),J("div",oi,[v[2]||(v[2]=P("i",{class:"fa-solid fa-cloud-arrow-up text-2xl text-slate-400 mb-2"},null,-1)),v[3]||(v[3]=P("p",{class:"text-sm text-slate-300"}," Clique para selecionar ou arraste o arquivo aqui ",-1)),P("p",ni,oe(L.value),1)])):c.value?(K(),J("div",si,[v[4]||(v[4]=P("i",{class:"fa-solid fa-brain text-xl text-blue-500 mb-2"},null,-1)),v[5]||(v[5]=P("p",{class:"text-sm text-slate-300"},"Extraindo dados do documento...",-1)),P("div",ci,[P("div",{class:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:Mt({width:l.value+"%"})},null,4)]),P("p",li,oe(l.value)+"% concluído",1)])):n.value?(K(),J("div",di,[v[6]||(v[6]=P("i",{class:"fa-solid fa-spinner fa-spin text-xl text-orange-500 mb-2"},null,-1)),v[7]||(v[7]=P("p",{class:"text-sm text-slate-300"},"Enviando arquivo...",-1)),P("div",hi,[P("div",{class:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:Mt({width:s.value+"%"})},null,4)])])):i.value?(K(),J("div",ui,[v[19]||(v[19]=P("i",{class:"fa-solid fa-file text-xl text-green-500 mb-2"},null,-1)),P("p",fi,oe(i.value.name),1),P("p",pi,oe(A(i.value.size)),1),g.value&&g.value.extractedData?(K(),J("div",mi,[v[17]||(v[17]=P("p",{class:"text-blue-400 font-medium mb-1"},[P("i",{class:"fa-solid fa-magic-wand-sparkles mr-1"}),se(" Dados extraídos automaticamente: ")],-1)),g.value.extractedPhoto?(K(),J("div",gi,[P("img",{src:g.value.extractedPhoto,alt:"Foto extraída do documento",class:"w-16 h-16 object-cover rounded border border-blue-700/50"},null,8,vi),v[8]||(v[8]=P("div",{class:"text-xs"},[P("p",{class:"text-green-400"},[P("i",{class:"fa-solid fa-camera mr-1"}),se(" Foto extraída para validação facial ")])],-1))])):ne("",!0),P("div",bi,[g.value.extractedData.nome?(K(),J("div",wi,[v[9]||(v[9]=P("span",{class:"text-slate-400"},"Nome:",-1)),se(" "+oe(g.value.extractedData.nome),1)])):ne("",!0),g.value.extractedData.cpf?(K(),J("div",yi,[v[10]||(v[10]=P("span",{class:"text-slate-400"},"CPF:",-1)),se(" "+oe(g.value.extractedData.cpf),1)])):ne("",!0),g.value.extractedData.rg?(K(),J("div",xi,[v[11]||(v[11]=P("span",{class:"text-slate-400"},"RG:",-1)),se(" "+oe(g.value.extractedData.rg),1)])):ne("",!0),g.value.extractedData.orgaoExpedidor?(K(),J("div",Ei,[v[12]||(v[12]=P("span",{class:"text-slate-400"},"Órgão:",-1)),se(" "+oe(g.value.extractedData.orgaoExpedidor),1)])):ne("",!0),g.value.extractedData.dataEmissao?(K(),J("div",Di,[v[13]||(v[13]=P("span",{class:"text-slate-400"},"Emissão:",-1)),se(" "+oe(g.value.extractedData.dataEmissao),1)])):ne("",!0)]),g.value.validation?(K(),J("div",Ci,[g.value.validation.isValid?(K(),J("div",Ai,[v[14]||(v[14]=P("i",{class:"fa-solid fa-check-circle mr-1"},null,-1)),se(" Documento validado ("+oe(g.value.validation.confidenceScore)+"% confiança) ",1)])):(K(),J("div",Ti,[...v[15]||(v[15]=[P("i",{class:"fa-solid fa-exclamation-triangle mr-1"},null,-1),se(" Validação falhou ",-1)])])),g.value.validation.warnings.length>0?(K(),J("div",Oi,[(K(!0),J(Ba,null,Fa(g.value.validation.warnings,F=>(K(),J("div",{key:F,class:"text-yellow-400 text-xs"},[v[16]||(v[16]=P("i",{class:"fa-solid fa-warning mr-1"},null,-1)),se(" "+oe(F),1)]))),128))])):ne("",!0)])):ne("",!0),P("p",Ni,"Confiança OCR: "+oe(Math.round(g.value.confidence))+"%",1)])):ne("",!0),P("button",{class:"mt-2 text-red-400 hover:text-red-300 text-xs",onClick:$e(T,["stop"])},[...v[18]||(v[18]=[P("i",{class:"fa-solid fa-trash mr-1"},null,-1),se(" Remover ",-1)])])])):ne("",!0),h.value?(K(),J("div",Mi,oe(h.value),1)):ne("",!0),d.value?(K(),J("div",Si,[v[20]||(v[20]=P("i",{class:"fa-solid fa-check mr-1"},null,-1)),se(" "+oe(d.value),1)])):ne("",!0)],32),Ua(za,{modelValue:S.value,"onUpdate:modelValue":v[1]||(v[1]=F=>S.value=F),title:"Ajustar foto",size:"lg","close-on-backdrop":!1,"z-index":2500},{footer:St(()=>[P("div",Fi,[P("button",{type:"button",class:"px-3 py-2 text-xs font-semibold rounded-md bg-slate-700 hover:bg-slate-600 text-slate-100",onClick:p,disabled:x.value}," Cancelar ",8,zi),P("button",{type:"button",class:"px-3 py-2 text-xs font-semibold rounded-md bg-indigo-600 hover:bg-indigo-500 text-white flex items-center gap-1 disabled:opacity-60",onClick:b,disabled:x.value},[x.value?(K(),J("i",Gi)):ne("",!0),v[26]||(v[26]=P("span",null,"Usar imagem",-1))],8,$i)])]),default:St(()=>[P("div",Ri,[v[25]||(v[25]=P("p",{class:"text-xs text-slate-300"}," Utilize os controles para ajustar o enquadramento. O recorte será aplicado antes do envio. ",-1)),P("div",Li,[x.value?(K(),J("div",Pi,[...v[21]||(v[21]=[P("i",{class:"fa-solid fa-spinner fa-spin text-lg text-indigo-400"},null,-1)])])):ne("",!0),I.value?(K(),J("img",{key:1,ref_key:"cropperImageRef",ref:R,src:I.value,alt:"Editor de recorte",class:"max-w-full"},null,8,Ii)):ne("",!0)]),P("div",_i,[P("button",{type:"button",class:"inline-flex items-center gap-1 px-3 py-2 rounded-md bg-slate-700 hover:bg-slate-600 text-slate-100",onClick:_,disabled:x.value},[...v[22]||(v[22]=[P("i",{class:"fa-solid fa-magnifying-glass-minus"},null,-1),se(" Zoom - ",-1)])],8,ki),P("button",{type:"button",class:"inline-flex items-center gap-1 px-3 py-2 rounded-md bg-slate-700 hover:bg-slate-600 text-slate-100",onClick:y,disabled:x.value},[...v[23]||(v[23]=[P("i",{class:"fa-solid fa-magnifying-glass-plus"},null,-1),se(" Zoom + ",-1)])],8,Ui),P("button",{type:"button",class:"inline-flex items-center gap-1 px-3 py-2 rounded-md bg-slate-700 hover:bg-slate-600 text-slate-100",onClick:M,disabled:x.value},[...v[24]||(v[24]=[P("i",{class:"fa-solid fa-arrows-rotate"},null,-1),se(" Resetar ",-1)])],8,Bi)])])]),_:1},8,["modelValue"])]))}},ji=Ia(Hi,[["__scopeId","data-v-d554ca2a"]]);function Yi(){return{getCurrentLocation:()=>new Promise((t,a)=>{if(!navigator.geolocation){a(new Error("Geolocalização não é suportada pelo navegador"));return}navigator.geolocation.getCurrentPosition(o=>{t({latitude:o.coords.latitude,longitude:o.coords.longitude,accuracy:o.coords.accuracy})},o=>{let i="Erro ao obter localização";switch(o.code){case o.PERMISSION_DENIED:i="Permissão de geolocalização negada";break;case o.POSITION_UNAVAILABLE:i="Localização indisponível";break;case o.TIMEOUT:i="Timeout ao obter localização";break}a(new Error(i))},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})}),formatLocation:t=>`${t.latitude},${t.longitude}`}}export{ji as U,ei as a,Yi as u};
