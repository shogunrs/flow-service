<!doctype html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FourCon – Consórcio inteligente, resultado real</title>
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='grad1' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%23E2E8F0'/%3E%3Cstop offset='100%25' stop-color='%2394A3B8'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M36.14 2.86A19 19 0 1 0 36.14 37.14' stroke='url(%23grad1)' stroke-width='4' fill='none' stroke-linecap='round'/%3E%3Cpath d='M29 11 L12 20 L29 29 L29 24.5 L17 20 L29 15.5Z' fill='%234F46E5'/%3E%3C/svg%3E"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              brand: {
                50: "#eef2ff",
                100: "#e0e7ff",
                600: "#4f46e5",
                700: "#4338ca",
              },
            },
            backdropBlur: { xs: "2px" },
            boxShadow: { glow: "0 0 40px rgba(79,70,229,.35)" },
            animation: {
              "spin-slow": "spin 6s linear infinite",
              "pulse-slow": "pulse 4s ease-in-out infinite",
              shimmer: "shimmer 3s linear infinite",
              float: "float 8s ease-in-out infinite",
              gradient: "gradient 8s ease infinite",
            },
            keyframes: {
              shimmer: {
                "0%": { backgroundPosition: "-1000px 0" },
                "100%": { backgroundPosition: "1000px 0" },
              },
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-10px)" },
              },
              gradient: {
                "0%": { backgroundPosition: "0% 50%" },
                "50%": { backgroundPosition: "100% 50%" },
                "100%": { backgroundPosition: "0% 50%" },
              },
            },
          },
        },
      };
    </script>

    <!-- Vue 3 (global build) -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <!-- AOS (scroll animations) -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
    <script defer src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        color-scheme: dark;
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family:
          "Inter",
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          sans-serif;
      }
      [v-cloak] {
        display: none;
      }
      .hero-gradient-text {
        background: linear-gradient(90deg, #4f46e5, #c026d3, #db2777);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-fill-color: transparent;
      }
      .glass {
        background: rgba(15, 23, 42, 0.55);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(148, 163, 184, 0.2);
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      @media (prefers-reduced-motion: reduce) {
        * {
          animation: none !important;
          transition: none !important;
        }
      }
    </style>
  </head>
  <body class="bg-black text-slate-200 antialiased">
    <noscript>
      <div class="mx-auto max-w-3xl p-4 text-center text-red-300">
        Este site requer JavaScript para funcionar corretamente.
      </div>
    </noscript>

    <div id="app" v-cloak>
      <!-- Header -->
      <header class="fixed inset-x-0 top-0 z-40 transition-all">
        <nav
          class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between rounded-b-2xl bg-black/20 backdrop-blur shadow-glow"
        >
          <a
            href="#top"
            class="flex items-center gap-2 font-extrabold tracking-tight"
          >
            <span class="text-white"
              >FOUR<span class="text-purple-800">CON</span></span
            >
          </a>
          <div class="hidden md:flex items-center gap-8 text-sm">
            <a href="#solucao" class="text-slate-300 hover:text-white"
              >Solução</a
            >
            <a href="#parceiros" class="text-slate-300 hover:text-white"
              >Parceiros</a
            >
            <a href="#contato" class="text-slate-300 hover:text-white"
              >Contato</a
            >
          </div>
          <div class="flex items-center gap-3">
            <a
              href="#login"
              @click.prevent="showLogin"
              class="hidden sm:inline-flex items-center gap-2 rounded-xl px-4 py-2 bg-brand-600 hover:bg-brand-700 text-white shadow-glow"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M18 20a6 6 0 0 0-12 0" />
                <circle cx="12" cy="10" r="4" />
                <circle cx="12" cy="12" r="10" />
              </svg>
              Entrar
            </a>
            <button
              class="md:hidden p-2 rounded-lg glass"
              @click="mobileOpen = !mobileOpen"
              aria-label="Abrir menu"
            >
              <svg
                v-if="!mobileOpen"
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
              <svg
                v-else
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>
        </nav>
        <div
          v-show="mobileOpen"
          class="md:hidden mx-4 mt-2 rounded-2xl glass backdrop-blur px-4 py-3 space-y-2"
        >
          <a href="#solucao" class="block py-2" @click="mobileOpen=false"
            >Solução</a
          >
          <a href="#parceiros" class="block py-2" @click="mobileOpen=false"
            >Parceiros</a
          >
          <a href="#contato" class="block py-2" @click="mobileOpen=false"
            >Contato</a
          >
          <a
            href="#login"
            class="block py-2"
            @click="mobileOpen=false; showLogin()"
            >Entrar</a
          >
        </div>
      </header>

      <!-- Hero -->
      <section
        id="top"
        class="relative min-h-screen flex items-center justify-center overflow-hidden"
      >
        <!-- Video bg -->
        <video
          class="absolute inset-0 w-full h-full object-cover opacity-30"
          autoplay
          muted
          loop
          playsinline
          poster="./fundo.jpg"
        >
          <source src="./6738879-uhd_3840_2160_25fps.mp4" type="video/mp4" />
        </video>
        <div></div>
        <!-- Floating orbs -->
        <div
          class="pointer-events-none absolute -left-10 top-24 h-72 w-72 bg-brand-600/30 blur-3xl rounded-full animate-float"
        ></div>
        <div
          class="pointer-events-none absolute -right-10 bottom-24 h-72 w-72 bg-fuchsia-500/20 blur-3xl rounded-full animate-float"
          style="animation-delay: 2s"
        ></div>

        <div class="relative z-10 max-w-4xl mx-auto px-6 text-center space-y-8">
          <
          <h2
            class="text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-tighter mb-6 text-white leading-tight"
          >
            O futuro do consórcio chegou.
            <span class="hero-gradient-text"
              >Mais liquidez, mais tecnologia</span
            >
            com mais resultados para você..
          </h2>
          <p
            class="text-lg md:text-xl text-slate-300/90"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            Plataforma de ponta a ponta com IA proprietária, processo maduro e
            operações financeiras ágeis.
          </p>
          <div
            class="flex flex-col sm:flex-row items-center justify-center gap-4"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <a
              href="#contato"
              class="inline-flex items-center gap-2 rounded-2xl px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white shadow-glow"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="m3 3 3 9-3 9 19-9Z" />
                <path d="M6 12h16" />
              </svg>
              Iniciar agora
            </a>
            <a
              href="#solucao"
              class="inline-flex items-center gap-2 rounded-2xl px-6 py-3 glass hover:shadow-glow"
            >
              Ver como funciona
            </a>
          </div>
          <!-- KPIs -->
          <div
            class="grid grid-cols-2 sm:grid-cols-4 gap-4 pt-6"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <div class="glass rounded-2xl p-4">
              <p class="text-sm text-slate-400">Capital levantado</p>
              <p class="text-2xl font-extrabold">R$ 500M+</p>
            </div>
            <div class="glass rounded-2xl p-4">
              <p class="text-sm text-slate-400">Tempo de aprovação</p>
              <p class="text-2xl font-extrabold">horas, não dias</p>
            </div>
            <div class="glass rounded-2xl p-4">
              <p class="text-sm text-slate-400">Processos automatizados</p>
              <p class="text-2xl font-extrabold">80%+</p>
            </div>
            <div class="glass rounded-2xl p-4">
              <p class="text-sm text-slate-400">Mercados</p>
              <p class="text-2xl font-extrabold">BR • EUA • CA • JP</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Tríade da Eficiência -->
      <section id="solucao" class="relative py-24 bg-black/70">
        <div
          class="absolute inset-x-0 -top-24 h-48 bg-gradient-to-b from-brand-600/10 to-transparent blur-3xl"
        ></div>
        <div class="mx-auto max-w-7xl px-6">
          <div class="text-center max-w-3xl mx-auto mb-14">
            <h2 class="text-3xl md:text-5xl font-extrabold tracking-tight">
              A Tríade da Eficiência
            </h2>
            <p class="mt-4 text-lg text-slate-400">
              Três pilares que garantem resultado superior, com automação ponta
              a ponta.
            </p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div
              class="glass rounded-2xl p-8 border border-slate-800 hover:border-brand-600 transition-all hover:-translate-y-1"
              data-aos="fade-up"
            >
              <div
                class="w-12 h-12 rounded-xl bg-brand-600 text-white flex items-center justify-center mb-6"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <rect x="4" y="4" width="16" height="16" rx="2" />
                  <rect x="9" y="9" width="6" height="6" />
                  <path
                    d="M9 1v3m6-3v3M9 20v3m6-3v3M20 9h3M20 14h3M1 9h3M1 14h3"
                  />
                </svg>
              </div>
              <h3 class="text-2xl font-bold">IA Proprietária</h3>
              <p class="text-slate-400 mt-2">
                Automatiza análises complexas e otimiza estratégias em tempo
                real para acelerar cada etapa.
              </p>
            </div>
            <div
              class="glass rounded-2xl p-8 border border-slate-800 hover:border-brand-600 transition-all hover:-translate-y-1"
              data-aos="fade-up"
              data-aos-delay="100"
            >
              <div
                class="w-12 h-12 rounded-xl bg-brand-600 text-white flex items-center justify-center mb-6"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
                  <path d="m9 12 2 2 4-4" />
                </svg>
              </div>
              <h3 class="text-2xl font-bold">Maturidade & Segurança</h3>
              <p class="text-slate-400 mt-2">
                Processo robusto, transparente e seguro que reduz risco e
                maximiza retorno.
              </p>
            </div>
            <div
              class="glass rounded-2xl p-8 border border-slate-800 hover:border-brand-600 transition-all hover:-translate-y-1"
              data-aos="fade-up"
              data-aos-delay="200"
            >
              <div
                class="w-12 h-12 rounded-xl bg-brand-600 text-white flex items-center justify-center mb-6"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M3 22h18" />
                  <path d="M6 18V9" />
                  <path d="M10 18V9" />
                  <path d="M14 18V9" />
                  <path d="M18 18V9" />
                  <path d="M12 2l8 5H4l8-5z" />
                </svg>
              </div>
              <h3 class="text-2xl font-bold">Banco Próprio</h3>
              <p class="text-slate-400 mt-2">
                Menos burocracia e operações automatizadas para controle e
                velocidade total.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Parceiros (marquee better) -->
      <section id="parceiros" class="py-20 bg-black/80">
        <div class="mx-auto max-w-7xl px-6">
          <h3 class="text-center text-2xl font-bold mb-10">
            Parceiros estratégicos
          </h3>
          <div class="relative overflow-hidden">
            <div
              class="flex gap-16 whitespace-nowrap will-change-transform"
              :style="{ transform: `translateX(${marqueeX}px)` }"
            >
              <template v-for="(logo, i) in marqueeLogos" :key="i">
                <img
                  :src="logo"
                  alt="parceiro"
                  class="h-12 opacity-70 hover:opacity-100 transition"
                  loading="lazy"
                />
              </template>
            </div>
            <div
              class="pointer-events-none absolute inset-y-0 left-0 w-24 bg-gradient-to-r from-black to-transparent"
            ></div>
            <div
              class="pointer-events-none absolute inset-y-0 right-0 w-24 bg-gradient-to-l from-black to-transparent"
            ></div>
          </div>
        </div>
      </section>

      <!-- CTA + Form -->
      <section id="contato" class="py-24 bg-black/70">
        <div
          class="mx-auto max-w-7xl px-6 grid grid-cols-1 lg:grid-cols-2 gap-10 items-start"
        >
          <div data-aos="fade-right">
            <h3 class="text-3xl md:text-5xl font-extrabold tracking-tight">
              Pronto para começar?
            </h3>
            <p class="mt-4 text-lg text-slate-400">
              Fale com um especialista ou preencha o formulário. É rápido.
            </p>
            <ul class="mt-8 space-y-4">
              <li class="flex items-start gap-3">
                <span
                  class="mt-1 w-8 h-8 rounded-xl bg-brand-600/20 flex items-center justify-center"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect width="20" height="16" x="2" y="4" rx="2" />
                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" /></svg
                ></span>
                <div>
                  <p class="font-semibold">Email</p>
                  <p class="text-slate-400">contato@fourcon.com.br</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <span
                  class="mt-1 w-8 h-8 rounded-xl bg-brand-600/20 flex items-center justify-center"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
                    /></svg
                ></span>
                <div>
                  <p class="font-semibold">Telefone</p>
                  <p class="text-slate-400">+55 (11) 4004-2024</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <span
                  class="mt-1 w-8 h-8 rounded-xl bg-brand-600/20 flex items-center justify-center"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
                    <circle cx="12" cy="10" r="3" /></svg
                ></span>
                <div>
                  <p class="font-semibold">Endereço</p>
                  <p class="text-slate-400">
                    Av. Paulista, 171, Andar 4, São Paulo - SP
                  </p>
                </div>
              </li>
            </ul>
          </div>

          <form
            @submit.prevent="submitForm"
            class="glass rounded-3xl p-6 md:p-8 border border-slate-800 w-full"
            data-aos="fade-left"
          >
            <h4 class="text-2xl font-bold mb-6">Fale com um especialista</h4>
            <div class="space-y-5">
              <!-- Floating label input component -->
              <div class="relative">
                <input
                  v-model="form.name"
                  id="name"
                  type="text"
                  required
                  class="peer w-full rounded-xl bg-slate-900/40 border border-slate-700 px-4 pt-6 pb-2 outline-none focus:ring-2 focus:ring-brand-600"
                  placeholder=" "
                />
                <label
                  for="name"
                  class="absolute left-3 top-2 text-slate-400 text-sm transition-all peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm"
                  >Nome</label
                >
              </div>
              <div class="relative">
                <input
                  v-model="form.email"
                  id="email"
                  type="email"
                  required
                  class="peer w-full rounded-xl bg-slate-900/40 border border-slate-700 px-4 pt-6 pb-2 outline-none focus:ring-2 focus:ring-brand-600"
                  placeholder=" "
                />
                <label
                  for="email"
                  class="absolute left-3 top-2 text-slate-400 text-sm transition-all peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm"
                  >Email</label
                >
              </div>
              <div class="relative">
                <input
                  v-model="form.phone"
                  id="phone"
                  type="tel"
                  class="peer w-full rounded-xl bg-slate-900/40 border border-slate-700 px-4 pt-6 pb-2 outline-none focus:ring-2 focus:ring-brand-600"
                  placeholder=" "
                />
                <label
                  for="phone"
                  class="absolute left-3 top-2 text-slate-400 text-sm transition-all peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm"
                  >Telefone</label
                >
              </div>
              <div class="relative">
                <textarea
                  v-model="form.message"
                  id="message"
                  rows="4"
                  class="peer w-full rounded-xl bg-slate-900/40 border border-slate-700 px-4 pt-6 pb-2 outline-none focus:ring-2 focus:ring-brand-600"
                  placeholder=" "
                ></textarea>
                <label
                  for="message"
                  class="absolute left-3 top-2 text-slate-400 text-sm transition-all peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm"
                  >Mensagem</label
                >
              </div>
              <button
                type="submit"
                class="w-full inline-flex items-center justify-center gap-2 rounded-2xl px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white shadow-glow"
              >
                Enviar mensagem
              </button>
              <p v-if="formStatus==='success'" class="text-emerald-400 text-sm">
                Mensagem enviada! Entraremos em contato em breve.
              </p>
              <p v-if="formStatus==='error'" class="text-rose-400 text-sm">
                Ops, tente novamente em instantes.
              </p>
            </div>
          </form>
        </div>
      </section>

      <!-- Login Drawer -->
      <aside
        class="fixed top-0 right-0 h-full w-full md:w-[480px] bg-black/70 backdrop-blur z-50 transition-transform duration-500"
        :class="loginOpen ? 'translate-x-0' : 'translate-x-full'"
        aria-label="Painel de login"
        data-testid="login-drawer"
      >
        <div class="relative h-full">
          <video
            class="absolute inset-0 w-full h-full object-cover opacity-20"
            autoplay
            muted
            loop
            playsinline
            poster="./fundo.jpg"
          >
            <source src="./hero.mp4" type="video/mp4" />
          </video>
          <div
            class="absolute inset-0 bg-gradient-to-b from-black/80 to-black/60"
          ></div>
          <div class="relative z-10 p-6 h-full flex flex-col">
            <div class="flex items-center justify-between">
              <h2 class="text-xl font-bold">Acesse sua conta</h2>
              <button
                @click="hideLogin"
                class="p-2 rounded-lg glass"
                aria-label="Fechar login"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
              </button>
            </div>
            <form
              @submit.prevent
              class="mt-8 glass rounded-2xl p-6 border border-slate-800"
            >
              <div class="space-y-4">
                <div class="relative">
                  <input
                    type="email"
                    class="peer w-full rounded-xl bg-slate-900/40 border border-slate-700 px-4 pt-6 pb-2 outline-none focus:ring-2 focus:ring-brand-600"
                    placeholder=" "
                  />
                  <label
                    class="absolute left-3 top-2 text-slate-400 text-sm transition-all peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm"
                    >Email</label
                  >
                </div>
                <div class="relative">
                  <input
                    type="password"
                    class="peer w-full rounded-xl bg-slate-900/40 border border-slate-700 px-4 pt-6 pb-2 outline-none focus:ring-2 focus:ring-brand-600"
                    placeholder=" "
                  />
                  <label
                    class="absolute left-3 top-2 text-slate-400 text-sm transition-all peer-placeholder-shown:top-3.5 peer-placeholder-shown:text-base peer-focus:top-2 peer-focus:text-sm"
                    >Senha</label
                  >
                </div>
                <button
                  class="w-full rounded-2xl px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white shadow-glow"
                >
                  Entrar
                </button>
              </div>
            </form>
            <p class="mt-4 text-xs text-slate-400">
              Ao continuar, você concorda com os Termos e a Política de
              Privacidade.
            </p>
            <div class="mt-auto text-center text-xs text-slate-500">
              © FourCon, 2025
            </div>
          </div>
        </div>
      </aside>

      <!-- Chat Bubble -->
      <div class="fixed bottom-5 right-5 z-50">
        <button
          @click="chatOpen = !chatOpen"
          class="bg-brand-600 text-white w-16 h-16 rounded-full flex items-center justify-center shadow-glow hover:scale-105 transition"
          aria-label="Abrir chat"
        >
          <svg
            v-if="!chatOpen"
            xmlns="http://www.w3.org/2000/svg"
            class="h-7 w-7"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z" />
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
            <path d="M12 17h.01" />
          </svg>
          <svg
            v-else
            xmlns="http://www.w3.org/2000/svg"
            class="h-7 w-7"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
        </button>
        <div
          v-show="chatOpen"
          class="mt-3 w-80 sm:w-96 h-[520px] glass rounded-2xl border border-slate-800 shadow-2xl overflow-hidden"
          data-testid="chat-widget"
        >
          <div class="p-4 border-b border-slate-800 flex items-center gap-3">
            <div
              class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center"
            >
              <svg
                class="w-6 h-6"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <defs>
                  <linearGradient id="grad1-chat" x1="0" y1="0" x2="1" y2="1">
                    <stop offset="0%" stop-color="#E2E8F0" />
                    <stop offset="100%" stop-color="#94A3B8" />
                  </linearGradient>
                </defs>
                <path
                  d="M36.14 2.86A19 19 0 1 0 36.14 37.14"
                  stroke="url(#grad1-chat)"
                  stroke-width="4"
                  fill="none"
                  stroke-linecap="round"
                />
                <path
                  d="M29 11 L12 20 L29 29 L29 24.5 L17 20 L29 15.5Z"
                  fill="#4F46E5"
                />
              </svg>
            </div>
            <div>
              <p class="font-semibold leading-none">Assistente FourCon</p>
              <p class="text-xs text-slate-400">online</p>
            </div>
          </div>
          <div class="h-[380px] overflow-y-auto p-4 no-scrollbar" ref="chatbox">
            <div
              v-for="m in messages"
              :key="m.id"
              class="mb-3 flex"
              :class="m.sender==='user' ? 'justify-end' : 'justify-start'"
            >
              <span
                class="max-w-[75%] rounded-2xl px-3 py-2"
                :class="m.sender==='user' ? 'bg-brand-600 text-white rounded-br-none' : 'bg-slate-800 text-slate-200 rounded-bl-none'"
                >{{ m.text }}</span
              >
            </div>
            <div v-if="typing" class="flex items-center gap-2 text-slate-400">
              <span
                class="w-2 h-2 rounded-full bg-slate-500 animate-pulse"
              ></span>
              <span
                class="w-2 h-2 rounded-full bg-slate-500 animate-pulse"
                style="animation-delay: 0.2s"
              ></span>
              <span
                class="w-2 h-2 rounded-full bg-slate-500 animate-pulse"
                style="animation-delay: 0.4s"
              ></span>
            </div>
          </div>
          <form
            @submit.prevent="sendMessage"
            class="border-t border-slate-800 p-3"
          >
            <div class="relative">
              <input
                v-model="userInput"
                type="text"
                placeholder="Digite sua dúvida…"
                class="w-full bg-slate-900/60 border border-slate-700 rounded-xl py-2 pl-3 pr-12 outline-none focus:ring-2 focus:ring-brand-600"
              />
              <button
                type="submit"
                class="absolute right-2 top-1/2 -translate-y-1/2 text-brand-100 hover:text-purple-800"
                aria-label="Enviar"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="m3 3 3 9-3 9 19-9Z" />
                  <path d="M6 12h16" />
                </svg>
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Self-tests (dev only) -->
      <div
        class="sr-only"
        aria-hidden="true"
        id="self-tests"
        data-testid="self-tests"
      ></div>
    </div>

    <script>
      const { createApp, ref, onMounted, nextTick } = Vue;
      const App = {
        setup() {
          const isDark = ref(true);
          const mobileOpen = ref(false);
          const loginOpen = ref(false);
          const chatOpen = ref(false);
          const userInput = ref("");
          const messages = ref([
            {
              id: 1,
              text: "Olá! Como posso acelerar seu capital hoje?",
              sender: "ia",
            },
          ]);
          const typing = ref(false);
          const chatbox = ref(null);

          // Form (keep as ref so template unwrap works with v-model)
          const form = ref({ name: "", email: "", phone: "", message: "" });
          const formStatus = ref("");

          // Marquee
          const baseLogos = [
            "https://tailwindui.com/img/logos/158x48/tuple-logo-white.svg",
            "https://tailwindui.com/img/logos/158x48/reform-logo-white.svg",
            "https://tailwindui.com/img/logos/158x48/savvycal-logo-white.svg",
            "https://tailwindui.com/img/logos/158x48/laravel-logo-white.svg",
            "https://tailwindui.com/img/logos/158x48/transistor-logo-white.svg",
            "https://tailwindui.com/img/logos/158x48/statamic-logo-white.svg",
          ];
          const marqueeLogos = ref([...baseLogos, ...baseLogos, ...baseLogos]);
          const marqueeX = ref(0);

          const toggleTheme = () => {
            isDark.value = !isDark.value;
            const root = document.documentElement;
            root.classList.toggle("dark", isDark.value);
            try {
              localStorage.setItem(
                "fourcon-theme",
                isDark.value ? "dark" : "light"
              );
            } catch (e) {}
          };

          const showLogin = () => (loginOpen.value = true);
          const hideLogin = () => (loginOpen.value = false);

          const scrollToBottom = () =>
            nextTick(() => {
              if (chatbox.value)
                chatbox.value.scrollTop = chatbox.value.scrollHeight;
            });

          const sendMessage = () => {
            if (!userInput.value.trim()) return;
            messages.value.push({
              id: Date.now(),
              text: userInput.value,
              sender: "user",
            });
            userInput.value = "";
            scrollToBottom();
            typing.value = true;
            setTimeout(() => {
              messages.value.push({
                id: Date.now() + 1,
                text: "Obrigado! Um especialista entrará em contato em breve.",
                sender: "ia",
              });
              typing.value = false;
              scrollToBottom();
            }, 800);
          };

          const submitForm = async () => {
            try {
              // Simulação: substitua por fetch real
              await new Promise((r) => setTimeout(r, 600));
              formStatus.value = "success";
              // Limpeza preservando a referência (evita quebrar v-model)
              form.value.name = "";
              form.value.email = "";
              form.value.phone = "";
              form.value.message = "";
            } catch (e) {
              formStatus.value = "error";
            } finally {
              setTimeout(() => (formStatus.value = ""), 2500);
            }
          };

          onMounted(() => {
            // Tema persistido
            try {
              const saved = localStorage.getItem("fourcon-theme");
              if (saved) {
                isDark.value = saved === "dark";
                document.documentElement.classList.toggle("dark", isDark.value);
              }
            } catch (e) {}

            // AOS init (se disponível)
            if (typeof window !== "undefined" && window.AOS) {
              window.AOS.init({ offset: 60, duration: 700, once: true });
            }

            // Marquee loop (com fallback)
            let x = 0;
            const speed = 0.4;
            const step = () => {
              x -= speed;
              marqueeX.value = x % -800;
              (window.requestAnimationFrame || setTimeout)(step, 16);
            };
            (window.requestAnimationFrame || setTimeout)(step, 16);

            // Self-tests
            try {
              const results = [];
              results.push([
                "has toggleTheme",
                typeof toggleTheme === "function",
              ]);
              results.push([
                "has showLogin/hideLogin",
                typeof showLogin === "function" &&
                  typeof hideLogin === "function",
              ]);
              results.push([
                "state refs exist",
                [
                  isDark,
                  mobileOpen,
                  loginOpen,
                  chatOpen,
                  userInput,
                  messages,
                  typing,
                ].every((r) => r && typeof r === "object"),
              ]);
              results.push([
                "form reactive",
                !!form.value &&
                  typeof form.value === "object" &&
                  "name" in form.value,
              ]);
              const el = document.getElementById("self-tests");
              if (el)
                el.textContent =
                  "SELF-TESTS: " +
                  results.map(([k, v]) => `${k}=${v}`).join(" | ");
              console.info("[FourCon] Self-tests:", results);
            } catch (err) {
              console.warn("Self-tests failed", err);
            }
          });

          return {
            isDark,
            mobileOpen,
            loginOpen,
            chatOpen,
            userInput,
            messages,
            typing,
            chatbox,
            toggleTheme,
            sendMessage,
            showLogin,
            hideLogin,
            form,
            formStatus,
            submitForm,
            marqueeLogos,
            marqueeX,
          };
        },
      };

      const app = createApp(App);
      // Removido lucide-vue-next para evitar ReferenceError em ambientes CDN
      app.mount("#app");
    </script>
  </body>
</html>
